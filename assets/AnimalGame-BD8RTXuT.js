import{r as s,j as e}from"./index-dxj7E4H-.js";import{L as I,m as d}from"./Layout-CmlOHSNV.js";import{G as M}from"./GameShell-CODfseyM.js";import{e as Q}from"./confetti.module-BS7HiWFO.js";import{S as C}from"./SpeakableOption-VQPfJW7d.js";import{u as F}from"./use-tts-BqW3F_mk.js";import"./use-scores-D77kwo0O.js";import"./input-R0n0rv70.js";const m=[{id:"dog",emoji:"ðŸ•",name:"ç‹—",sound:"æ±ªæ±ª",habitat:"å®¶è£¡"},{id:"cat",emoji:"ðŸˆ",name:"è²“",sound:"å–µå–µ",habitat:"å®¶è£¡"},{id:"cow",emoji:"ðŸ„",name:"ç‰›",sound:"å“žå“ž",habitat:"è¾²å ´"},{id:"pig",emoji:"ðŸ·",name:"è±¬",sound:"å‘¼åš•å‘¼åš•",habitat:"è¾²å ´"},{id:"chicken",emoji:"ðŸ”",name:"é›ž",sound:"å’•å’•å’•",habitat:"è¾²å ´"},{id:"duck",emoji:"ðŸ¦†",name:"é´¨",sound:"å‘±å‘±å‘±",habitat:"è¾²å ´"},{id:"lion",emoji:"ðŸ¦",name:"ç…å­",sound:"å¼å¼",habitat:"è‰åŽŸ"},{id:"elephant",emoji:"ðŸ˜",name:"å¤§è±¡",sound:"å™—å™—",habitat:"è‰åŽŸ"},{id:"monkey",emoji:"ðŸµ",name:"çŒ´å­",sound:"å±å±",habitat:"æ£®æž—"},{id:"bird",emoji:"ðŸ¦",name:"å°é³¥",sound:"å•¾å•¾",habitat:"å¤©ç©º"},{id:"fish",emoji:"ðŸŸ",name:"é­š",sound:"å’•åš•å’•åš•",habitat:"æµ·æ´‹"},{id:"rabbit",emoji:"ðŸ°",name:"å…”å­",sound:"å±å±",habitat:"è‰åœ°"}];function J(){const[o,l]=s.useState(0),[p,c]=s.useState(0),[a,b]=s.useState(m[0]),[j,f]=s.useState([]),[g,u]=s.useState(!1),[y,x]=s.useState(!1),[i,S]=s.useState("name"),{speak:v}=F(),h=()=>{if(o>=10){u(!0);return}const n=["name","sound","habitat"][o%3];S(n);const r=m[Math.floor(Math.random()*m.length)];b(r);const A=m.filter(G=>G.id!==r.id).sort(()=>.5-Math.random()).slice(0,3),O=[r,...A].sort(()=>.5-Math.random());f(O)};s.useEffect(()=>{h()},[o]);const w=t=>{t===a.id?(Q({particleCount:30,spread:50,origin:{y:.7},colors:["#FFD93D","#6BCB77","#4D96FF"]}),c(n=>n+10),setTimeout(()=>l(n=>n+1),500)):(x(!0),setTimeout(()=>x(!1),500))},T=()=>{v(`${a.name}çš„å«è²æ˜¯${a.sound}`)},k=()=>{l(0),c(0),u(!1),h()},N=()=>{switch(i){case"name":return"é€™æ˜¯ä»€éº¼å‹•ç‰©ï¼Ÿ";case"sound":return`å“ªå€‹å‹•ç‰©æœƒç™¼å‡ºã€Œ${a.sound}ã€çš„è²éŸ³ï¼Ÿ`;case"habitat":return`å“ªå€‹å‹•ç‰©ä½åœ¨${a.habitat}ï¼Ÿ`}},$=t=>`${t.emoji} ${t.name}`;return e.jsx(I,{children:e.jsx(M,{title:"å‹•ç‰©çŽ‹åœ‹",score:p,totalQuestions:10,currentQuestionIndex:o,gameType:"animal",isGameOver:g,onRestart:k,colorClass:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))]",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[i==="name"&&e.jsx(d.div,{animate:{scale:[.9,1.1,1],rotate:y?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem] cursor-pointer",onClick:T,"data-testid":"animal-emoji",children:a.emoji}),i==="sound"&&e.jsx(d.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:e.jsxs("div",{className:"text-4xl md:text-6xl font-bold text-center",children:["ã€Œ",a.sound,"ã€"]})}),i==="habitat"&&e.jsx(d.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:e.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["ðŸ  ",a.habitat]})}),e.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:N()}),e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:j.map((t,n)=>e.jsx(C,{speakText:t.name,onSelect:()=>w(t.id),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-yellow-dark))] hover:bg-white/90","data-testid":`button-animal-${t.id}`,children:$(t)},t.id+n))})]})})})}export{J as default};
