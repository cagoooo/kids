import{r as o,j as e}from"./index-BAFbHnVU.js";import{L as T,A as k,m as g,V as I}from"./Layout-DFwKD3LY.js";import{G as A,c as L}from"./GameShell-umGkXZuk.js";import{u as D}from"./use-tts-CT6lh570.js";import"./use-scores-DiF6HJ8X.js";import"./useQuery-_qmAEel5.js";import"./dialog-CWCHvEy3.js";import"./input-DK6-qLvW.js";const l=[{word:"è˜‹æžœ",emoji:"ðŸŽ",initial:"ã„†",pinyin:"pÃ­ng guÇ’"},{word:"é¦™è•‰",emoji:"ðŸŒ",initial:"ã„’",pinyin:"xiÄng jiÄo"},{word:"è²“å’ª",emoji:"ðŸ±",initial:"ã„‡",pinyin:"mÄo mÄ«"},{word:"ç‹—ç‹—",emoji:"ðŸ¶",initial:"ã„",pinyin:"gÇ’u gÇ’u"},{word:"å…”å­",emoji:"ðŸ°",initial:"ã„Š",pinyin:"tÃ¹ zi"},{word:"å¤ªé™½",emoji:"â˜€ï¸",initial:"ã„Š",pinyin:"tÃ i yÃ¡ng"},{word:"æœˆäº®",emoji:"ðŸŒ™",initial:"ã„©",pinyin:"yuÃ¨ liÃ ng"},{word:"æ˜Ÿæ˜Ÿ",emoji:"â­",initial:"ã„’",pinyin:"xÄ«ng xÄ«ng"},{word:"èŠ±æœµ",emoji:"ðŸŒ¸",initial:"ã„",pinyin:"huÄ duÇ’"},{word:"è´è¶",emoji:"ðŸ¦‹",initial:"ã„",pinyin:"hÃº diÃ©"},{word:"é³¥å…’",emoji:"ðŸ¦",initial:"ã„‹",pinyin:"niÇŽo Ã©r"},{word:"é­šå…’",emoji:"ðŸ ",initial:"ã„©",pinyin:"yÃº Ã©r"}],E=["ã„…","ã„†","ã„‡","ã„ˆ","ã„‰","ã„Š","ã„‹","ã„Œ","ã„","ã„Ž","ã„","ã„","ã„‘","ã„’","ã„“","ã„”","ã„•","ã„–","ã„—","ã„˜","ã„™","ã„§","ã„¨","ã„©"];function _(){const[a,r]=o.useState(0),[f,m]=o.useState(0),[n,b]=o.useState(l[0]),[j,w]=o.useState([]),[y,d]=o.useState(!1),[c,u]=o.useState([]),[v,x]=o.useState(-100),[h,p]=o.useState([]),{speak:i}=D(),N=()=>{if(a>=10){d(!0);return}const s=l[Math.floor(Math.random()*l.length)];b(s);const t=E.filter(O=>O!==s.initial).sort(()=>.5-Math.random()).slice(0,2);w([s.initial,...t].sort(()=>.5-Math.random())),u([]),p([]),x(-100),setTimeout(()=>{x(50),i(`${s.word}çš„è²æ¯æ˜¯ä»€éº¼ï¼Ÿ`)},100)};o.useEffect(()=>{N()},[a]);const S=s=>{if(!c.includes(s)){if(!h.includes(s)){i(s),p(t=>[...t,s]);return}u(t=>[...t,s]),s===n.initial?(L({particleCount:50,spread:70,colors:["#FFC0CB","#87CEEB","#98FB98","#DDA0DD"],origin:{y:.3}}),i("å¤ªæ£’äº†ï¼ç­”å°äº†ï¼"),m(t=>t+10),setTimeout(()=>r(t=>t+1),1e3)):i("å†è©¦è©¦çœ‹ï¼")}},B=()=>{r(0),m(0),d(!1)},C=["bg-[hsl(var(--macaron-pink))]","bg-[hsl(var(--macaron-blue))]","bg-[hsl(var(--macaron-green))]"];return e.jsx(T,{children:e.jsx(A,{title:"æ³¨éŸ³å°ç«è»Š",score:f,totalQuestions:10,currentQuestionIndex:a,gameType:"bopomofo",isGameOver:y,onRestart:B,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6 relative overflow-hidden min-h-[350px] sm:min-h-[400px]",children:[e.jsx("div",{className:"flex gap-3 sm:gap-4 md:gap-6 justify-center",children:j.map((s,t)=>e.jsx(k,{children:!c.includes(s)&&e.jsxs(g.button,{initial:{scale:0,y:-50},animate:{scale:1,y:0},exit:{scale:0,opacity:0,y:-100},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(s),className:`
                      w-16 h-20 sm:w-20 sm:h-24 md:w-24 md:h-28 rounded-full relative
                      ${C[t%3]}
                      shadow-lg flex items-center justify-center
                      cursor-pointer
                    `,"data-testid":`balloon-${s}`,children:[e.jsx("span",{className:"font-display text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:s}),e.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center ${h.includes(s)?"bg-green-500":"bg-orange-400"}`,children:e.jsx(I,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:"absolute -bottom-4 sm:-bottom-6 w-0.5 h-4 sm:h-6 bg-gray-400"})]})},s))}),e.jsxs("div",{className:"bg-white/40 px-4 sm:px-6 py-2 sm:py-3 rounded-xl sm:rounded-2xl mt-2 sm:mt-4",children:[e.jsxs("h3",{className:"font-display text-lg sm:text-xl font-bold text-center",children:["ã€Œ",n.word,"ã€çš„è²æ¯æ˜¯ä»€éº¼ï¼Ÿ"]}),e.jsx("p",{className:"text-center text-xs sm:text-sm opacity-70",children:"æˆ³ç ´æ­£ç¢ºçš„æ°£çƒï¼"})]}),e.jsxs(g.div,{animate:{x:v},transition:{type:"spring",stiffness:50},className:"absolute bottom-0 flex items-end scale-75 sm:scale-90 md:scale-100 origin-bottom",children:[e.jsxs("div",{className:"bg-[hsl(var(--macaron-pink))] w-24 h-16 rounded-t-2xl relative",children:[e.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 bg-white rounded-full"}),e.jsx("div",{className:"absolute bottom-0 left-2 w-8 h-8 bg-gray-700 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-2 w-8 h-8 bg-gray-700 rounded-full"}),e.jsx("div",{className:"absolute -top-4 right-2 w-4 h-6 bg-gray-600 rounded-t-full"})]}),e.jsxs("div",{className:"bg-[hsl(var(--macaron-yellow))] w-20 h-14 rounded-t-xl ml-1 flex items-center justify-center relative",children:[e.jsx("span",{className:"text-4xl",children:n.emoji}),e.jsx("div",{className:"absolute bottom-0 left-2 w-6 h-6 bg-gray-700 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-2 w-6 h-6 bg-gray-700 rounded-full"})]})]}),e.jsx("div",{className:"absolute bottom-0 w-full h-3 sm:h-4 bg-amber-800 flex items-center overflow-hidden",children:[...Array(20)].map((s,t)=>e.jsx("div",{className:"w-6 sm:w-8 h-1.5 sm:h-2 bg-amber-600 mx-1 sm:mx-2 flex-shrink-0"},t))})]})})})}export{_ as default};
