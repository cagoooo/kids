import{r as a,j as e}from"./index-CD2wNbFC.js";import{u as p}from"./use-tts-DqP_SXTa.js";import{m as r,V as g}from"./Layout-DFM5YMEB.js";function N({children:l,speakText:m,onSelect:i,className:c="","data-testid":u}){const{speak:x}=p(),[t,o]=a.useState(!1),[s,d]=a.useState(!1),n=a.useRef(null),f=()=>{s?i():(x(m),o(!0),d(!0),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{o(!1)},1500))},h=()=>{i()};return e.jsxs(r.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:f,onDoubleClick:h,className:`relative ${c}`,"data-testid":u,children:[e.jsx(r.div,{className:`absolute -top-1 -right-1 sm:-top-2 sm:-right-2 w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center z-10 transition-colors ${t?"bg-green-500 text-white":s?"bg-green-100 text-green-600":"bg-orange-400 text-white"}`,animate:t?{scale:[1,1.2,1]}:{},transition:{repeat:t?1/0:0,duration:.5},children:e.jsx(g,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),l,!s&&e.jsx("div",{className:"absolute -bottom-5 sm:-bottom-6 left-0 right-0 text-center",children:e.jsx("span",{className:"text-[10px] sm:text-xs text-orange-600 font-medium bg-orange-50 px-2 py-0.5 rounded-full",children:"先聽聽看"})}),s&&!t&&e.jsx("div",{className:"absolute -bottom-5 sm:-bottom-6 left-0 right-0 text-center",children:e.jsx("span",{className:"text-[10px] sm:text-xs text-green-600 font-medium bg-green-50 px-2 py-0.5 rounded-full",children:"再按確定"})})]})}export{N as S};
