import{r as s,j as t}from"./index-dxj7E4H-.js";import{L as E,m as f}from"./Layout-CmlOHSNV.js";import{G as I}from"./GameShell-CODfseyM.js";import{e as O}from"./confetti.module-BS7HiWFO.js";import{S as G}from"./SpeakableOption-VQPfJW7d.js";import"./use-scores-D77kwo0O.js";import"./input-R0n0rv70.js";import"./use-tts-BqW3F_mk.js";const o=[{id:"car",emoji:"ðŸš—",name:"æ±½è»Š",where:"é¦¬è·¯"},{id:"bus",emoji:"ðŸšŒ",name:"å…¬è»Š",where:"é¦¬è·¯"},{id:"taxi",emoji:"ðŸš•",name:"è¨ˆç¨‹è»Š",where:"é¦¬è·¯"},{id:"truck",emoji:"ðŸšš",name:"å¡è»Š",where:"é¦¬è·¯"},{id:"motorcycle",emoji:"ðŸï¸",name:"æ‘©æ‰˜è»Š",where:"é¦¬è·¯"},{id:"bicycle",emoji:"ðŸš²",name:"è…³è¸è»Š",where:"è…³è¸è»Šé“"},{id:"train",emoji:"ðŸšƒ",name:"ç«è»Š",where:"éµè»Œ"},{id:"airplane",emoji:"âœˆï¸",name:"é£›æ©Ÿ",where:"å¤©ç©º"},{id:"ship",emoji:"ðŸš¢",name:"èˆ¹",where:"æµ·ä¸Š"},{id:"helicopter",emoji:"ðŸš",name:"ç›´å‡æ©Ÿ",where:"å¤©ç©º"},{id:"ambulance",emoji:"ðŸš‘",name:"æ•‘è­·è»Š",where:"é¦¬è·¯"},{id:"firetruck",emoji:"ðŸš’",name:"æ¶ˆé˜²è»Š",where:"é¦¬è·¯"}],c=[{question:"ç´…ç‡ˆäº®äº†ï¼Œæˆ‘å€‘æ‡‰è©²ï¼Ÿ",correct:"åœä¸‹ä¾†ç­‰å¾…",wrong:["ç¹¼çºŒèµ°","è·‘æ­¥éŽåŽ»","å¾€å¾Œé€€"]},{question:"ç¶ ç‡ˆäº®äº†ï¼Œæˆ‘å€‘å¯ä»¥ï¼Ÿ",correct:"å°å¿ƒé€šéŽ",wrong:["ç¹¼çºŒç­‰å¾…","é–‰çœ¼èµ°","ä¸çœ‹è»Šå°±èµ°"]},{question:"éŽé¦¬è·¯æ™‚è¦ï¼Ÿ",correct:"å·¦çœ‹å³çœ‹",wrong:["é–‰è‘—çœ¼ç›","é‚Šè·‘é‚ŠéŽ","ä¸ç”¨çœ‹è»Š"]},{question:"åœ¨äººè¡Œé“ä¸Šæ‡‰è©²ï¼Ÿ",correct:"æ…¢æ…¢èµ°",wrong:["è·‘ä¾†è·‘åŽ»","é¨Žè…³è¸è»Š","çŽ©æ»‘æ¿"]},{question:"çœ‹åˆ°æ•‘è­·è»Šä¾†äº†ï¼Œæˆ‘å€‘æ‡‰è©²ï¼Ÿ",correct:"è®“è·¯çµ¦å®ƒå…ˆéŽ",wrong:["æ¶åœ¨å®ƒå‰é¢","ä¸ç”¨ç†å®ƒ","è·Ÿè‘—å®ƒè·‘"]}];function U(){const[a,m]=s.useState(0),[g,l]=s.useState(0),[j,w]=s.useState(o[0]),[S,d]=s.useState([]),[b,u]=s.useState(!1),[v,x]=s.useState(!1),[y,T]=s.useState("vehicle"),[k,q]=s.useState(c[0]),[F,h]=s.useState(""),p=()=>{if(a>=10){u(!0);return}const r=a<6;if(T(r?"vehicle":"rule"),r){const e=o[Math.floor(Math.random()*o.length)];w(e);const n=o.filter(i=>i.id!==e.id).sort(()=>.5-Math.random()).slice(0,3),R=[e.name,...n.map(i=>i.name)].sort(()=>.5-Math.random());d(R),h(e.name)}else{const e=c[(a-6)%c.length];q(e);const n=[e.correct,...e.wrong].sort(()=>.5-Math.random());d(n),h(e.correct)}};s.useEffect(()=>{p()},[a]);const N=r=>{r===F?(O({particleCount:30,spread:50,origin:{y:.7},colors:["#4D96FF","#6BCB77","#FFD93D"]}),l(e=>e+10),setTimeout(()=>m(e=>e+1),500)):(x(!0),setTimeout(()=>x(!1),500))},C=()=>{m(0),l(0),u(!1),p()};return t.jsx(E,{children:t.jsx(I,{title:"äº¤é€šå°é”äºº",score:g,totalQuestions:10,currentQuestionIndex:a,gameType:"traffic",isGameOver:b,onRestart:C,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:t.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[y==="vehicle"?t.jsxs(t.Fragment,{children:[t.jsx(f.div,{animate:{scale:[.9,1.1,1],rotate:v?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:j.emoji}),t.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:"é€™æ˜¯ä»€éº¼äº¤é€šå·¥å…·ï¼Ÿ"})]}):t.jsx(t.Fragment,{children:t.jsxs(f.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl flex items-center gap-4",children:[t.jsx("span",{className:"text-5xl md:text-6xl",children:"ðŸš¦"}),t.jsx("span",{className:"text-xl md:text-2xl font-bold",children:k.question})]})}),t.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:S.map((r,e)=>t.jsx(G,{speakText:r,onSelect:()=>N(r),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-blue-dark))] hover:bg-white/90","data-testid":`button-traffic-${e}`,children:r},r+e))})]})})})}export{U as default};
