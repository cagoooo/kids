import{r as s,j as n}from"./index-WfsaVO51.js";import{L as B,m as x}from"./Layout-D47jGtOx.js";import{G,c as H}from"./GameShell-BPG8gTwq.js";import{S as I}from"./SpeakableOption-BlJ4wnAp.js";import"./use-scores-DDC_3-nm.js";import"./useQuery-Cuz5Uli3.js";import"./dialog-DbPeJPZd.js";import"./input-IuFJ11Qa.js";import"./use-tts-CR0zriMR.js";const r=[{id:"head",name:"é ­",function:"æ€è€ƒ",emoji:"ðŸ§ "},{id:"eye",name:"çœ¼ç›",function:"çœ‹æ±è¥¿",emoji:"ðŸ‘ï¸"},{id:"ear",name:"è€³æœµ",function:"è½è²éŸ³",emoji:"ðŸ‘‚"},{id:"nose",name:"é¼»å­",function:"èžå‘³é“",emoji:"ðŸ‘ƒ"},{id:"mouth",name:"å˜´å·´",function:"åƒæ±è¥¿å’Œèªªè©±",emoji:"ðŸ‘„"},{id:"hand",name:"æ‰‹",function:"æ‹¿æ±è¥¿",emoji:"âœ‹"},{id:"foot",name:"è…³",function:"èµ°è·¯",emoji:"ðŸ¦¶"},{id:"heart",name:"å¿ƒè‡Ÿ",function:"è®“è¡€æ¶²æµå‹•",emoji:"â¤ï¸"}],p=[{question:"æ—©ä¸Šèµ·åºŠå¾Œè¦åšä»€éº¼ï¼Ÿ",correct:"åˆ·ç‰™æ´—è‡‰",wrong:["åƒç³–æžœ","çœ‹é›»è¦–","ç¹¼çºŒç¡"]},{question:"åƒé£¯å‰è¦åšä»€éº¼ï¼Ÿ",correct:"æ´—æ‰‹",wrong:["çŽ©æ‰‹æ©Ÿ","è·‘æ­¥","ç•«ç•«"]},{question:"é‹å‹•å¾Œè¦åšä»€éº¼ï¼Ÿ",correct:"å–æ°´ä¼‘æ¯",wrong:["åƒå†°æ·‡æ·‹","ç¹¼çºŒè·‘","ä¸ç”¨ç®¡"]},{question:"æ™šä¸Šå¹¾é»žè©²ç¡è¦ºï¼Ÿ",correct:"ä¹é»žå·¦å³",wrong:["åäºŒé»ž","ä¸ç”¨ç¡","å‡Œæ™¨"]},{question:"ä¿è­·çœ¼ç›è¦æ€Žéº¼åšï¼Ÿ",correct:"å°‘çœ‹èž¢å¹•å¤šä¼‘æ¯",wrong:["ä¸€ç›´çœ‹é›»è¦–","åœ¨é»‘æš—ä¸­çœ‹æ›¸","ä¸çœ¨çœ¼ç›"]}];function $(){const[o,h]=s.useState(0),[w,f]=s.useState(0),[c,g]=s.useState(r[0]),[y,m]=s.useState([]),[v,j]=s.useState(!1),[T,b]=s.useState(!1),[i,l]=s.useState("part"),[k,N]=s.useState(p[0]),[q,d]=s.useState(""),S=()=>{if(o>=10){j(!0);return}if(o<4){l("part");const t=r[o%r.length];g(t);const e=r.filter(a=>a.id!==t.id).sort(()=>.5-Math.random()).slice(0,3),u=[t.name,...e.map(a=>a.name)].sort(()=>.5-Math.random());m(u),d(t.name)}else if(o<7){l("function");const t=r[(o-4)%r.length];g(t);const e=r.filter(a=>a.id!==t.id).sort(()=>.5-Math.random()).slice(0,3),u=[t.name,...e.map(a=>a.name)].sort(()=>.5-Math.random());m(u),d(t.name)}else{l("habit");const t=p[(o-7)%p.length];N(t);const e=[t.correct,...t.wrong].sort(()=>.5-Math.random());m(e),d(t.correct)}};s.useEffect(()=>{S()},[o]);const O=t=>{t===q?(H({particleCount:30,spread:50,origin:{y:.7},colors:["#FF99CC","#6BCB77","#4D96FF"]}),f(e=>e+10),setTimeout(()=>h(e=>e+1),500)):(b(!0),setTimeout(()=>b(!1),500))},C=()=>{h(0),f(0),j(!1),S()},A=()=>{switch(i){case"part":return"é€™æ˜¯èº«é«”çš„å“ªå€‹éƒ¨ä½ï¼Ÿ";case"function":return`å“ªå€‹éƒ¨ä½å¯ä»¥ã€Œ${c.function}ã€ï¼Ÿ`;case"habit":return k.question}};return n.jsx(B,{children:n.jsx(G,{title:"æˆ‘çš„èº«é«”",score:w,totalQuestions:10,currentQuestionIndex:o,gameType:"body",isGameOver:v,onRestart:C,colorClass:"bg-[hsl(var(--macaron-pink))] text-[hsl(var(--macaron-pink-dark))]",children:n.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[i==="part"&&n.jsx(x.div,{animate:{scale:[.9,1.1,1],rotate:T?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:c.emoji}),i==="function"&&n.jsx(x.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:n.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["ã€Œ",c.function,"ã€"]})}),i==="habit"&&n.jsx(x.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl flex items-center gap-4",children:n.jsx("span",{className:"text-5xl md:text-6xl",children:"ðŸ’ª"})}),n.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center px-4",children:A()}),n.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:y.map((t,e)=>n.jsx(I,{speakText:t,onSelect:()=>O(t),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-pink-dark))] hover:bg-white/90","data-testid":`button-body-${e}`,children:t},t+e))})]})})})}export{$ as default};
