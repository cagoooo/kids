import{c as h,l as p,j as e,S as m}from"./index-BKJHQ17t.js";import{L as u,m as x,S as g}from"./Layout-BFBCft2f.js";import{u as b,D as f,a as y}from"./core.esm-DqN8Ouha.js";import{L as v}from"./lock-B0N0huxB.js";const w=h("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);function j({id:a,emoji:o,name:i,x:t,y:l}){const{attributes:r,listeners:n,setNodeRef:d,transform:s}=y({id:`sticker-${a}`}),c=s?{transform:`translate3d(${s.x}px, ${s.y}px, 0)`}:void 0;return e.jsxs("div",{ref:d,style:{position:"absolute",left:t,top:l,...c},...n,...r,className:"cursor-move select-none flex flex-col items-center group z-10",children:[e.jsx("div",{className:"text-5xl sm:text-6xl drop-shadow-md transition-transform group-hover:scale-110 active:scale-125",children:o}),e.jsx("span",{className:"bg-white/80 px-2 py-0.5 rounded-full text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:i})]})}function N(){const{collectedStickers:a,stickerPositions:o,updateStickerPosition:i}=p(),{setNodeRef:t}=b({id:"canvas"}),l=r=>{const{active:n,delta:d}=r,s=parseInt(n.id.toString().replace("sticker-","")),c=o[s]||{x:50,y:50};i(s,Math.max(0,Math.min(c.x+d.x,window.innerWidth-100)),Math.max(0,Math.min(c.y+d.y,500)))};return e.jsx(f,{onDragEnd:l,children:e.jsxs("div",{ref:t,className:"w-full h-[600px] bg-white rounded-[1.5rem] relative overflow-hidden cursor-crosshair group",style:{backgroundImage:"radial-gradient(#e0e0e0 1px, transparent 1px), linear-gradient(to bottom, transparent 19px, #d4f1f9 20px)",backgroundSize:"20px 20px, 100% 20px"},children:[e.jsx("div",{className:"absolute top-4 left-4 text-blue-300 font-bold text-xl opacity-30 pointer-events-none select-none",children:"Sticker Book"}),e.jsxs("div",{className:"absolute top-4 right-4 text-gray-400 bg-white/80 px-3 py-1 rounded-full shadow-sm flex items-center gap-2 pointer-events-none border border-gray-100",children:[e.jsx(w,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold",children:"æŒ‰ä½è²¼ç´™å¯ä»¥ç§»å‹•ä½ç½®å–”ï¼"})]}),a.map(r=>{const n=m.find(s=>s.id===r);if(!n)return null;const d=o[r]||{x:Math.random()*200+50,y:Math.random()*200+50};return e.jsx(j,{id:r,emoji:n.emoji,name:n.name,x:d.x,y:d.y},r)}),a.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground/50 font-bold text-xl",children:"é‚„æ²’æœ‰è²¼ç´™å–”ï¼Œå¿«å»ç©éŠæˆ²æ”¶é›†ï¼"})]})})}function z(){const{collectedStickers:a}=p(),o=a.length,i=m.length;return e.jsx(u,{children:e.jsxs("div",{className:"space-y-6 md:space-y-8 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center space-y-4 py-6 bg-white/50 backdrop-blur-sm rounded-[3rem] shadow-sm border-2 border-white/50",children:[e.jsx(x.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"inline-block",children:e.jsx("h1",{className:"font-display text-4xl sm:text-5xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-red-400 drop-shadow-sm tracking-tight mb-2",children:"æˆ‘çš„è²¼ç´™ç°¿"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-lg text-gray-600 font-bold bg-white/80 px-6 py-1 rounded-full shadow-sm",children:"å³å°‡å……æ»¿é­”æ³•çš„å°ˆå±¬æ¨‚åœ’ï¼âœ¨"}),e.jsxs("div",{className:"relative w-64 h-8 bg-gray-200 rounded-full overflow-hidden border-4 border-white shadow-inner",children:[e.jsx(x.div,{className:"h-full bg-gradient-to-r from-yellow-300 to-orange-400",initial:{width:0},animate:{width:`${o/i*100}%`},transition:{duration:1,ease:"easeOut"}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-black text-white drop-shadow-md",children:[o," / ",i]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-8 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-[#fff9c4] p-4 rounded-[2.5rem] shadow-2xl border-8 border-[#fdd835] relative transform -rotate-1",children:[e.jsx("div",{className:"absolute -left-4 top-1/4 w-8 h-8 rounded-full bg-gray-300 border-2 border-gray-400 shadow-inner z-10"}),e.jsx("div",{className:"absolute -left-4 top-2/4 w-8 h-8 rounded-full bg-gray-300 border-2 border-gray-400 shadow-inner z-10"}),e.jsx("div",{className:"absolute -left-4 top-3/4 w-8 h-8 rounded-full bg-gray-300 border-2 border-gray-400 shadow-inner z-10"}),e.jsx("div",{className:"bg-white rounded-[2rem] overflow-hidden shadow-inner min-h-[600px] relative border-4 border-dashed border-yellow-200",children:e.jsx(N,{})})]})}),e.jsx("div",{className:"lg:col-span-4 order-1 lg:order-2",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-[2rem] p-6 shadow-xl border-4 border-purple-100 flex flex-col h-full",children:[e.jsxs("h3",{className:"text-2xl font-black text-purple-600 mb-4 flex items-center gap-2",children:[e.jsx(g,{className:"fill-yellow-400 text-yellow-500"}),"è²¼ç´™åœ–é‘‘"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-3 gap-3 overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:m.map(t=>{const l=a.includes(t.id);return e.jsx(x.div,{whileHover:{scale:1.05,rotate:l?[0,-5,5,0]:0},className:`
                                        aspect-square rounded-2xl flex flex-col items-center justify-center p-2 border-b-4 transition-all relative overflow-hidden group
                                        ${l?"bg-gradient-to-br from-white to-blue-50 border-blue-200 shadow-md cursor-grab active:cursor-grabbing":"bg-gray-100 border-gray-200 inner-shadow opacity-60"}
                                    `,title:t.name,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-4xl filter drop-shadow-sm transform transition-transform group-hover:scale-110",children:t.emoji}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 mt-1 bg-white/50 px-2 rounded-full",children:t.name}),e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-300 rounded-full animate-ping opacity-75"})]}):e.jsx(v,{className:"w-6 h-6 text-gray-300"})},t.id)})}),e.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded-xl text-xs text-purple-600 font-bold text-center",children:"ğŸ’¡ å°æç¤ºï¼šç©éŠæˆ²ç²å¾—é«˜åˆ†å°±èƒ½è§£é–æ›´å¤šè²¼ç´™å–”ï¼"})]})})]})]})})}export{z as default};
