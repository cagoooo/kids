import{r as o,j as t}from"./index-BAFbHnVU.js";import{L as G,m as u}from"./Layout-DFwKD3LY.js";import{G as Q,c as E}from"./GameShell-umGkXZuk.js";import{S as F}from"./SpeakableOption-CkF4OjCm.js";import"./use-scores-DiF6HJ8X.js";import"./useQuery-_qmAEel5.js";import"./dialog-CWCHvEy3.js";import"./input-DK6-qLvW.js";import"./use-tts-CT6lh570.js";const l=[{id:"doctor",emoji:"ðŸ‘¨â€âš•ï¸",name:"é†«ç”Ÿ",tool:"è½è¨ºå™¨",action:"æ²»ç™‚ç—…äºº"},{id:"firefighter",emoji:"ðŸ‘¨â€ðŸš’",name:"æ¶ˆé˜²å“¡",tool:"æ»…ç«å™¨",action:"æ»…ç«æ•‘äºº"},{id:"police",emoji:"ðŸ‘®",name:"è­¦å¯Ÿ",tool:"å°è¬›æ©Ÿ",action:"ä¿è­·å¤§å®¶"},{id:"teacher",emoji:"ðŸ‘©â€ðŸ«",name:"è€å¸«",tool:"ç²‰ç­†",action:"æ•™å°Žå­¸ç”Ÿ"},{id:"chef",emoji:"ðŸ‘¨â€ðŸ³",name:"å»šå¸«",tool:"é‹å­",action:"åšå¥½åƒçš„æ–™ç†"},{id:"farmer",emoji:"ðŸ‘¨â€ðŸŒ¾",name:"è¾²å¤«",tool:"é‹¤é ­",action:"ç¨®ç”°ç¨®èœ"},{id:"pilot",emoji:"ðŸ‘¨â€âœˆï¸",name:"é£›è¡Œå“¡",tool:"é£›æ©Ÿ",action:"é§•é§›é£›æ©Ÿ"},{id:"astronaut",emoji:"ðŸ‘¨â€ðŸš€",name:"å¤ªç©ºäºº",tool:"å¤ªç©ºè¡£",action:"æŽ¢ç´¢å¤ªç©º"},{id:"artist",emoji:"ðŸ‘¨â€ðŸŽ¨",name:"ç•«å®¶",tool:"ç•«ç­†",action:"ç•«ç•«"},{id:"scientist",emoji:"ðŸ‘¨â€ðŸ”¬",name:"ç§‘å­¸å®¶",tool:"å¯¦é©—å™¨æ",action:"åšå¯¦é©—"}];function z(){const[m,h]=o.useState(0),[S,f]=o.useState(0),[i,v]=o.useState(l[0]),[y,d]=o.useState([]),[w,j]=o.useState(!1),[N,g]=o.useState(!1),[c,T]=o.useState("name"),[O,x]=o.useState(""),b=()=>{if(m>=10){j(!0);return}const e=["name","action","name","tool","name","action","name","tool","action","name"][m];T(e);const a=l[Math.floor(Math.random()*l.length)];v(a);const p=l.filter(n=>n.id!==a.id).sort(()=>.5-Math.random()).slice(0,3);if(e==="name"){const n=[a.name,...p.map(r=>r.name)].sort(()=>.5-Math.random());d(n),x(a.name)}else if(e==="action"){const n=[a.name,...p.map(r=>r.name)].sort(()=>.5-Math.random());d(n),x(a.name)}else{const n=[a.name,...p.map(r=>r.name)].sort(()=>.5-Math.random());d(n),x(a.name)}};o.useEffect(()=>{b()},[m]);const k=s=>{s===O?(E({particleCount:30,spread:50,origin:{y:.7},colors:["#9D4EDD","#4D96FF","#FFD93D"]}),f(e=>e+10),setTimeout(()=>h(e=>e+1),500)):(g(!0),setTimeout(()=>g(!1),500))},D=()=>{h(0),f(0),j(!1),b()},M=()=>{switch(c){case"name":return"é€™æ˜¯ä»€éº¼è·æ¥­ï¼Ÿ";case"action":return`èª°æœƒã€Œ${i.action}ã€ï¼Ÿ`;case"tool":return`èª°æœƒç”¨ã€Œ${i.tool}ã€ï¼Ÿ`}};return t.jsx(G,{children:t.jsx(Q,{title:"è·æ¥­å¤§å†’éšª",score:S,totalQuestions:10,currentQuestionIndex:m,gameType:"job",isGameOver:w,onRestart:D,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:t.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[c==="name"&&t.jsx(u.div,{animate:{scale:[.9,1.1,1],rotate:N?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:i.emoji}),c==="action"&&t.jsx(u.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:t.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["ã€Œ",i.action,"ã€"]})}),c==="tool"&&t.jsx(u.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:t.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["ðŸ”§ ",i.tool]})}),t.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:M()}),t.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:y.map((s,e)=>t.jsx(F,{speakText:s,onSelect:()=>k(s),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-purple-dark))] hover:bg-white/90","data-testid":`button-job-${e}`,children:s},s+e))})]})})})}export{z as default};
