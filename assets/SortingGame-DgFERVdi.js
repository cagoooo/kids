import{r as o,j as t}from"./index-dxj7E4H-.js";import{L as T,m as k}from"./Layout-CmlOHSNV.js";import{G as q}from"./GameShell-CODfseyM.js";import{e as F}from"./confetti.module-BS7HiWFO.js";import{D as Q,u as z,a as L}from"./core.esm-BMKAPAw8.js";import"./use-scores-D77kwo0O.js";import"./input-R0n0rv70.js";const w=[{title:"é£Ÿç‰© vs ç©å…·",categories:[{id:"food",name:"é£Ÿç‰©",emoji:"ğŸ½ï¸"},{id:"toy",name:"ç©å…·",emoji:"ğŸ§¸"}],items:[{id:"apple",emoji:"ğŸ",category:"food"},{id:"ball",emoji:"âš½",category:"toy"},{id:"banana",emoji:"ğŸŒ",category:"food"},{id:"car",emoji:"ğŸš—",category:"toy"}]},{title:"å¤©ä¸Š vs åœ°ä¸Š",categories:[{id:"sky",name:"å¤©ä¸Š",emoji:"â˜ï¸"},{id:"ground",name:"åœ°ä¸Š",emoji:"ğŸ”ï¸"}],items:[{id:"bird",emoji:"ğŸ¦",category:"sky"},{id:"dog",emoji:"ğŸ•",category:"ground"},{id:"plane",emoji:"âœˆï¸",category:"sky"},{id:"car",emoji:"ğŸš—",category:"ground"}]},{title:"æ°´æœ vs è”¬èœ",categories:[{id:"fruit",name:"æ°´æœ",emoji:"ğŸ"},{id:"vegetable",name:"è”¬èœ",emoji:"ğŸ¥•"}],items:[{id:"grape",emoji:"ğŸ‡",category:"fruit"},{id:"carrot",emoji:"ğŸ¥•",category:"vegetable"},{id:"orange",emoji:"ğŸŠ",category:"fruit"},{id:"broccoli",emoji:"ğŸ¥¦",category:"vegetable"}]},{title:"å¤§ vs å°",categories:[{id:"big",name:"å¤§",emoji:"ğŸ˜"},{id:"small",name:"å°",emoji:"ğŸ"}],items:[{id:"elephant",emoji:"ğŸ˜",category:"big"},{id:"ant",emoji:"ğŸœ",category:"small"},{id:"whale",emoji:"ğŸ‹",category:"big"},{id:"mouse",emoji:"ğŸ­",category:"small"}]},{title:"å†· vs ç†±",categories:[{id:"cold",name:"å†·",emoji:"â„ï¸"},{id:"hot",name:"ç†±",emoji:"ğŸ”¥"}],items:[{id:"ice",emoji:"ğŸ§Š",category:"cold"},{id:"sun",emoji:"â˜€ï¸",category:"hot"},{id:"snow",emoji:"â›„",category:"cold"},{id:"fire",emoji:"ğŸ”¥",category:"hot"}]},{title:"å‹•ç‰© vs æ¤ç‰©",categories:[{id:"animal",name:"å‹•ç‰©",emoji:"ğŸ¾"},{id:"plant",name:"æ¤ç‰©",emoji:"ğŸŒ¿"}],items:[{id:"cat",emoji:"ğŸ±",category:"animal"},{id:"tree",emoji:"ğŸŒ³",category:"plant"},{id:"fish",emoji:"ğŸŸ",category:"animal"},{id:"flower",emoji:"ğŸŒ¸",category:"plant"}]},{title:"è¡£æœ vs é‹å­",categories:[{id:"clothes",name:"è¡£æœ",emoji:"ğŸ‘•"},{id:"shoes",name:"é‹å­",emoji:"ğŸ‘Ÿ"}],items:[{id:"shirt",emoji:"ğŸ‘•",category:"clothes"},{id:"sneaker",emoji:"ğŸ‘Ÿ",category:"shoes"},{id:"dress",emoji:"ğŸ‘—",category:"clothes"},{id:"boot",emoji:"ğŸ¥¾",category:"shoes"}]},{title:"ç™½å¤© vs æ™šä¸Š",categories:[{id:"day",name:"ç™½å¤©",emoji:"â˜€ï¸"},{id:"night",name:"æ™šä¸Š",emoji:"ğŸŒ™"}],items:[{id:"sun",emoji:"ğŸŒ",category:"day"},{id:"moon",emoji:"ğŸŒ›",category:"night"},{id:"cloud",emoji:"â›…",category:"day"},{id:"star",emoji:"â­",category:"night"}]},{title:"åœ“å½¢ vs æ–¹å½¢",categories:[{id:"round",name:"åœ“å½¢",emoji:"â­•"},{id:"square",name:"æ–¹å½¢",emoji:"â¬œ"}],items:[{id:"ball",emoji:"ğŸ”´",category:"round"},{id:"box",emoji:"ğŸ“¦",category:"square"},{id:"cookie",emoji:"ğŸª",category:"round"},{id:"book",emoji:"ğŸ“•",category:"square"}]},{title:"æµ·æ´‹ vs é™¸åœ°",categories:[{id:"sea",name:"æµ·æ´‹",emoji:"ğŸŒŠ"},{id:"land",name:"é™¸åœ°",emoji:"ğŸ”ï¸"}],items:[{id:"fish",emoji:"ğŸ ",category:"sea"},{id:"lion",emoji:"ğŸ¦",category:"land"},{id:"octopus",emoji:"ğŸ™",category:"sea"},{id:"rabbit",emoji:"ğŸ°",category:"land"}]}];function P({id:i,emoji:r,placed:d}){const{attributes:m,listeners:l,setNodeRef:n,transform:a,isDragging:c}=L({id:i,disabled:d}),g=a?{transform:`translate3d(${a.x}px, ${a.y}px, 0)`,zIndex:c?100:1}:void 0;return d?null:t.jsx(k.div,{ref:n,style:g,...l,...m,className:`w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-white rounded-xl shadow-lg flex items-center justify-center text-3xl sm:text-4xl md:text-5xl cursor-grab active:cursor-grabbing border-2 border-gray-200 ${c?"opacity-70":""}`,whileHover:{scale:1.1},"data-testid":`sorting-item-${i}`,children:r})}function A({id:i,name:r,emoji:d,items:m,isOver:l}){const{setNodeRef:n}=z({id:i});return t.jsxs("div",{ref:n,className:`flex-1 min-h-[120px] md:min-h-[150px] p-3 md:p-4 rounded-2xl border-2 border-dashed transition-colors ${l?"border-green-400 bg-green-50":"border-white/50 bg-white/20"}`,"data-testid":`sorting-category-${i}`,children:[t.jsxs("div",{className:"text-center mb-2",children:[t.jsx("span",{className:"text-3xl md:text-4xl",children:d}),t.jsx("div",{className:"font-bold text-sm md:text-base",children:r})]}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:m.map(a=>t.jsx("div",{className:"text-2xl md:text-3xl bg-white/50 p-2 rounded-lg",children:a.emoji},a.id))})]})}function V(){const[i,r]=o.useState(0),[d,m]=o.useState(0),[l,n]=o.useState(!1),[a,c]=o.useState(!1),[g,O]=o.useState(w[0]),[j,S]=o.useState([]),[D,N]=o.useState({}),[E,h]=o.useState(null),I=()=>{if(i>=10){n(!0);return}const e=w[i%w.length];O(e),S(e.items.map(x=>({...x,placed:!1})).sort(()=>.5-Math.random())),N({}),h(null)};o.useEffect(()=>{I()},[i]);const C=(e,x)=>{e.every(s=>s.placed)&&(F({particleCount:50,spread:60,origin:{y:.6},colors:["#9D4EDD","#4D96FF","#FFD93D"]}),m(s=>s+10),setTimeout(()=>r(s=>s+1),800))},G=e=>{h(null);const{active:x,over:b}=e;if(!b)return;const s=x.id,u=b.id,p=j.find(y=>y.id===s);if(p)if(p.category===u){const y=j.map(v=>v.id===s?{...v,placed:!0}:v);S(y);const f={...D};f[u]||(f[u]=[]),f[u].push({id:p.id,emoji:p.emoji}),N(f),C(y)}else c(!0),setTimeout(()=>c(!1),500)},R=e=>{h(e.over?.id||null)},$=()=>{r(0),m(0),n(!1),I()};return t.jsx(T,{children:t.jsx(q,{title:"åˆ†é¡å°å¹«æ‰‹",score:d,totalQuestions:10,currentQuestionIndex:i,gameType:"sorting",isGameOver:l,onRestart:$,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:t.jsx(Q,{onDragEnd:G,onDragOver:R,children:t.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[t.jsx(k.h3,{animate:{rotate:a?[-3,3,-3,3,0]:0},className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:g.title}),t.jsx("div",{className:"flex gap-3 md:gap-4 w-full max-w-lg",children:g.categories.map(e=>t.jsx(A,{id:e.id,name:e.name,emoji:e.emoji,items:D[e.id]||[],isOver:E===e.id},e.id))}),t.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center p-4 bg-white/30 rounded-2xl min-h-[80px]",children:[j.filter(e=>!e.placed).map(e=>t.jsx(P,{id:e.id,emoji:e.emoji,placed:e.placed},e.id)),j.every(e=>e.placed)&&t.jsx("div",{className:"text-green-600 font-bold flex items-center gap-2",children:"âœ“ å…¨éƒ¨åˆ†é¡å®Œæˆï¼"})]}),t.jsx("p",{className:"text-sm md:text-base text-center opacity-70",children:"æŠŠæ±è¥¿æ‹–åˆ°æ­£ç¢ºçš„åˆ†é¡"})]})})})})}export{V as default};
