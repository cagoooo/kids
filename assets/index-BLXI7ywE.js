function yD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function tC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},Su={},ry={exports:{}},tt={};var H1;function vD(){if(H1)return tt;H1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function T(D,K,ie){this.props=D,this.context=K,this.refs=E,this.updater=ie||S}T.prototype.isReactComponent={},T.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(D,K,ie){this.props=D,this.context=K,this.refs=E,this.updater=ie||S}var j=O.prototype=new N;j.constructor=O,R(j,T.prototype),j.isPureReactComponent=!0;var z=Array.isArray,M=Object.prototype.hasOwnProperty,V={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(D,K,ie){var ce,me={},fe=null,de=null;if(K!=null)for(ce in K.ref!==void 0&&(de=K.ref),K.key!==void 0&&(fe=""+K.key),K)M.call(K,ce)&&!A.hasOwnProperty(ce)&&(me[ce]=K[ce]);var ye=arguments.length-2;if(ye===1)me.children=ie;else if(1<ye){for(var Ee=Array(ye),_e=0;_e<ye;_e++)Ee[_e]=arguments[_e+2];me.children=Ee}if(D&&D.defaultProps)for(ce in ye=D.defaultProps,ye)me[ce]===void 0&&(me[ce]=ye[ce]);return{$$typeof:t,type:D,key:fe,ref:de,props:me,_owner:V.current}}function k(D,K){return{$$typeof:t,type:D.type,key:K,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return K[ie]})}var $=/\/+/g;function F(D,K){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):K.toString(36)}function te(D,K,ie,ce,me){var fe=typeof D;(fe==="undefined"||fe==="boolean")&&(D=null);var de=!1;if(D===null)de=!0;else switch(fe){case"string":case"number":de=!0;break;case"object":switch(D.$$typeof){case t:case e:de=!0}}if(de)return de=D,me=me(de),D=ce===""?"."+F(de,0):ce,z(me)?(ie="",D!=null&&(ie=D.replace($,"$&/")+"/"),te(me,K,ie,"",function(_e){return _e})):me!=null&&(U(me)&&(me=k(me,ie+(!me.key||de&&de.key===me.key?"":(""+me.key).replace($,"$&/")+"/")+D)),K.push(me)),1;if(de=0,ce=ce===""?".":ce+":",z(D))for(var ye=0;ye<D.length;ye++){fe=D[ye];var Ee=ce+F(fe,ye);de+=te(fe,K,ie,Ee,me)}else if(Ee=w(D),typeof Ee=="function")for(D=Ee.call(D),ye=0;!(fe=D.next()).done;)fe=fe.value,Ee=ce+F(fe,ye++),de+=te(fe,K,ie,Ee,me);else if(fe==="object")throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return de}function Ie(D,K,ie){if(D==null)return D;var ce=[],me=0;return te(D,ce,"","",function(fe){return K.call(ie,fe,me++)}),ce}function ke(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var pe={current:null},ee={transition:null},re={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ee,ReactCurrentOwner:V};function W(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:Ie,forEach:function(D,K,ie){Ie(D,function(){K.apply(this,arguments)},ie)},count:function(D){var K=0;return Ie(D,function(){K++}),K},toArray:function(D){return Ie(D,function(K){return K})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},tt.Component=T,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=O,tt.StrictMode=r,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,tt.act=W,tt.cloneElement=function(D,K,ie){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ce=R({},D.props),me=D.key,fe=D.ref,de=D._owner;if(K!=null){if(K.ref!==void 0&&(fe=K.ref,de=V.current),K.key!==void 0&&(me=""+K.key),D.type&&D.type.defaultProps)var ye=D.type.defaultProps;for(Ee in K)M.call(K,Ee)&&!A.hasOwnProperty(Ee)&&(ce[Ee]=K[Ee]===void 0&&ye!==void 0?ye[Ee]:K[Ee])}var Ee=arguments.length-2;if(Ee===1)ce.children=ie;else if(1<Ee){ye=Array(Ee);for(var _e=0;_e<Ee;_e++)ye[_e]=arguments[_e+2];ce.children=ye}return{$$typeof:t,type:D.type,key:me,ref:fe,props:ce,_owner:de}},tt.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},tt.createElement=I,tt.createFactory=function(D){var K=I.bind(null,D);return K.type=D,K},tt.createRef=function(){return{current:null}},tt.forwardRef=function(D){return{$$typeof:c,render:D}},tt.isValidElement=U,tt.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:ke}},tt.memo=function(D,K){return{$$typeof:h,type:D,compare:K===void 0?null:K}},tt.startTransition=function(D){var K=ee.transition;ee.transition={};try{D()}finally{ee.transition=K}},tt.unstable_act=W,tt.useCallback=function(D,K){return pe.current.useCallback(D,K)},tt.useContext=function(D){return pe.current.useContext(D)},tt.useDebugValue=function(){},tt.useDeferredValue=function(D){return pe.current.useDeferredValue(D)},tt.useEffect=function(D,K){return pe.current.useEffect(D,K)},tt.useId=function(){return pe.current.useId()},tt.useImperativeHandle=function(D,K,ie){return pe.current.useImperativeHandle(D,K,ie)},tt.useInsertionEffect=function(D,K){return pe.current.useInsertionEffect(D,K)},tt.useLayoutEffect=function(D,K){return pe.current.useLayoutEffect(D,K)},tt.useMemo=function(D,K){return pe.current.useMemo(D,K)},tt.useReducer=function(D,K,ie){return pe.current.useReducer(D,K,ie)},tt.useRef=function(D){return pe.current.useRef(D)},tt.useState=function(D){return pe.current.useState(D)},tt.useSyncExternalStore=function(D,K,ie){return pe.current.useSyncExternalStore(D,K,ie)},tt.useTransition=function(){return pe.current.useTransition()},tt.version="18.3.1",tt}var G1;function qp(){return G1||(G1=1,ry.exports=vD()),ry.exports}var K1;function xD(){if(K1)return Su;K1=1;var t=qp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var m,g={},w=null,S=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:w,ref:S,props:g,_owner:s.current}}return Su.Fragment=n,Su.jsx=l,Su.jsxs=l,Su}var Q1;function wD(){return Q1||(Q1=1,ny.exports=xD()),ny.exports}var y=wD(),of={},sy={exports:{}},lr={},iy={exports:{}},oy={};var Z1;function _D(){return Z1||(Z1=1,(function(t){function e(ee,re){var W=ee.length;ee.push(re);e:for(;0<W;){var D=W-1>>>1,K=ee[D];if(0<s(K,re))ee[D]=re,ee[W]=K,W=D;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var re=ee[0],W=ee.pop();if(W!==re){ee[0]=W;e:for(var D=0,K=ee.length,ie=K>>>1;D<ie;){var ce=2*(D+1)-1,me=ee[ce],fe=ce+1,de=ee[fe];if(0>s(me,W))fe<K&&0>s(de,me)?(ee[D]=de,ee[fe]=W,D=fe):(ee[D]=me,ee[ce]=W,D=ce);else if(fe<K&&0>s(de,W))ee[D]=de,ee[fe]=W,D=fe;else break e}}return re}function s(ee,re){var W=ee.sortIndex-re.sortIndex;return W!==0?W:ee.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,w=3,S=!1,R=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ee){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=ee)r(h),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(h)}}function z(ee){if(E=!1,j(ee),!R)if(n(d)!==null)R=!0,ke(M);else{var re=n(h);re!==null&&pe(z,re.startTime-ee)}}function M(ee,re){R=!1,E&&(E=!1,N(I),I=-1),S=!0;var W=w;try{for(j(re),g=n(d);g!==null&&(!(g.expirationTime>re)||ee&&!B());){var D=g.callback;if(typeof D=="function"){g.callback=null,w=g.priorityLevel;var K=D(g.expirationTime<=re);re=t.unstable_now(),typeof K=="function"?g.callback=K:g===n(d)&&r(d),j(re)}else r(d);g=n(d)}if(g!==null)var ie=!0;else{var ce=n(h);ce!==null&&pe(z,ce.startTime-re),ie=!1}return ie}finally{g=null,w=W,S=!1}}var V=!1,A=null,I=-1,k=5,U=-1;function B(){return!(t.unstable_now()-U<k)}function $(){if(A!==null){var ee=t.unstable_now();U=ee;var re=!0;try{re=A(!0,ee)}finally{re?F():(V=!1,A=null)}}else V=!1}var F;if(typeof O=="function")F=function(){O($)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Ie=te.port2;te.port1.onmessage=$,F=function(){Ie.postMessage(null)}}else F=function(){T($,0)};function ke(ee){A=ee,V||(V=!0,F())}function pe(ee,re){I=T(function(){ee(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,ke(M))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var W=w;w=re;try{return ee()}finally{w=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,re){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var W=w;w=ee;try{return re()}finally{w=W}},t.unstable_scheduleCallback=function(ee,re,W){var D=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?D+W:D):W=D,ee){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,ee={id:m++,callback:re,priorityLevel:ee,startTime:W,expirationTime:K,sortIndex:-1},W>D?(ee.sortIndex=W,e(h,ee),n(d)===null&&ee===n(h)&&(E?(N(I),I=-1):E=!0,pe(z,W-D))):(ee.sortIndex=K,e(d,ee),R||S||(R=!0,ke(M))),ee},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ee){var re=w;return function(){var W=w;w=re;try{return ee.apply(this,arguments)}finally{w=W}}}})(oy)),oy}var Y1;function bD(){return Y1||(Y1=1,iy.exports=_D()),iy.exports}var X1;function TD(){if(X1)return lr;X1=1;var t=qp(),e=bD();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function w(i){return d.call(g,i)?!0:d.call(m,i)?!1:h.test(i)?g[i]=!0:(m[i]=!0,!1)}function S(i,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,a,u,p){if(a===null||typeof a>"u"||S(i,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(i,a,u,p,v,_,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=_,this.removeEmptyString=P}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];T[a]=new E(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(N,O);T[a]=new E(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(N,O);T[a]=new E(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(N,O);T[a]=new E(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,a,u,p){var v=T.hasOwnProperty(a)?T[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,u,v,p)&&(u=null),p||v===null?w(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,p=v.attributeNamespace,u===null?i.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?i.setAttributeNS(p,a,u):i.setAttribute(a,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),V=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ee=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,D;function K(i){if(D===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||""}return`
`+D+i}var ie=!1;function ce(i,a){if(!i||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var p=X}Reflect.construct(i,[],a)}else{try{a.call()}catch(X){p=X}i.call(a.prototype)}else{try{throw Error()}catch(X){p=X}i()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),_=p.stack.split(`
`),P=v.length-1,q=_.length-1;1<=P&&0<=q&&v[P]!==_[q];)q--;for(;1<=P&&0<=q;P--,q--)if(v[P]!==_[q]){if(P!==1||q!==1)do if(P--,q--,0>q||v[P]!==_[q]){var H=`
`+v[P].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=P&&0<=q);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?K(i):""}function me(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=ce(i.type,!1),i;case 11:return i=ce(i.type.render,!1),i;case 1:return i=ce(i.type,!0),i;default:return""}}function fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case V:return"Portal";case k:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case U:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ie:return a=i.displayName||null,a!==null?a:fe(i.type)||"Memo";case ke:a=i._payload,i=i._init;try{return fe(i(a))}catch{}}return null}function de(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ee(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _e(i){var a=Ee(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){p=""+P,_.call(this,P)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ye(i){i._valueTracker||(i._valueTracker=_e(i))}function Ke(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return i&&(p=Ee(i)?i.checked?"true":"false":i.value),i=p,i!==u?(a.setValue(i),!0):!1}function et(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function je(i,a){var u=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function vt(i,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=ye(a.value!=null?a.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function bt(i,a){a=a.checked,a!=null&&j(i,"checked",a,!1)}function Vt(i,a){bt(i,a);var u=ye(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ct(i,a.type,u):a.hasOwnProperty("defaultValue")&&ct(i,a.type,ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function dn(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ct(i,a,u){(a!=="number"||et(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Qe=Array.isArray;function hn(i,a,u,p){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+ye(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Ir(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function gs(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(Qe(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:ye(u)}}function ys(i,a){var u=ye(a.value),p=ye(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Ar(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function vs(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kn(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?vs(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var _n,dr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,v){MSApp.execUnsafeLocalFunction(function(){return i(a,u,p,v)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(_n=_n||document.createElement("div"),_n.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=_n.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function hr(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xs=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(i){Xs.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Wt[a]=Wt[i]})});function Rr(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Wt.hasOwnProperty(i)&&Wt[i]?(""+a).trim():a+"px"}function Oi(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=Rr(u,a[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,v):i[u]=v}}var Js=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(i,a){if(a){if(Js[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ji(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=null;function Vi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wr=null,Hr=null,Je=null;function rn(i){if(i=uu(i)){if(typeof Wr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=wh(a),Wr(i.stateNode,i.type,a))}}function Lt(i){Hr?Je?Je.push(i):Je=[i]:Hr=i}function bn(){if(Hr){var i=Hr,a=Je;if(Je=Hr=null,rn(i),a)for(i=0;i<a.length;i++)rn(a[i])}}function Tn(i,a){return i(a)}function fn(){}var Ht=!1;function Gr(i,a,u){if(Ht)return i(a,u);Ht=!0;try{return Tn(i,a,u)}finally{Ht=!1,(Hr!==null||Je!==null)&&(fn(),bn())}}function Tt(i,a){var u=i.stateNode;if(u===null)return null;var p=wh(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var En=!1;if(c)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){En=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{En=!1}function nr(i,a,u,p,v,_,P,q,H){var X=Array.prototype.slice.call(arguments,3);try{a.apply(u,X)}catch(ae){this.onError(ae)}}var Qn=!1,Dn=null,Zn=!1,pn=null,Li={onError:function(i){Qn=!0,Dn=i}};function Jd(i,a,u,p,v,_,P,q,H){Qn=!1,Dn=null,nr.apply(Li,arguments)}function Lc(i,a,u,p,v,_,P,q,H){if(Jd.apply(this,arguments),Qn){if(Qn){var X=Dn;Qn=!1,Dn=null}else throw Error(n(198));Zn||(Zn=!0,pn=X)}}function Kr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Fc(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function eh(i){if(Kr(i)!==i)throw Error(n(188))}function th(i){var a=i.alternate;if(!a){if(a=Kr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,p=a;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return eh(v),i;if(_===p)return eh(v),a;_=_.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=_;else{for(var P=!1,q=v.child;q;){if(q===u){P=!0,u=v,p=_;break}if(q===p){P=!0,p=v,u=_;break}q=q.sibling}if(!P){for(q=_.child;q;){if(q===u){P=!0,u=_,p=v;break}if(q===p){P=!0,p=_,u=v;break}q=q.sibling}if(!P)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function nh(i){return i=th(i),i!==null?Ko(i):null}function Ko(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ko(i);if(a!==null)return a;i=i.sibling}return null}var Uc=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Qo=e.unstable_shouldYield,ei=e.unstable_requestPaint,Et=e.unstable_now,Dm=e.unstable_getCurrentPriorityLevel,Ha=e.unstable_ImmediatePriority,Bc=e.unstable_UserBlockingPriority,Zo=e.unstable_NormalPriority,zc=e.unstable_LowPriority,Ga=e.unstable_IdlePriority,Yo=null,fr=null;function rh(i){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Yo,i,void 0,(i.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:Xo,xs=Math.log,kr=Math.LN2;function Xo(i){return i>>>=0,i===0?32:31-(xs(i)/kr|0)|0}var ws=64,Fi=4194304;function dt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ti(i,a){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes,P=u&268435455;if(P!==0){var q=P&~v;q!==0?p=dt(q):(_&=P,_!==0&&(p=dt(_)))}else P=u&~v,P!==0?p=dt(P):_!==0&&(p=dt(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,_=a&-a,v>=_||v===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)u=31-pr(a),v=1<<u,p|=i[u],a&=~v;return p}function Jo(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(i,a){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes;0<_;){var P=31-pr(_),q=1<<P,H=v[P];H===-1?((q&u)===0||(q&p)!==0)&&(v[P]=Jo(q,a)):H<=a&&(i.expiredLanes|=q),_&=~q}}function $c(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function qc(){var i=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),i}function Wc(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function ta(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-pr(a),i[a]=u}function Mm(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-pr(u),_=1<<v;a[v]=0,p[v]=-1,i[v]=-1,u&=~_}}function Hc(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var p=31-pr(u),v=1<<p;v&a|i[p]&a&&(i[p]|=a),u&=~v}}var it=0;function _s(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gc,Ka,Kc,Qc,Zc,bs=!1,Qa=[],Ts=null,Es=null,Sn=null,na=new Map,ni=new Map,mr=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(i,a){switch(i){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":na.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(a.pointerId)}}function Qr(i,a,u,p,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[v]},a!==null&&(a=uu(a),a!==null&&Ka(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function ih(i,a,u,p,v){switch(a){case"focusin":return Ts=Qr(Ts,i,a,u,p,v),!0;case"dragenter":return Es=Qr(Es,i,a,u,p,v),!0;case"mouseover":return Sn=Qr(Sn,i,a,u,p,v),!0;case"pointerover":var _=v.pointerId;return na.set(_,Qr(na.get(_)||null,i,a,u,p,v)),!0;case"gotpointercapture":return _=v.pointerId,ni.set(_,Qr(ni.get(_)||null,i,a,u,p,v)),!0}return!1}function Za(i){var a=oa(i.target);if(a!==null){var u=Kr(a);if(u!==null){if(a=u.tag,a===13){if(a=Fc(u),a!==null){i.blockedOn=a,Zc(i.priority,function(){Kc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Ya(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);qr=p,u.target.dispatchEvent(p),qr=null}else return a=uu(u),a!==null&&Ka(a),i.blockedOn=u,!1;a.shift()}return!0}function oh(i,a,u){gt(i)&&u.delete(a)}function Om(){bs=!1,Ts!==null&&gt(Ts)&&(Ts=null),Es!==null&&gt(Es)&&(Es=null),Sn!==null&&gt(Sn)&&(Sn=null),na.forEach(oh),ni.forEach(oh)}function Bi(i,a){i.blockedOn===a&&(i.blockedOn=null,bs||(bs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Om)))}function zi(i){function a(v){return Bi(v,i)}if(0<Qa.length){Bi(Qa[0],i);for(var u=1;u<Qa.length;u++){var p=Qa[u];p.blockedOn===i&&(p.blockedOn=null)}}for(Ts!==null&&Bi(Ts,i),Es!==null&&Bi(Es,i),Sn!==null&&Bi(Sn,i),na.forEach(a),ni.forEach(a),u=0;u<mr.length;u++)p=mr[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<mr.length&&(u=mr[0],u.blockedOn===null);)Za(u),u.blockedOn===null&&mr.shift()}var ri=z.ReactCurrentBatchConfig,si=!0;function Ss(i,a,u,p){var v=it,_=ri.transition;ri.transition=null;try{it=1,Yc(i,a,u,p)}finally{it=v,ri.transition=_}}function ah(i,a,u,p){var v=it,_=ri.transition;ri.transition=null;try{it=4,Yc(i,a,u,p)}finally{it=v,ri.transition=_}}function Yc(i,a,u,p){if(si){var v=Ya(i,a,u,p);if(v===null)Hm(i,a,p,Cs,u),Ui(i,p);else if(ih(v,i,a,u,p))p.stopPropagation();else if(Ui(i,p),a&4&&-1<sh.indexOf(i)){for(;v!==null;){var _=uu(v);if(_!==null&&Gc(_),_=Ya(i,a,u,p),_===null&&Hm(i,a,p,Cs,u),_===v)break;v=_}v!==null&&p.stopPropagation()}else Hm(i,a,p,null,u)}}var Cs=null;function Ya(i,a,u,p){if(Cs=null,i=Vi(p),i=oa(i),i!==null)if(a=Kr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Fc(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Cs=i,null}function Xa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ha:return 1;case Bc:return 4;case Zo:case zc:return 16;case Ga:return 536870912;default:return 16}default:return 16}}var gr=null,Ja=null,ii=null;function lh(){if(ii)return ii;var i,a=Ja,u=a.length,p,v="value"in gr?gr.value:gr.textContent,_=v.length;for(i=0;i<u&&a[i]===v[i];i++);var P=u-i;for(p=1;p<=P&&a[u-p]===v[_-p];p++);return ii=v.slice(i,1<p?1-p:void 0)}function ra(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Is(){return!0}function Xc(){return!1}function Mn(i){function a(u,p,v,_,P){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(u=i[q],this[q]=u?u(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Is:Xc,this.isPropagationStopped=Xc,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),a}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Mn(As),$i=W({},As,{view:0,detail:0}),el=Mn($i),tl,nl,yr,ia=W({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:We,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yr&&(yr&&i.type==="mousemove"?(tl=i.screenX-yr.screenX,nl=i.screenY-yr.screenY):nl=tl=0,yr=i),tl)},movementY:function(i){return"movementY"in i?i.movementY:nl}}),Jc=Mn(ia),ch=W({},ia,{dataTransfer:0}),uh=Mn(ch),rl=W({},$i,{relatedTarget:0}),Cn=Mn(rl),dh=W({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=Mn(dh),qi=W({},As,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Mn(qi),b=W({},As,{data:0}),C=Mn(b),L={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=J[i])?!!a[i]:!1}function We(){return ge}var Gt=W({},$i,{key:function(i){if(i.key){var a=L[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Z[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:We,charCode:function(i){return i.type==="keypress"?ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),pt=Mn(Gt),Yt=W({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=Mn(Yt),oi=W({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:We}),Rs=Mn(oi),ks=W({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),sl=Mn(ks),eu=W({},ia,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dN=Mn(eu),hN=[9,13,27,32],jm=c&&"CompositionEvent"in window,tu=null;c&&"documentMode"in document&&(tu=document.documentMode);var fN=c&&"TextEvent"in window&&!tu,Lw=c&&(!jm||tu&&8<tu&&11>=tu),Fw=" ",Uw=!1;function Bw(i,a){switch(i){case"keyup":return hN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var il=!1;function pN(i,a){switch(i){case"compositionend":return zw(a);case"keypress":return a.which!==32?null:(Uw=!0,Fw);case"textInput":return i=a.data,i===Fw&&Uw?null:i;default:return null}}function mN(i,a){if(il)return i==="compositionend"||!jm&&Bw(i,a)?(i=lh(),ii=Ja=gr=null,il=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Lw&&a.locale!=="ko"?null:a.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $w(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gN[i.type]:a==="textarea"}function qw(i,a,u,p){Lt(p),a=yh(a,"onChange"),0<a.length&&(u=new sa("onChange","change",null,u,p),i.push({event:u,listeners:a}))}var nu=null,ru=null;function yN(i){l_(i,0)}function fh(i){var a=ul(i);if(Ke(a))return i}function vN(i,a){if(i==="change")return a}var Ww=!1;if(c){var Vm;if(c){var Lm="oninput"in document;if(!Lm){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),Lm=typeof Hw.oninput=="function"}Vm=Lm}else Vm=!1;Ww=Vm&&(!document.documentMode||9<document.documentMode)}function Gw(){nu&&(nu.detachEvent("onpropertychange",Kw),ru=nu=null)}function Kw(i){if(i.propertyName==="value"&&fh(ru)){var a=[];qw(a,ru,i,Vi(i)),Gr(yN,a)}}function xN(i,a,u){i==="focusin"?(Gw(),nu=a,ru=u,nu.attachEvent("onpropertychange",Kw)):i==="focusout"&&Gw()}function wN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(ru)}function _N(i,a){if(i==="click")return fh(a)}function bN(i,a){if(i==="input"||i==="change")return fh(a)}function TN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Zr=typeof Object.is=="function"?Object.is:TN;function su(i,a){if(Zr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!d.call(a,v)||!Zr(i[v],a[v]))return!1}return!0}function Qw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zw(i,a){var u=Qw(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=a&&p>=a)return{node:u,offset:a-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Qw(u)}}function Yw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Yw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Xw(){for(var i=window,a=et();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=et(i.document)}return a}function Fm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function EN(i){var a=Xw(),u=i.focusedElem,p=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&Yw(u.ownerDocument.documentElement,u)){if(p!==null&&Fm(u)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,_=Math.min(p.start,v);p=p.end===void 0?_:Math.min(p.end,v),!i.extend&&_>p&&(v=p,p=_,_=v),v=Zw(u,_);var P=Zw(u,p);v&&P&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),i.removeAllRanges(),_>p?(i.addRange(a),i.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var SN=c&&"documentMode"in document&&11>=document.documentMode,ol=null,Um=null,iu=null,Bm=!1;function Jw(i,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bm||ol==null||ol!==et(p)||(p=ol,"selectionStart"in p&&Fm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),iu&&su(iu,p)||(iu=p,p=yh(Um,"onSelect"),0<p.length&&(a=new sa("onSelect","select",null,a,u),i.push({event:a,listeners:p}),a.target=ol)))}function ph(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var al={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},zm={},e_={};c&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function mh(i){if(zm[i])return zm[i];if(!al[i])return i;var a=al[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in e_)return zm[i]=a[u];return i}var t_=mh("animationend"),n_=mh("animationiteration"),r_=mh("animationstart"),s_=mh("transitionend"),i_=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(i,a){i_.set(i,a),o(a,[i])}for(var $m=0;$m<o_.length;$m++){var qm=o_[$m],CN=qm.toLowerCase(),IN=qm[0].toUpperCase()+qm.slice(1);Wi(CN,"on"+IN)}Wi(t_,"onAnimationEnd"),Wi(n_,"onAnimationIteration"),Wi(r_,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(s_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function a_(i,a,u){var p=i.type||"unknown-event";i.currentTarget=u,Lc(p,a,void 0,i),i.currentTarget=null}function l_(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var P=p.length-1;0<=P;P--){var q=p[P],H=q.instance,X=q.currentTarget;if(q=q.listener,H!==_&&v.isPropagationStopped())break e;a_(v,q,X),_=H}else for(P=0;P<p.length;P++){if(q=p[P],H=q.instance,X=q.currentTarget,q=q.listener,H!==_&&v.isPropagationStopped())break e;a_(v,q,X),_=H}}}if(Zn)throw i=pn,Zn=!1,pn=null,i}function St(i,a){var u=a[Xm];u===void 0&&(u=a[Xm]=new Set);var p=i+"__bubble";u.has(p)||(c_(a,i,2,!1),u.add(p))}function Wm(i,a,u){var p=0;a&&(p|=4),c_(u,i,p,a)}var gh="_reactListening"+Math.random().toString(36).slice(2);function au(i){if(!i[gh]){i[gh]=!0,r.forEach(function(u){u!=="selectionchange"&&(AN.has(u)||Wm(u,!1,i),Wm(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gh]||(a[gh]=!0,Wm("selectionchange",!1,a))}}function c_(i,a,u,p){switch(Xa(a)){case 1:var v=Ss;break;case 4:v=ah;break;default:v=Yc}u=v.bind(null,a,u,i),v=void 0,!En||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function Hm(i,a,u,p,v){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var q=p.stateNode.containerInfo;if(q===v||q.nodeType===8&&q.parentNode===v)break;if(P===4)for(P=p.return;P!==null;){var H=P.tag;if((H===3||H===4)&&(H=P.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;P=P.return}for(;q!==null;){if(P=oa(q),P===null)return;if(H=P.tag,H===5||H===6){p=_=P;continue e}q=q.parentNode}}p=p.return}Gr(function(){var X=_,ae=Vi(u),le=[];e:{var oe=i_.get(i);if(oe!==void 0){var xe=sa,Ce=i;switch(i){case"keypress":if(ra(u)===0)break e;case"keydown":case"keyup":xe=pt;break;case"focusin":Ce="focus",xe=Cn;break;case"focusout":Ce="blur",xe=Cn;break;case"beforeblur":case"afterblur":xe=Cn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Rs;break;case t_:case n_:case r_:xe=hh;break;case s_:xe=sl;break;case"scroll":xe=el;break;case"wheel":xe=dN;break;case"copy":case"cut":case"paste":xe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=vr}var Re=(a&4)!==0,Kt=!Re&&i==="scroll",Q=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var G=X,Y;G!==null;){Y=G;var he=Y.stateNode;if(Y.tag===5&&he!==null&&(Y=he,Q!==null&&(he=Tt(G,Q),he!=null&&Re.push(lu(G,he,Y)))),Kt)break;G=G.return}0<Re.length&&(oe=new xe(oe,Ce,null,u,ae),le.push({event:oe,listeners:Re}))}}if((a&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",xe=i==="mouseout"||i==="pointerout",oe&&u!==qr&&(Ce=u.relatedTarget||u.fromElement)&&(oa(Ce)||Ce[ai]))break e;if((xe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,xe?(Ce=u.relatedTarget||u.toElement,xe=X,Ce=Ce?oa(Ce):null,Ce!==null&&(Kt=Kr(Ce),Ce!==Kt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(xe=null,Ce=X),xe!==Ce)){if(Re=Jc,he="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Re=vr,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Kt=xe==null?oe:ul(xe),Y=Ce==null?oe:ul(Ce),oe=new Re(he,G+"leave",xe,u,ae),oe.target=Kt,oe.relatedTarget=Y,he=null,oa(ae)===X&&(Re=new Re(Q,G+"enter",Ce,u,ae),Re.target=Y,Re.relatedTarget=Kt,he=Re),Kt=he,xe&&Ce)t:{for(Re=xe,Q=Ce,G=0,Y=Re;Y;Y=ll(Y))G++;for(Y=0,he=Q;he;he=ll(he))Y++;for(;0<G-Y;)Re=ll(Re),G--;for(;0<Y-G;)Q=ll(Q),Y--;for(;G--;){if(Re===Q||Q!==null&&Re===Q.alternate)break t;Re=ll(Re),Q=ll(Q)}Re=null}else Re=null;xe!==null&&u_(le,oe,xe,Re,!1),Ce!==null&&Kt!==null&&u_(le,Kt,Ce,Re,!0)}}e:{if(oe=X?ul(X):window,xe=oe.nodeName&&oe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&oe.type==="file")var Pe=vN;else if($w(oe))if(Ww)Pe=bN;else{Pe=wN;var Me=xN}else(xe=oe.nodeName)&&xe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=_N);if(Pe&&(Pe=Pe(i,X))){qw(le,Pe,u,ae);break e}Me&&Me(i,oe,X),i==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&ct(oe,"number",oe.value)}switch(Me=X?ul(X):window,i){case"focusin":($w(Me)||Me.contentEditable==="true")&&(ol=Me,Um=X,iu=null);break;case"focusout":iu=Um=ol=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,Jw(le,u,ae);break;case"selectionchange":if(SN)break;case"keydown":case"keyup":Jw(le,u,ae)}var Oe;if(jm)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else il?Bw(i,u)&&(Be="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(Lw&&u.locale!=="ko"&&(il||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&il&&(Oe=lh()):(gr=ae,Ja="value"in gr?gr.value:gr.textContent,il=!0)),Me=yh(X,Be),0<Me.length&&(Be=new C(Be,i,null,u,ae),le.push({event:Be,listeners:Me}),Oe?Be.data=Oe:(Oe=zw(u),Oe!==null&&(Be.data=Oe)))),(Oe=fN?pN(i,u):mN(i,u))&&(X=yh(X,"onBeforeInput"),0<X.length&&(ae=new C("onBeforeInput","beforeinput",null,u,ae),le.push({event:ae,listeners:X}),ae.data=Oe))}l_(le,a)})}function lu(i,a,u){return{instance:i,listener:a,currentTarget:u}}function yh(i,a){for(var u=a+"Capture",p=[];i!==null;){var v=i,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=Tt(i,u),_!=null&&p.unshift(lu(i,_,v)),_=Tt(i,a),_!=null&&p.push(lu(i,_,v))),i=i.return}return p}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function u_(i,a,u,p,v){for(var _=a._reactName,P=[];u!==null&&u!==p;){var q=u,H=q.alternate,X=q.stateNode;if(H!==null&&H===p)break;q.tag===5&&X!==null&&(q=X,v?(H=Tt(u,_),H!=null&&P.unshift(lu(u,H,q))):v||(H=Tt(u,_),H!=null&&P.push(lu(u,H,q)))),u=u.return}P.length!==0&&i.push({event:a,listeners:P})}var RN=/\r\n?/g,kN=/\u0000|\uFFFD/g;function d_(i){return(typeof i=="string"?i:""+i).replace(RN,`
`).replace(kN,"")}function vh(i,a,u){if(a=d_(a),d_(i)!==a&&u)throw Error(n(425))}function xh(){}var Gm=null,Km=null;function Qm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,PN=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,NN=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(i){return h_.resolve(null).then(i).catch(DN)}:Zm;function DN(i){setTimeout(function(){throw i})}function Ym(i,a){var u=a,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){i.removeChild(v),zi(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);zi(a)}function Hi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function f_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Ps="__reactFiber$"+cl,cu="__reactProps$"+cl,ai="__reactContainer$"+cl,Xm="__reactEvents$"+cl,MN="__reactListeners$"+cl,ON="__reactHandles$"+cl;function oa(i){var a=i[Ps];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ai]||u[Ps]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=f_(i);i!==null;){if(u=i[Ps])return u;i=f_(i)}return a}i=u,u=i.parentNode}return null}function uu(i){return i=i[Ps]||i[ai],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ul(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function wh(i){return i[cu]||null}var Jm=[],dl=-1;function Gi(i){return{current:i}}function Ct(i){0>dl||(i.current=Jm[dl],Jm[dl]=null,dl--)}function xt(i,a){dl++,Jm[dl]=i.current,i.current=a}var Ki={},On=Gi(Ki),rr=Gi(!1),aa=Ki;function hl(i,a){var u=i.type.contextTypes;if(!u)return Ki;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in u)v[_]=a[_];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function sr(i){return i=i.childContextTypes,i!=null}function _h(){Ct(rr),Ct(On)}function p_(i,a,u){if(On.current!==Ki)throw Error(n(168));xt(On,a),xt(rr,u)}function m_(i,a,u){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,de(i)||"Unknown",v));return W({},u,p)}function bh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ki,aa=On.current,xt(On,i),xt(rr,rr.current),!0}function g_(i,a,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=m_(i,a,aa),p.__reactInternalMemoizedMergedChildContext=i,Ct(rr),Ct(On),xt(On,i)):Ct(rr),xt(rr,u)}var li=null,Th=!1,eg=!1;function y_(i){li===null?li=[i]:li.push(i)}function jN(i){Th=!0,y_(i)}function Qi(){if(!eg&&li!==null){eg=!0;var i=0,a=it;try{var u=li;for(it=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}li=null,Th=!1}catch(v){throw li!==null&&(li=li.slice(i+1)),Uc(Ha,Qi),v}finally{it=a,eg=!1}}return null}var fl=[],pl=0,Eh=null,Sh=0,Pr=[],Nr=0,la=null,ci=1,ui="";function ca(i,a){fl[pl++]=Sh,fl[pl++]=Eh,Eh=i,Sh=a}function v_(i,a,u){Pr[Nr++]=ci,Pr[Nr++]=ui,Pr[Nr++]=la,la=i;var p=ci;i=ui;var v=32-pr(p)-1;p&=~(1<<v),u+=1;var _=32-pr(a)+v;if(30<_){var P=v-v%5;_=(p&(1<<P)-1).toString(32),p>>=P,v-=P,ci=1<<32-pr(a)+v|u<<v|p,ui=_+i}else ci=1<<_|u<<v|p,ui=i}function tg(i){i.return!==null&&(ca(i,1),v_(i,1,0))}function ng(i){for(;i===Eh;)Eh=fl[--pl],fl[pl]=null,Sh=fl[--pl],fl[pl]=null;for(;i===la;)la=Pr[--Nr],Pr[Nr]=null,ui=Pr[--Nr],Pr[Nr]=null,ci=Pr[--Nr],Pr[Nr]=null}var xr=null,wr=null,Rt=!1,Yr=null;function x_(i,a){var u=jr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function w_(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,xr=i,wr=Hi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,xr=i,wr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=la!==null?{id:ci,overflow:ui}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=jr(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,xr=i,wr=null,!0):!1;default:return!1}}function rg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function sg(i){if(Rt){var a=wr;if(a){var u=a;if(!w_(i,a)){if(rg(i))throw Error(n(418));a=Hi(u.nextSibling);var p=xr;a&&w_(i,a)?x_(p,u):(i.flags=i.flags&-4097|2,Rt=!1,xr=i)}}else{if(rg(i))throw Error(n(418));i.flags=i.flags&-4097|2,Rt=!1,xr=i}}}function __(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xr=i}function Ch(i){if(i!==xr)return!1;if(!Rt)return __(i),Rt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Qm(i.type,i.memoizedProps)),a&&(a=wr)){if(rg(i))throw b_(),Error(n(418));for(;a;)x_(i,a),a=Hi(a.nextSibling)}if(__(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){wr=Hi(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}wr=null}}else wr=xr?Hi(i.stateNode.nextSibling):null;return!0}function b_(){for(var i=wr;i;)i=Hi(i.nextSibling)}function ml(){wr=xr=null,Rt=!1}function ig(i){Yr===null?Yr=[i]:Yr.push(i)}var VN=z.ReactCurrentBatchConfig;function du(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var v=p,_=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(P){var q=v.refs;P===null?delete q[_]:q[_]=P},a._stringRef=_,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Ih(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function T_(i){var a=i._init;return a(i._payload)}function E_(i){function a(Q,G){if(i){var Y=Q.deletions;Y===null?(Q.deletions=[G],Q.flags|=16):Y.push(G)}}function u(Q,G){if(!i)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function p(Q,G){for(Q=new Map;G!==null;)G.key!==null?Q.set(G.key,G):Q.set(G.index,G),G=G.sibling;return Q}function v(Q,G){return Q=ro(Q,G),Q.index=0,Q.sibling=null,Q}function _(Q,G,Y){return Q.index=Y,i?(Y=Q.alternate,Y!==null?(Y=Y.index,Y<G?(Q.flags|=2,G):Y):(Q.flags|=2,G)):(Q.flags|=1048576,G)}function P(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function q(Q,G,Y,he){return G===null||G.tag!==6?(G=Zg(Y,Q.mode,he),G.return=Q,G):(G=v(G,Y),G.return=Q,G)}function H(Q,G,Y,he){var Pe=Y.type;return Pe===A?ae(Q,G,Y.props.children,he,Y.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ke&&T_(Pe)===G.type)?(he=v(G,Y.props),he.ref=du(Q,G,Y),he.return=Q,he):(he=Yh(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=du(Q,G,Y),he.return=Q,he)}function X(Q,G,Y,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Yg(Y,Q.mode,he),G.return=Q,G):(G=v(G,Y.children||[]),G.return=Q,G)}function ae(Q,G,Y,he,Pe){return G===null||G.tag!==7?(G=ya(Y,Q.mode,he,Pe),G.return=Q,G):(G=v(G,Y),G.return=Q,G)}function le(Q,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Zg(""+G,Q.mode,Y),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return Y=Yh(G.type,G.key,G.props,null,Q.mode,Y),Y.ref=du(Q,null,G),Y.return=Q,Y;case V:return G=Yg(G,Q.mode,Y),G.return=Q,G;case ke:var he=G._init;return le(Q,he(G._payload),Y)}if(Qe(G)||re(G))return G=ya(G,Q.mode,Y,null),G.return=Q,G;Ih(Q,G)}return null}function oe(Q,G,Y,he){var Pe=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Pe!==null?null:q(Q,G,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return Y.key===Pe?H(Q,G,Y,he):null;case V:return Y.key===Pe?X(Q,G,Y,he):null;case ke:return Pe=Y._init,oe(Q,G,Pe(Y._payload),he)}if(Qe(Y)||re(Y))return Pe!==null?null:ae(Q,G,Y,he,null);Ih(Q,Y)}return null}function xe(Q,G,Y,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(Y)||null,q(G,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case M:return Q=Q.get(he.key===null?Y:he.key)||null,H(G,Q,he,Pe);case V:return Q=Q.get(he.key===null?Y:he.key)||null,X(G,Q,he,Pe);case ke:var Me=he._init;return xe(Q,G,Y,Me(he._payload),Pe)}if(Qe(he)||re(he))return Q=Q.get(Y)||null,ae(G,Q,he,Pe,null);Ih(G,he)}return null}function Ce(Q,G,Y,he){for(var Pe=null,Me=null,Oe=G,Be=G=0,yn=null;Oe!==null&&Be<Y.length;Be++){Oe.index>Be?(yn=Oe,Oe=null):yn=Oe.sibling;var ut=oe(Q,Oe,Y[Be],he);if(ut===null){Oe===null&&(Oe=yn);break}i&&Oe&&ut.alternate===null&&a(Q,Oe),G=_(ut,G,Be),Me===null?Pe=ut:Me.sibling=ut,Me=ut,Oe=yn}if(Be===Y.length)return u(Q,Oe),Rt&&ca(Q,Be),Pe;if(Oe===null){for(;Be<Y.length;Be++)Oe=le(Q,Y[Be],he),Oe!==null&&(G=_(Oe,G,Be),Me===null?Pe=Oe:Me.sibling=Oe,Me=Oe);return Rt&&ca(Q,Be),Pe}for(Oe=p(Q,Oe);Be<Y.length;Be++)yn=xe(Oe,Q,Be,Y[Be],he),yn!==null&&(i&&yn.alternate!==null&&Oe.delete(yn.key===null?Be:yn.key),G=_(yn,G,Be),Me===null?Pe=yn:Me.sibling=yn,Me=yn);return i&&Oe.forEach(function(so){return a(Q,so)}),Rt&&ca(Q,Be),Pe}function Re(Q,G,Y,he){var Pe=re(Y);if(typeof Pe!="function")throw Error(n(150));if(Y=Pe.call(Y),Y==null)throw Error(n(151));for(var Me=Pe=null,Oe=G,Be=G=0,yn=null,ut=Y.next();Oe!==null&&!ut.done;Be++,ut=Y.next()){Oe.index>Be?(yn=Oe,Oe=null):yn=Oe.sibling;var so=oe(Q,Oe,ut.value,he);if(so===null){Oe===null&&(Oe=yn);break}i&&Oe&&so.alternate===null&&a(Q,Oe),G=_(so,G,Be),Me===null?Pe=so:Me.sibling=so,Me=so,Oe=yn}if(ut.done)return u(Q,Oe),Rt&&ca(Q,Be),Pe;if(Oe===null){for(;!ut.done;Be++,ut=Y.next())ut=le(Q,ut.value,he),ut!==null&&(G=_(ut,G,Be),Me===null?Pe=ut:Me.sibling=ut,Me=ut);return Rt&&ca(Q,Be),Pe}for(Oe=p(Q,Oe);!ut.done;Be++,ut=Y.next())ut=xe(Oe,Q,Be,ut.value,he),ut!==null&&(i&&ut.alternate!==null&&Oe.delete(ut.key===null?Be:ut.key),G=_(ut,G,Be),Me===null?Pe=ut:Me.sibling=ut,Me=ut);return i&&Oe.forEach(function(gD){return a(Q,gD)}),Rt&&ca(Q,Be),Pe}function Kt(Q,G,Y,he){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:e:{for(var Pe=Y.key,Me=G;Me!==null;){if(Me.key===Pe){if(Pe=Y.type,Pe===A){if(Me.tag===7){u(Q,Me.sibling),G=v(Me,Y.props.children),G.return=Q,Q=G;break e}}else if(Me.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ke&&T_(Pe)===Me.type){u(Q,Me.sibling),G=v(Me,Y.props),G.ref=du(Q,Me,Y),G.return=Q,Q=G;break e}u(Q,Me);break}else a(Q,Me);Me=Me.sibling}Y.type===A?(G=ya(Y.props.children,Q.mode,he,Y.key),G.return=Q,Q=G):(he=Yh(Y.type,Y.key,Y.props,null,Q.mode,he),he.ref=du(Q,G,Y),he.return=Q,Q=he)}return P(Q);case V:e:{for(Me=Y.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){u(Q,G.sibling),G=v(G,Y.children||[]),G.return=Q,Q=G;break e}else{u(Q,G);break}else a(Q,G);G=G.sibling}G=Yg(Y,Q.mode,he),G.return=Q,Q=G}return P(Q);case ke:return Me=Y._init,Kt(Q,G,Me(Y._payload),he)}if(Qe(Y))return Ce(Q,G,Y,he);if(re(Y))return Re(Q,G,Y,he);Ih(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,G!==null&&G.tag===6?(u(Q,G.sibling),G=v(G,Y),G.return=Q,Q=G):(u(Q,G),G=Zg(Y,Q.mode,he),G.return=Q,Q=G),P(Q)):u(Q,G)}return Kt}var gl=E_(!0),S_=E_(!1),Ah=Gi(null),Rh=null,yl=null,og=null;function ag(){og=yl=Rh=null}function lg(i){var a=Ah.current;Ct(Ah),i._currentValue=a}function cg(i,a,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===u)break;i=i.return}}function vl(i,a){Rh=i,og=yl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(ir=!0),i.firstContext=null)}function Dr(i){var a=i._currentValue;if(og!==i)if(i={context:i,memoizedValue:a,next:null},yl===null){if(Rh===null)throw Error(n(308));yl=i,Rh.dependencies={lanes:0,firstContext:i}}else yl=yl.next=i;return a}var ua=null;function ug(i){ua===null?ua=[i]:ua.push(i)}function C_(i,a,u,p){var v=a.interleaved;return v===null?(u.next=u,ug(a)):(u.next=v.next,v.next=u),a.interleaved=u,di(i,p)}function di(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Zi=!1;function dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function hi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Yi(i,a,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,di(i,u)}return v=p.interleaved,v===null?(a.next=a,ug(p)):(a.next=v.next,v.next=a),p.interleaved=a,di(i,u)}function kh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Hc(i,u)}}function A_(i,a){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var P={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?v=_=P:_=_.next=P,u=u.next}while(u!==null);_===null?v=_=a:_=_.next=a}else v=_=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Ph(i,a,u,p){var v=i.updateQueue;Zi=!1;var _=v.firstBaseUpdate,P=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var H=q,X=H.next;H.next=null,P===null?_=X:P.next=X,P=H;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,q=ae.lastBaseUpdate,q!==P&&(q===null?ae.firstBaseUpdate=X:q.next=X,ae.lastBaseUpdate=H))}if(_!==null){var le=v.baseState;P=0,ae=X=H=null,q=_;do{var oe=q.lane,xe=q.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:xe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ce=i,Re=q;switch(oe=a,xe=u,Re.tag){case 1:if(Ce=Re.payload,typeof Ce=="function"){le=Ce.call(xe,le,oe);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Re.payload,oe=typeof Ce=="function"?Ce.call(xe,le,oe):Ce,oe==null)break e;le=W({},le,oe);break e;case 2:Zi=!0}}q.callback!==null&&q.lane!==0&&(i.flags|=64,oe=v.effects,oe===null?v.effects=[q]:oe.push(q))}else xe={eventTime:xe,lane:oe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ae===null?(X=ae=xe,H=le):ae=ae.next=xe,P|=oe;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;oe=q,q=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);if(ae===null&&(H=le),v.baseState=H,v.firstBaseUpdate=X,v.lastBaseUpdate=ae,a=v.shared.interleaved,a!==null){v=a;do P|=v.lane,v=v.next;while(v!==a)}else _===null&&(v.shared.lanes=0);fa|=P,i.lanes=P,i.memoizedState=le}}function R_(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var hu={},Ns=Gi(hu),fu=Gi(hu),pu=Gi(hu);function da(i){if(i===hu)throw Error(n(174));return i}function hg(i,a){switch(xt(pu,a),xt(fu,i),xt(Ns,hu),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Kn(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Kn(a,i)}Ct(Ns),xt(Ns,a)}function xl(){Ct(Ns),Ct(fu),Ct(pu)}function k_(i){da(pu.current);var a=da(Ns.current),u=Kn(a,i.type);a!==u&&(xt(fu,i),xt(Ns,u))}function fg(i){fu.current===i&&(Ct(Ns),Ct(fu))}var Nt=Gi(0);function Nh(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pg=[];function mg(){for(var i=0;i<pg.length;i++)pg[i]._workInProgressVersionPrimary=null;pg.length=0}var Dh=z.ReactCurrentDispatcher,gg=z.ReactCurrentBatchConfig,ha=0,Dt=null,on=null,mn=null,Mh=!1,mu=!1,gu=0,LN=0;function jn(){throw Error(n(321))}function yg(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Zr(i[u],a[u]))return!1;return!0}function vg(i,a,u,p,v,_){if(ha=_,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Dh.current=i===null||i.memoizedState===null?zN:$N,i=u(p,v),mu){_=0;do{if(mu=!1,gu=0,25<=_)throw Error(n(301));_+=1,mn=on=null,a.updateQueue=null,Dh.current=qN,i=u(p,v)}while(mu)}if(Dh.current=Vh,a=on!==null&&on.next!==null,ha=0,mn=on=Dt=null,Mh=!1,a)throw Error(n(300));return i}function xg(){var i=gu!==0;return gu=0,i}function Ds(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Dt.memoizedState=mn=i:mn=mn.next=i,mn}function Mr(){if(on===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var a=mn===null?Dt.memoizedState:mn.next;if(a!==null)mn=a,on=i;else{if(i===null)throw Error(n(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},mn===null?Dt.memoizedState=mn=i:mn=mn.next=i}return mn}function yu(i,a){return typeof a=="function"?a(i):a}function wg(i){var a=Mr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=on,v=p.baseQueue,_=u.pending;if(_!==null){if(v!==null){var P=v.next;v.next=_.next,_.next=P}p.baseQueue=v=_,u.pending=null}if(v!==null){_=v.next,p=p.baseState;var q=P=null,H=null,X=_;do{var ae=X.lane;if((ha&ae)===ae)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:i(p,X.action);else{var le={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(q=H=le,P=p):H=H.next=le,Dt.lanes|=ae,fa|=ae}X=X.next}while(X!==null&&X!==_);H===null?P=p:H.next=q,Zr(p,a.memoizedState)||(ir=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=H,u.lastRenderedState=p}if(i=u.interleaved,i!==null){v=i;do _=v.lane,Dt.lanes|=_,fa|=_,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function _g(i){var a=Mr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,_=a.memoizedState;if(v!==null){u.pending=null;var P=v=v.next;do _=i(_,P.action),P=P.next;while(P!==v);Zr(_,a.memoizedState)||(ir=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,p]}function P_(){}function N_(i,a){var u=Dt,p=Mr(),v=a(),_=!Zr(p.memoizedState,v);if(_&&(p.memoizedState=v,ir=!0),p=p.queue,bg(O_.bind(null,u,p,i),[i]),p.getSnapshot!==a||_||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,vu(9,M_.bind(null,u,p,v,a),void 0,null),gn===null)throw Error(n(349));(ha&30)!==0||D_(u,a,v)}return v}function D_(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function M_(i,a,u,p){a.value=u,a.getSnapshot=p,j_(a)&&V_(i)}function O_(i,a,u){return u(function(){j_(a)&&V_(i)})}function j_(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Zr(i,u)}catch{return!0}}function V_(i){var a=di(i,1);a!==null&&ts(a,i,1,-1)}function L_(i){var a=Ds();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:i},a.queue=i,i=i.dispatch=BN.bind(null,Dt,i),[a.memoizedState,i]}function vu(i,a,u,p){return i={tag:i,create:a,destroy:u,deps:p,next:null},a=Dt.updateQueue,a===null?(a={lastEffect:null,stores:null},Dt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,a.lastEffect=i)),i}function F_(){return Mr().memoizedState}function Oh(i,a,u,p){var v=Ds();Dt.flags|=i,v.memoizedState=vu(1|a,u,void 0,p===void 0?null:p)}function jh(i,a,u,p){var v=Mr();p=p===void 0?null:p;var _=void 0;if(on!==null){var P=on.memoizedState;if(_=P.destroy,p!==null&&yg(p,P.deps)){v.memoizedState=vu(a,u,_,p);return}}Dt.flags|=i,v.memoizedState=vu(1|a,u,_,p)}function U_(i,a){return Oh(8390656,8,i,a)}function bg(i,a){return jh(2048,8,i,a)}function B_(i,a){return jh(4,2,i,a)}function z_(i,a){return jh(4,4,i,a)}function $_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function q_(i,a,u){return u=u!=null?u.concat([i]):null,jh(4,4,$_.bind(null,a,i),u)}function Tg(){}function W_(i,a){var u=Mr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&yg(a,p[1])?p[0]:(u.memoizedState=[i,a],i)}function H_(i,a){var u=Mr();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&yg(a,p[1])?p[0]:(i=i(),u.memoizedState=[i,a],i)}function G_(i,a,u){return(ha&21)===0?(i.baseState&&(i.baseState=!1,ir=!0),i.memoizedState=u):(Zr(u,a)||(u=qc(),Dt.lanes|=u,fa|=u,i.baseState=!0),a)}function FN(i,a){var u=it;it=u!==0&&4>u?u:4,i(!0);var p=gg.transition;gg.transition={};try{i(!1),a()}finally{it=u,gg.transition=p}}function K_(){return Mr().memoizedState}function UN(i,a,u){var p=to(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Q_(i))Z_(a,u);else if(u=C_(i,a,u,p),u!==null){var v=Xn();ts(u,i,p,v),Y_(u,a,p)}}function BN(i,a,u){var p=to(i),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Q_(i))Z_(a,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var P=a.lastRenderedState,q=_(P,u);if(v.hasEagerState=!0,v.eagerState=q,Zr(q,P)){var H=a.interleaved;H===null?(v.next=v,ug(a)):(v.next=H.next,H.next=v),a.interleaved=v;return}}catch{}u=C_(i,a,v,p),u!==null&&(v=Xn(),ts(u,i,p,v),Y_(u,a,p))}}function Q_(i){var a=i.alternate;return i===Dt||a!==null&&a===Dt}function Z_(i,a){mu=Mh=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Y_(i,a,u){if((u&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,u|=p,a.lanes=u,Hc(i,u)}}var Vh={readContext:Dr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},zN={readContext:Dr,useCallback:function(i,a){return Ds().memoizedState=[i,a===void 0?null:a],i},useContext:Dr,useEffect:U_,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Oh(4194308,4,$_.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Oh(4194308,4,i,a)},useInsertionEffect:function(i,a){return Oh(4,2,i,a)},useMemo:function(i,a){var u=Ds();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var p=Ds();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=UN.bind(null,Dt,i),[p.memoizedState,i]},useRef:function(i){var a=Ds();return i={current:i},a.memoizedState=i},useState:L_,useDebugValue:Tg,useDeferredValue:function(i){return Ds().memoizedState=i},useTransition:function(){var i=L_(!1),a=i[0];return i=FN.bind(null,i[1]),Ds().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var p=Dt,v=Ds();if(Rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),gn===null)throw Error(n(349));(ha&30)!==0||D_(p,a,u)}v.memoizedState=u;var _={value:u,getSnapshot:a};return v.queue=_,U_(O_.bind(null,p,_,i),[i]),p.flags|=2048,vu(9,M_.bind(null,p,_,u,a),void 0,null),u},useId:function(){var i=Ds(),a=gn.identifierPrefix;if(Rt){var u=ui,p=ci;u=(p&~(1<<32-pr(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=gu++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=LN++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},$N={readContext:Dr,useCallback:W_,useContext:Dr,useEffect:bg,useImperativeHandle:q_,useInsertionEffect:B_,useLayoutEffect:z_,useMemo:H_,useReducer:wg,useRef:F_,useState:function(){return wg(yu)},useDebugValue:Tg,useDeferredValue:function(i){var a=Mr();return G_(a,on.memoizedState,i)},useTransition:function(){var i=wg(yu)[0],a=Mr().memoizedState;return[i,a]},useMutableSource:P_,useSyncExternalStore:N_,useId:K_,unstable_isNewReconciler:!1},qN={readContext:Dr,useCallback:W_,useContext:Dr,useEffect:bg,useImperativeHandle:q_,useInsertionEffect:B_,useLayoutEffect:z_,useMemo:H_,useReducer:_g,useRef:F_,useState:function(){return _g(yu)},useDebugValue:Tg,useDeferredValue:function(i){var a=Mr();return on===null?a.memoizedState=i:G_(a,on.memoizedState,i)},useTransition:function(){var i=_g(yu)[0],a=Mr().memoizedState;return[i,a]},useMutableSource:P_,useSyncExternalStore:N_,useId:K_,unstable_isNewReconciler:!1};function Xr(i,a){if(i&&i.defaultProps){a=W({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Eg(i,a,u,p){a=i.memoizedState,u=u(p,a),u=u==null?a:W({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Lh={isMounted:function(i){return(i=i._reactInternals)?Kr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var p=Xn(),v=to(i),_=hi(p,v);_.payload=a,u!=null&&(_.callback=u),a=Yi(i,_,v),a!==null&&(ts(a,i,v,p),kh(a,i,v))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var p=Xn(),v=to(i),_=hi(p,v);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Yi(i,_,v),a!==null&&(ts(a,i,v,p),kh(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Xn(),p=to(i),v=hi(u,p);v.tag=2,a!=null&&(v.callback=a),a=Yi(i,v,p),a!==null&&(ts(a,i,p,u),kh(a,i,p))}};function X_(i,a,u,p,v,_,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,_,P):a.prototype&&a.prototype.isPureReactComponent?!su(u,p)||!su(v,_):!0}function J_(i,a,u){var p=!1,v=Ki,_=a.contextType;return typeof _=="object"&&_!==null?_=Dr(_):(v=sr(a)?aa:On.current,p=a.contextTypes,_=(p=p!=null)?hl(i,v):Ki),a=new a(u,_),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=_),a}function e1(i,a,u,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==i&&Lh.enqueueReplaceState(a,a.state,null)}function Sg(i,a,u,p){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},dg(i);var _=a.contextType;typeof _=="object"&&_!==null?v.context=Dr(_):(_=sr(a)?aa:On.current,v.context=hl(i,_)),v.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Eg(i,a,_,u),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Lh.enqueueReplaceState(v,v.state,null),Ph(i,u,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function wl(i,a){try{var u="",p=a;do u+=me(p),p=p.return;while(p);var v=u}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:a,stack:v,digest:null}}function Cg(i,a,u){return{value:i,source:null,stack:u??null,digest:a??null}}function Ig(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var WN=typeof WeakMap=="function"?WeakMap:Map;function t1(i,a,u){u=hi(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){Wh||(Wh=!0,zg=p),Ig(i,a)},u}function n1(i,a,u){u=hi(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;u.payload=function(){return p(v)},u.callback=function(){Ig(i,a)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Ig(i,a),typeof p!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),u}function r1(i,a,u){var p=i.pingCache;if(p===null){p=i.pingCache=new WN;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(v.add(u),i=iD.bind(null,i,a,u),a.then(i,i))}function s1(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function i1(i,a,u,p,v){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=hi(-1,1),a.tag=2,Yi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var HN=z.ReactCurrentOwner,ir=!1;function Yn(i,a,u,p){a.child=i===null?S_(a,null,u,p):gl(a,i.child,u,p)}function o1(i,a,u,p,v){u=u.render;var _=a.ref;return vl(a,v),p=vg(i,a,u,p,_,v),u=xg(),i!==null&&!ir?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,fi(i,a,v)):(Rt&&u&&tg(a),a.flags|=1,Yn(i,a,p,v),a.child)}function a1(i,a,u,p,v){if(i===null){var _=u.type;return typeof _=="function"&&!Qg(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,l1(i,a,_,p,v)):(i=Yh(u.type,null,p,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,(i.lanes&v)===0){var P=_.memoizedProps;if(u=u.compare,u=u!==null?u:su,u(P,p)&&i.ref===a.ref)return fi(i,a,v)}return a.flags|=1,i=ro(_,p),i.ref=a.ref,i.return=a,a.child=i}function l1(i,a,u,p,v){if(i!==null){var _=i.memoizedProps;if(su(_,p)&&i.ref===a.ref)if(ir=!1,a.pendingProps=p=_,(i.lanes&v)!==0)(i.flags&131072)!==0&&(ir=!0);else return a.lanes=i.lanes,fi(i,a,v)}return Ag(i,a,u,p,v)}function c1(i,a,u){var p=a.pendingProps,v=p.children,_=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(bl,_r),_r|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,xt(bl,_r),_r|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:u,xt(bl,_r),_r|=p}else _!==null?(p=_.baseLanes|u,a.memoizedState=null):p=u,xt(bl,_r),_r|=p;return Yn(i,a,v,u),a.child}function u1(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Ag(i,a,u,p,v){var _=sr(u)?aa:On.current;return _=hl(a,_),vl(a,v),u=vg(i,a,u,p,_,v),p=xg(),i!==null&&!ir?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,fi(i,a,v)):(Rt&&p&&tg(a),a.flags|=1,Yn(i,a,u,v),a.child)}function d1(i,a,u,p,v){if(sr(u)){var _=!0;bh(a)}else _=!1;if(vl(a,v),a.stateNode===null)Uh(i,a),J_(a,u,p),Sg(a,u,p,v),p=!0;else if(i===null){var P=a.stateNode,q=a.memoizedProps;P.props=q;var H=P.context,X=u.contextType;typeof X=="object"&&X!==null?X=Dr(X):(X=sr(u)?aa:On.current,X=hl(a,X));var ae=u.getDerivedStateFromProps,le=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==p||H!==X)&&e1(a,P,p,X),Zi=!1;var oe=a.memoizedState;P.state=oe,Ph(a,p,P,v),H=a.memoizedState,q!==p||oe!==H||rr.current||Zi?(typeof ae=="function"&&(Eg(a,u,ae,p),H=a.memoizedState),(q=Zi||X_(a,u,q,p,oe,H,X))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=H),P.props=p,P.state=H,P.context=X,p=q):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,I_(i,a),q=a.memoizedProps,X=a.type===a.elementType?q:Xr(a.type,q),P.props=X,le=a.pendingProps,oe=P.context,H=u.contextType,typeof H=="object"&&H!==null?H=Dr(H):(H=sr(u)?aa:On.current,H=hl(a,H));var xe=u.getDerivedStateFromProps;(ae=typeof xe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==le||oe!==H)&&e1(a,P,p,H),Zi=!1,oe=a.memoizedState,P.state=oe,Ph(a,p,P,v);var Ce=a.memoizedState;q!==le||oe!==Ce||rr.current||Zi?(typeof xe=="function"&&(Eg(a,u,xe,p),Ce=a.memoizedState),(X=Zi||X_(a,u,X,p,oe,Ce,H)||!1)?(ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Ce,H),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Ce,H)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||q===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ce),P.props=p,P.state=Ce,P.context=H,p=X):(typeof P.componentDidUpdate!="function"||q===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),p=!1)}return Rg(i,a,u,p,_,v)}function Rg(i,a,u,p,v,_){u1(i,a);var P=(a.flags&128)!==0;if(!p&&!P)return v&&g_(a,u,!1),fi(i,a,_);p=a.stateNode,HN.current=a;var q=P&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&P?(a.child=gl(a,i.child,null,_),a.child=gl(a,null,q,_)):Yn(i,a,q,_),a.memoizedState=p.state,v&&g_(a,u,!0),a.child}function h1(i){var a=i.stateNode;a.pendingContext?p_(i,a.pendingContext,a.pendingContext!==a.context):a.context&&p_(i,a.context,!1),hg(i,a.containerInfo)}function f1(i,a,u,p,v){return ml(),ig(v),a.flags|=256,Yn(i,a,u,p),a.child}var kg={dehydrated:null,treeContext:null,retryLane:0};function Pg(i){return{baseLanes:i,cachePool:null,transitions:null}}function p1(i,a,u){var p=a.pendingProps,v=Nt.current,_=!1,P=(a.flags&128)!==0,q;if((q=P)||(q=i!==null&&i.memoizedState===null?!1:(v&2)!==0),q?(_=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),xt(Nt,v&1),i===null)return sg(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=p.children,i=p.fallback,_?(p=a.mode,_=a.child,P={mode:"hidden",children:P},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=P):_=Xh(P,p,0,null),i=ya(i,p,u,null),_.return=a,i.return=a,_.sibling=i,a.child=_,a.child.memoizedState=Pg(u),a.memoizedState=kg,i):Ng(a,P));if(v=i.memoizedState,v!==null&&(q=v.dehydrated,q!==null))return GN(i,a,P,p,q,v,u);if(_){_=p.fallback,P=a.mode,v=i.child,q=v.sibling;var H={mode:"hidden",children:p.children};return(P&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=H,a.deletions=null):(p=ro(v,H),p.subtreeFlags=v.subtreeFlags&14680064),q!==null?_=ro(q,_):(_=ya(_,P,u,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,P=i.child.memoizedState,P=P===null?Pg(u):{baseLanes:P.baseLanes|u,cachePool:null,transitions:P.transitions},_.memoizedState=P,_.childLanes=i.childLanes&~u,a.memoizedState=kg,p}return _=i.child,i=_.sibling,p=ro(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=p,a.memoizedState=null,p}function Ng(i,a){return a=Xh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Fh(i,a,u,p){return p!==null&&ig(p),gl(a,i.child,null,u),i=Ng(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function GN(i,a,u,p,v,_,P){if(u)return a.flags&256?(a.flags&=-257,p=Cg(Error(n(422))),Fh(i,a,P,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(_=p.fallback,v=a.mode,p=Xh({mode:"visible",children:p.children},v,0,null),_=ya(_,v,P,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&gl(a,i.child,null,P),a.child.memoizedState=Pg(P),a.memoizedState=kg,_);if((a.mode&1)===0)return Fh(i,a,P,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var q=p.dgst;return p=q,_=Error(n(419)),p=Cg(_,p,void 0),Fh(i,a,P,p)}if(q=(P&i.childLanes)!==0,ir||q){if(p=gn,p!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|P))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,di(i,v),ts(p,i,v,-1))}return Kg(),p=Cg(Error(n(421))),Fh(i,a,P,p)}return v.data==="$?"?(a.flags|=128,a.child=i.child,a=oD.bind(null,i),v._reactRetry=a,null):(i=_.treeContext,wr=Hi(v.nextSibling),xr=a,Rt=!0,Yr=null,i!==null&&(Pr[Nr++]=ci,Pr[Nr++]=ui,Pr[Nr++]=la,ci=i.id,ui=i.overflow,la=a),a=Ng(a,p.children),a.flags|=4096,a)}function m1(i,a,u){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),cg(i.return,a,u)}function Dg(i,a,u,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=u,_.tailMode=v)}function g1(i,a,u){var p=a.pendingProps,v=p.revealOrder,_=p.tail;if(Yn(i,a,p.children,u),p=Nt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&m1(i,u,a);else if(i.tag===19)m1(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(xt(Nt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&Nh(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Dg(a,!1,v,u,_);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Nh(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Dg(a,!0,u,null,_);break;case"together":Dg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Uh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function fi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),fa|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=ro(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=ro(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function KN(i,a,u){switch(a.tag){case 3:h1(a),ml();break;case 5:k_(a);break;case 1:sr(a.type)&&bh(a);break;case 4:hg(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;xt(Ah,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(xt(Nt,Nt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?p1(i,a,u):(xt(Nt,Nt.current&1),i=fi(i,a,u),i!==null?i.sibling:null);xt(Nt,Nt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(i.flags&128)!==0){if(p)return g1(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),xt(Nt,Nt.current),p)break;return null;case 22:case 23:return a.lanes=0,c1(i,a,u)}return fi(i,a,u)}var y1,Mg,v1,x1;y1=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Mg=function(){},v1=function(i,a,u,p){var v=i.memoizedProps;if(v!==p){i=a.stateNode,da(Ns.current);var _=null;switch(u){case"input":v=je(i,v),p=je(i,p),_=[];break;case"select":v=W({},v,{value:void 0}),p=W({},p,{value:void 0}),_=[];break;case"textarea":v=Ir(i,v),p=Ir(i,p),_=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=xh)}tr(u,p);var P;u=null;for(X in v)if(!p.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var q=v[X];for(P in q)q.hasOwnProperty(P)&&(u||(u={}),u[P]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in p){var H=p[X];if(q=v?.[X],p.hasOwnProperty(X)&&H!==q&&(H!=null||q!=null))if(X==="style")if(q){for(P in q)!q.hasOwnProperty(P)||H&&H.hasOwnProperty(P)||(u||(u={}),u[P]="");for(P in H)H.hasOwnProperty(P)&&q[P]!==H[P]&&(u||(u={}),u[P]=H[P])}else u||(_||(_=[]),_.push(X,u)),u=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(_=_||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&St("scroll",i),_||q===H||(_=[])):(_=_||[]).push(X,H))}u&&(_=_||[]).push("style",u);var X=_;(a.updateQueue=X)&&(a.flags|=4)}},x1=function(i,a,u,p){u!==p&&(a.flags|=4)};function xu(i,a){if(!Rt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Vn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,a}function QN(i,a,u){var p=a.pendingProps;switch(ng(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(a),null;case 1:return sr(a.type)&&_h(),Vn(a),null;case 3:return p=a.stateNode,xl(),Ct(rr),Ct(On),mg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Ch(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yr!==null&&(Wg(Yr),Yr=null))),Mg(i,a),Vn(a),null;case 5:fg(a);var v=da(pu.current);if(u=a.type,i!==null&&a.stateNode!=null)v1(i,a,u,p,v),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return Vn(a),null}if(i=da(Ns.current),Ch(a)){p=a.stateNode,u=a.type;var _=a.memoizedProps;switch(p[Ps]=a,p[cu]=_,i=(a.mode&1)!==0,u){case"dialog":St("cancel",p),St("close",p);break;case"iframe":case"object":case"embed":St("load",p);break;case"video":case"audio":for(v=0;v<ou.length;v++)St(ou[v],p);break;case"source":St("error",p);break;case"img":case"image":case"link":St("error",p),St("load",p);break;case"details":St("toggle",p);break;case"input":vt(p,_),St("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},St("invalid",p);break;case"textarea":gs(p,_),St("invalid",p)}tr(u,_),v=null;for(var P in _)if(_.hasOwnProperty(P)){var q=_[P];P==="children"?typeof q=="string"?p.textContent!==q&&(_.suppressHydrationWarning!==!0&&vh(p.textContent,q,i),v=["children",q]):typeof q=="number"&&p.textContent!==""+q&&(_.suppressHydrationWarning!==!0&&vh(p.textContent,q,i),v=["children",""+q]):s.hasOwnProperty(P)&&q!=null&&P==="onScroll"&&St("scroll",p)}switch(u){case"input":Ye(p),dn(p,_,!0);break;case"textarea":Ye(p),Ar(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=xh)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vs(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=P.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=P.createElement(u,{is:p.is}):(i=P.createElement(u),u==="select"&&(P=i,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):i=P.createElementNS(i,u),i[Ps]=a,i[cu]=p,y1(i,a,!1,!1),a.stateNode=i;e:{switch(P=ji(u,p),u){case"dialog":St("cancel",i),St("close",i),v=p;break;case"iframe":case"object":case"embed":St("load",i),v=p;break;case"video":case"audio":for(v=0;v<ou.length;v++)St(ou[v],i);v=p;break;case"source":St("error",i),v=p;break;case"img":case"image":case"link":St("error",i),St("load",i),v=p;break;case"details":St("toggle",i),v=p;break;case"input":vt(i,p),v=je(i,p),St("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=W({},p,{value:void 0}),St("invalid",i);break;case"textarea":gs(i,p),v=Ir(i,p),St("invalid",i);break;default:v=p}tr(u,v),q=v;for(_ in q)if(q.hasOwnProperty(_)){var H=q[_];_==="style"?Oi(i,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&dr(i,H)):_==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&hr(i,H):typeof H=="number"&&hr(i,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?H!=null&&_==="onScroll"&&St("scroll",i):H!=null&&j(i,_,H,P))}switch(u){case"input":Ye(i),dn(i,p,!1);break;case"textarea":Ye(i),Ar(i);break;case"option":p.value!=null&&i.setAttribute("value",""+ye(p.value));break;case"select":i.multiple=!!p.multiple,_=p.value,_!=null?hn(i,!!p.multiple,_,!1):p.defaultValue!=null&&hn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=xh)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Vn(a),null;case 6:if(i&&a.stateNode!=null)x1(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(u=da(pu.current),da(Ns.current),Ch(a)){if(p=a.stateNode,u=a.memoizedProps,p[Ps]=a,(_=p.nodeValue!==u)&&(i=xr,i!==null))switch(i.tag){case 3:vh(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vh(p.nodeValue,u,(i.mode&1)!==0)}_&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Ps]=a,a.stateNode=p}return Vn(a),null;case 13:if(Ct(Nt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Rt&&wr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)b_(),ml(),a.flags|=98560,_=!1;else if(_=Ch(a),p!==null&&p.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Ps]=a}else ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vn(a),_=!1}else Yr!==null&&(Wg(Yr),Yr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Nt.current&1)!==0?an===0&&(an=3):Kg())),a.updateQueue!==null&&(a.flags|=4),Vn(a),null);case 4:return xl(),Mg(i,a),i===null&&au(a.stateNode.containerInfo),Vn(a),null;case 10:return lg(a.type._context),Vn(a),null;case 17:return sr(a.type)&&_h(),Vn(a),null;case 19:if(Ct(Nt),_=a.memoizedState,_===null)return Vn(a),null;if(p=(a.flags&128)!==0,P=_.rendering,P===null)if(p)xu(_,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(P=Nh(i),P!==null){for(a.flags|=128,xu(_,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)_=u,i=p,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,i=P.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return xt(Nt,Nt.current&1|2),a.child}i=i.sibling}_.tail!==null&&Et()>Tl&&(a.flags|=128,p=!0,xu(_,!1),a.lanes=4194304)}else{if(!p)if(i=Nh(P),i!==null){if(a.flags|=128,p=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),xu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!Rt)return Vn(a),null}else 2*Et()-_.renderingStartTime>Tl&&u!==1073741824&&(a.flags|=128,p=!0,xu(_,!1),a.lanes=4194304);_.isBackwards?(P.sibling=a.child,a.child=P):(u=_.last,u!==null?u.sibling=P:a.child=P,_.last=P)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Et(),a.sibling=null,u=Nt.current,xt(Nt,p?u&1|2:u&1),a):(Vn(a),null);case 22:case 23:return Gg(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(_r&1073741824)!==0&&(Vn(a),a.subtreeFlags&6&&(a.flags|=8192)):Vn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function ZN(i,a){switch(ng(a),a.tag){case 1:return sr(a.type)&&_h(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return xl(),Ct(rr),Ct(On),mg(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return fg(a),null;case 13:if(Ct(Nt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ml()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Ct(Nt),null;case 4:return xl(),null;case 10:return lg(a.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var Bh=!1,Ln=!1,YN=typeof WeakSet=="function"?WeakSet:Set,Se=null;function _l(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Ft(i,a,p)}else u.current=null}function Og(i,a,u){try{u()}catch(p){Ft(i,a,p)}}var w1=!1;function XN(i,a){if(Gm=si,i=Xw(),Fm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var P=0,q=-1,H=-1,X=0,ae=0,le=i,oe=null;t:for(;;){for(var xe;le!==u||v!==0&&le.nodeType!==3||(q=P+v),le!==_||p!==0&&le.nodeType!==3||(H=P+p),le.nodeType===3&&(P+=le.nodeValue.length),(xe=le.firstChild)!==null;)oe=le,le=xe;for(;;){if(le===i)break t;if(oe===u&&++X===v&&(q=P),oe===_&&++ae===p&&(H=P),(xe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=xe}u=q===-1||H===-1?null:{start:q,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Km={focusedElem:i,selectionRange:u},si=!1,Se=a;Se!==null;)if(a=Se,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Se=i;else for(;Se!==null;){a=Se;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Re=Ce.memoizedProps,Kt=Ce.memoizedState,Q=a.stateNode,G=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Re:Xr(a.type,Re),Kt);Q.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Ft(a,a.return,he)}if(i=a.sibling,i!==null){i.return=a.return,Se=i;break}Se=a.return}return Ce=w1,w1=!1,Ce}function wu(i,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var _=v.destroy;v.destroy=void 0,_!==void 0&&Og(a,u,_)}v=v.next}while(v!==p)}}function zh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function jg(i){var a=i.ref;if(a!==null){var u=i.stateNode;i.tag,i=u,typeof a=="function"?a(i):a.current=i}}function _1(i){var a=i.alternate;a!==null&&(i.alternate=null,_1(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ps],delete a[cu],delete a[Xm],delete a[MN],delete a[ON])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function b1(i){return i.tag===5||i.tag===3||i.tag===4}function T1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||b1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=xh));else if(p!==4&&(i=i.child,i!==null))for(Vg(i,a,u),i=i.sibling;i!==null;)Vg(i,a,u),i=i.sibling}function Lg(i,a,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Lg(i,a,u),i=i.sibling;i!==null;)Lg(i,a,u),i=i.sibling}var In=null,Jr=!1;function Xi(i,a,u){for(u=u.child;u!==null;)E1(i,a,u),u=u.sibling}function E1(i,a,u){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Yo,u)}catch{}switch(u.tag){case 5:Ln||_l(u,a);case 6:var p=In,v=Jr;In=null,Xi(i,a,u),In=p,Jr=v,In!==null&&(Jr?(i=In,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&(Jr?(i=In,u=u.stateNode,i.nodeType===8?Ym(i.parentNode,u):i.nodeType===1&&Ym(i,u),zi(i)):Ym(In,u.stateNode));break;case 4:p=In,v=Jr,In=u.stateNode.containerInfo,Jr=!0,Xi(i,a,u),In=p,Jr=v;break;case 0:case 11:case 14:case 15:if(!Ln&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var _=v,P=_.destroy;_=_.tag,P!==void 0&&((_&2)!==0||(_&4)!==0)&&Og(u,a,P),v=v.next}while(v!==p)}Xi(i,a,u);break;case 1:if(!Ln&&(_l(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(q){Ft(u,a,q)}Xi(i,a,u);break;case 21:Xi(i,a,u);break;case 22:u.mode&1?(Ln=(p=Ln)||u.memoizedState!==null,Xi(i,a,u),Ln=p):Xi(i,a,u);break;default:Xi(i,a,u)}}function S1(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new YN),a.forEach(function(p){var v=aD.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}}function es(i,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var _=i,P=a,q=P;e:for(;q!==null;){switch(q.tag){case 5:In=q.stateNode,Jr=!1;break e;case 3:In=q.stateNode.containerInfo,Jr=!0;break e;case 4:In=q.stateNode.containerInfo,Jr=!0;break e}q=q.return}if(In===null)throw Error(n(160));E1(_,P,v),In=null,Jr=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(X){Ft(v,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)C1(a,i),a=a.sibling}function C1(i,a){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(es(a,i),Ms(i),p&4){try{wu(3,i,i.return),zh(3,i)}catch(Re){Ft(i,i.return,Re)}try{wu(5,i,i.return)}catch(Re){Ft(i,i.return,Re)}}break;case 1:es(a,i),Ms(i),p&512&&u!==null&&_l(u,u.return);break;case 5:if(es(a,i),Ms(i),p&512&&u!==null&&_l(u,u.return),i.flags&32){var v=i.stateNode;try{hr(v,"")}catch(Re){Ft(i,i.return,Re)}}if(p&4&&(v=i.stateNode,v!=null)){var _=i.memoizedProps,P=u!==null?u.memoizedProps:_,q=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{q==="input"&&_.type==="radio"&&_.name!=null&&bt(v,_),ji(q,P);var X=ji(q,_);for(P=0;P<H.length;P+=2){var ae=H[P],le=H[P+1];ae==="style"?Oi(v,le):ae==="dangerouslySetInnerHTML"?dr(v,le):ae==="children"?hr(v,le):j(v,ae,le,X)}switch(q){case"input":Vt(v,_);break;case"textarea":ys(v,_);break;case"select":var oe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var xe=_.value;xe!=null?hn(v,!!_.multiple,xe,!1):oe!==!!_.multiple&&(_.defaultValue!=null?hn(v,!!_.multiple,_.defaultValue,!0):hn(v,!!_.multiple,_.multiple?[]:"",!1))}v[cu]=_}catch(Re){Ft(i,i.return,Re)}}break;case 6:if(es(a,i),Ms(i),p&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,_=i.memoizedProps;try{v.nodeValue=_}catch(Re){Ft(i,i.return,Re)}}break;case 3:if(es(a,i),Ms(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{zi(a.containerInfo)}catch(Re){Ft(i,i.return,Re)}break;case 4:es(a,i),Ms(i);break;case 13:es(a,i),Ms(i),v=i.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(Bg=Et())),p&4&&S1(i);break;case 22:if(ae=u!==null&&u.memoizedState!==null,i.mode&1?(Ln=(X=Ln)||ae,es(a,i),Ln=X):es(a,i),Ms(i),p&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!ae&&(i.mode&1)!==0)for(Se=i,ae=i.child;ae!==null;){for(le=Se=ae;Se!==null;){switch(oe=Se,xe=oe.child,oe.tag){case 0:case 11:case 14:case 15:wu(4,oe,oe.return);break;case 1:_l(oe,oe.return);var Ce=oe.stateNode;if(typeof Ce.componentWillUnmount=="function"){p=oe,u=oe.return;try{a=p,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Re){Ft(p,u,Re)}}break;case 5:_l(oe,oe.return);break;case 22:if(oe.memoizedState!==null){R1(le);continue}}xe!==null?(xe.return=oe,Se=xe):R1(le)}ae=ae.sibling}e:for(ae=null,le=i;;){if(le.tag===5){if(ae===null){ae=le;try{v=le.stateNode,X?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(q=le.stateNode,H=le.memoizedProps.style,P=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=Rr("display",P))}catch(Re){Ft(i,i.return,Re)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=X?"":le.memoizedProps}catch(Re){Ft(i,i.return,Re)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:es(a,i),Ms(i),p&4&&S1(i);break;case 21:break;default:es(a,i),Ms(i)}}function Ms(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(b1(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(hr(v,""),p.flags&=-33);var _=T1(i);Lg(i,_,v);break;case 3:case 4:var P=p.stateNode.containerInfo,q=T1(i);Vg(i,q,P);break;default:throw Error(n(161))}}catch(H){Ft(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function JN(i,a,u){Se=i,I1(i)}function I1(i,a,u){for(var p=(i.mode&1)!==0;Se!==null;){var v=Se,_=v.child;if(v.tag===22&&p){var P=v.memoizedState!==null||Bh;if(!P){var q=v.alternate,H=q!==null&&q.memoizedState!==null||Ln;q=Bh;var X=Ln;if(Bh=P,(Ln=H)&&!X)for(Se=v;Se!==null;)P=Se,H=P.child,P.tag===22&&P.memoizedState!==null?k1(v):H!==null?(H.return=P,Se=H):k1(v);for(;_!==null;)Se=_,I1(_),_=_.sibling;Se=v,Bh=q,Ln=X}A1(i)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,Se=_):A1(i)}}function A1(i){for(;Se!==null;){var a=Se;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Ln||zh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Ln)if(u===null)p.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Xr(a.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&R_(a,_,p);break;case 3:var P=a.updateQueue;if(P!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}R_(a,P,u)}break;case 5:var q=a.stateNode;if(u===null&&a.flags&4){u=q;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&zi(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ln||a.flags&512&&jg(a)}catch(oe){Ft(a,a.return,oe)}}if(a===i){Se=null;break}if(u=a.sibling,u!==null){u.return=a.return,Se=u;break}Se=a.return}}function R1(i){for(;Se!==null;){var a=Se;if(a===i){Se=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Se=u;break}Se=a.return}}function k1(i){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{zh(4,a)}catch(H){Ft(a,u,H)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(H){Ft(a,v,H)}}var _=a.return;try{jg(a)}catch(H){Ft(a,_,H)}break;case 5:var P=a.return;try{jg(a)}catch(H){Ft(a,P,H)}}}catch(H){Ft(a,a.return,H)}if(a===i){Se=null;break}var q=a.sibling;if(q!==null){q.return=a.return,Se=q;break}Se=a.return}}var eD=Math.ceil,$h=z.ReactCurrentDispatcher,Fg=z.ReactCurrentOwner,Or=z.ReactCurrentBatchConfig,lt=0,gn=null,Xt=null,An=0,_r=0,bl=Gi(0),an=0,_u=null,fa=0,qh=0,Ug=0,bu=null,or=null,Bg=0,Tl=1/0,pi=null,Wh=!1,zg=null,Ji=null,Hh=!1,eo=null,Gh=0,Tu=0,$g=null,Kh=-1,Qh=0;function Xn(){return(lt&6)!==0?Et():Kh!==-1?Kh:Kh=Et()}function to(i){return(i.mode&1)===0?1:(lt&2)!==0&&An!==0?An&-An:VN.transition!==null?(Qh===0&&(Qh=qc()),Qh):(i=it,i!==0||(i=window.event,i=i===void 0?16:Xa(i.type)),i)}function ts(i,a,u,p){if(50<Tu)throw Tu=0,$g=null,Error(n(185));ta(i,u,p),((lt&2)===0||i!==gn)&&(i===gn&&((lt&2)===0&&(qh|=u),an===4&&no(i,An)),ar(i,p),u===1&&lt===0&&(a.mode&1)===0&&(Tl=Et()+500,Th&&Qi()))}function ar(i,a){var u=i.callbackNode;ea(i,a);var p=ti(i,i===gn?An:0);if(p===0)u!==null&&Wa(u),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(u!=null&&Wa(u),a===1)i.tag===0?jN(N1.bind(null,i)):y_(N1.bind(null,i)),NN(function(){(lt&6)===0&&Qi()}),u=null;else{switch(_s(p)){case 1:u=Ha;break;case 4:u=Bc;break;case 16:u=Zo;break;case 536870912:u=Ga;break;default:u=Zo}u=U1(u,P1.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function P1(i,a){if(Kh=-1,Qh=0,(lt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(El()&&i.callbackNode!==u)return null;var p=ti(i,i===gn?An:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Zh(i,p);else{a=p;var v=lt;lt|=2;var _=M1();(gn!==i||An!==a)&&(pi=null,Tl=Et()+500,ma(i,a));do try{rD();break}catch(q){D1(i,q)}while(!0);ag(),$h.current=_,lt=v,Xt!==null?a=0:(gn=null,An=0,a=an)}if(a!==0){if(a===2&&(v=$c(i),v!==0&&(p=v,a=qg(i,v))),a===1)throw u=_u,ma(i,0),no(i,p),ar(i,Et()),u;if(a===6)no(i,p);else{if(v=i.current.alternate,(p&30)===0&&!tD(v)&&(a=Zh(i,p),a===2&&(_=$c(i),_!==0&&(p=_,a=qg(i,_))),a===1))throw u=_u,ma(i,0),no(i,p),ar(i,Et()),u;switch(i.finishedWork=v,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:ga(i,or,pi);break;case 3:if(no(i,p),(p&130023424)===p&&(a=Bg+500-Et(),10<a)){if(ti(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){Xn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Zm(ga.bind(null,i,or,pi),a);break}ga(i,or,pi);break;case 4:if(no(i,p),(p&4194240)===p)break;for(a=i.eventTimes,v=-1;0<p;){var P=31-pr(p);_=1<<P,P=a[P],P>v&&(v=P),p&=~_}if(p=v,p=Et()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*eD(p/1960))-p,10<p){i.timeoutHandle=Zm(ga.bind(null,i,or,pi),p);break}ga(i,or,pi);break;case 5:ga(i,or,pi);break;default:throw Error(n(329))}}}return ar(i,Et()),i.callbackNode===u?P1.bind(null,i):null}function qg(i,a){var u=bu;return i.current.memoizedState.isDehydrated&&(ma(i,a).flags|=256),i=Zh(i,a),i!==2&&(a=or,or=u,a!==null&&Wg(a)),i}function Wg(i){or===null?or=i:or.push.apply(or,i)}function tD(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],_=v.getSnapshot;v=v.value;try{if(!Zr(_(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function no(i,a){for(a&=~Ug,a&=~qh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-pr(a),p=1<<u;i[u]=-1,a&=~p}}function N1(i){if((lt&6)!==0)throw Error(n(327));El();var a=ti(i,0);if((a&1)===0)return ar(i,Et()),null;var u=Zh(i,a);if(i.tag!==0&&u===2){var p=$c(i);p!==0&&(a=p,u=qg(i,p))}if(u===1)throw u=_u,ma(i,0),no(i,a),ar(i,Et()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,ga(i,or,pi),ar(i,Et()),null}function Hg(i,a){var u=lt;lt|=1;try{return i(a)}finally{lt=u,lt===0&&(Tl=Et()+500,Th&&Qi())}}function pa(i){eo!==null&&eo.tag===0&&(lt&6)===0&&El();var a=lt;lt|=1;var u=Or.transition,p=it;try{if(Or.transition=null,it=1,i)return i()}finally{it=p,Or.transition=u,lt=a,(lt&6)===0&&Qi()}}function Gg(){_r=bl.current,Ct(bl)}function ma(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,PN(u)),Xt!==null)for(u=Xt.return;u!==null;){var p=u;switch(ng(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&_h();break;case 3:xl(),Ct(rr),Ct(On),mg();break;case 5:fg(p);break;case 4:xl();break;case 13:Ct(Nt);break;case 19:Ct(Nt);break;case 10:lg(p.type._context);break;case 22:case 23:Gg()}u=u.return}if(gn=i,Xt=i=ro(i.current,null),An=_r=a,an=0,_u=null,Ug=qh=fa=0,or=bu=null,ua!==null){for(a=0;a<ua.length;a++)if(u=ua[a],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,_=u.pending;if(_!==null){var P=_.next;_.next=v,p.next=P}u.pending=p}ua=null}return i}function D1(i,a){do{var u=Xt;try{if(ag(),Dh.current=Vh,Mh){for(var p=Dt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Mh=!1}if(ha=0,mn=on=Dt=null,mu=!1,gu=0,Fg.current=null,u===null||u.return===null){an=1,_u=a,Xt=null;break}e:{var _=i,P=u.return,q=u,H=a;if(a=An,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ae=q,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var xe=s1(P);if(xe!==null){xe.flags&=-257,i1(xe,P,q,_,a),xe.mode&1&&r1(_,X,a),a=xe,H=X;var Ce=a.updateQueue;if(Ce===null){var Re=new Set;Re.add(H),a.updateQueue=Re}else Ce.add(H);break e}else{if((a&1)===0){r1(_,X,a),Kg();break e}H=Error(n(426))}}else if(Rt&&q.mode&1){var Kt=s1(P);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),i1(Kt,P,q,_,a),ig(wl(H,q));break e}}_=H=wl(H,q),an!==4&&(an=2),bu===null?bu=[_]:bu.push(_),_=P;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Q=t1(_,H,a);A_(_,Q);break e;case 1:q=H;var G=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ji===null||!Ji.has(Y)))){_.flags|=65536,a&=-a,_.lanes|=a;var he=n1(_,q,a);A_(_,he);break e}}_=_.return}while(_!==null)}j1(u)}catch(Pe){a=Pe,Xt===u&&u!==null&&(Xt=u=u.return);continue}break}while(!0)}function M1(){var i=$h.current;return $h.current=Vh,i===null?Vh:i}function Kg(){(an===0||an===3||an===2)&&(an=4),gn===null||(fa&268435455)===0&&(qh&268435455)===0||no(gn,An)}function Zh(i,a){var u=lt;lt|=2;var p=M1();(gn!==i||An!==a)&&(pi=null,ma(i,a));do try{nD();break}catch(v){D1(i,v)}while(!0);if(ag(),lt=u,$h.current=p,Xt!==null)throw Error(n(261));return gn=null,An=0,an}function nD(){for(;Xt!==null;)O1(Xt)}function rD(){for(;Xt!==null&&!Qo();)O1(Xt)}function O1(i){var a=F1(i.alternate,i,_r);i.memoizedProps=i.pendingProps,a===null?j1(i):Xt=a,Fg.current=null}function j1(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=QN(u,a,_r),u!==null){Xt=u;return}}else{if(u=ZN(u,a),u!==null){u.flags&=32767,Xt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,Xt=null;return}}if(a=a.sibling,a!==null){Xt=a;return}Xt=a=i}while(a!==null);an===0&&(an=5)}function ga(i,a,u){var p=it,v=Or.transition;try{Or.transition=null,it=1,sD(i,a,u,p)}finally{Or.transition=v,it=p}return null}function sD(i,a,u,p){do El();while(eo!==null);if((lt&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Mm(i,_),i===gn&&(Xt=gn=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Hh||(Hh=!0,U1(Zo,function(){return El(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Or.transition,Or.transition=null;var P=it;it=1;var q=lt;lt|=4,Fg.current=null,XN(i,u),C1(u,i),EN(Km),si=!!Gm,Km=Gm=null,i.current=u,JN(u),ei(),lt=q,it=P,Or.transition=_}else i.current=u;if(Hh&&(Hh=!1,eo=i,Gh=v),_=i.pendingLanes,_===0&&(Ji=null),rh(u.stateNode),ar(i,Et()),a!==null)for(p=i.onRecoverableError,u=0;u<a.length;u++)v=a[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Wh)throw Wh=!1,i=zg,zg=null,i;return(Gh&1)!==0&&i.tag!==0&&El(),_=i.pendingLanes,(_&1)!==0?i===$g?Tu++:(Tu=0,$g=i):Tu=0,Qi(),null}function El(){if(eo!==null){var i=_s(Gh),a=Or.transition,u=it;try{if(Or.transition=null,it=16>i?16:i,eo===null)var p=!1;else{if(i=eo,eo=null,Gh=0,(lt&6)!==0)throw Error(n(331));var v=lt;for(lt|=4,Se=i.current;Se!==null;){var _=Se,P=_.child;if((Se.flags&16)!==0){var q=_.deletions;if(q!==null){for(var H=0;H<q.length;H++){var X=q[H];for(Se=X;Se!==null;){var ae=Se;switch(ae.tag){case 0:case 11:case 15:wu(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,Se=le;else for(;Se!==null;){ae=Se;var oe=ae.sibling,xe=ae.return;if(_1(ae),ae===X){Se=null;break}if(oe!==null){oe.return=xe,Se=oe;break}Se=xe}}}var Ce=_.alternate;if(Ce!==null){var Re=Ce.child;if(Re!==null){Ce.child=null;do{var Kt=Re.sibling;Re.sibling=null,Re=Kt}while(Re!==null)}}Se=_}}if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,Se=P;else e:for(;Se!==null;){if(_=Se,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:wu(9,_,_.return)}var Q=_.sibling;if(Q!==null){Q.return=_.return,Se=Q;break e}Se=_.return}}var G=i.current;for(Se=G;Se!==null;){P=Se;var Y=P.child;if((P.subtreeFlags&2064)!==0&&Y!==null)Y.return=P,Se=Y;else e:for(P=G;Se!==null;){if(q=Se,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:zh(9,q)}}catch(Pe){Ft(q,q.return,Pe)}if(q===P){Se=null;break e}var he=q.sibling;if(he!==null){he.return=q.return,Se=he;break e}Se=q.return}}if(lt=v,Qi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Yo,i)}catch{}p=!0}return p}finally{it=u,Or.transition=a}}return!1}function V1(i,a,u){a=wl(u,a),a=t1(i,a,1),i=Yi(i,a,1),a=Xn(),i!==null&&(ta(i,1,a),ar(i,a))}function Ft(i,a,u){if(i.tag===3)V1(i,i,u);else for(;a!==null;){if(a.tag===3){V1(a,i,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ji===null||!Ji.has(p))){i=wl(u,i),i=n1(a,i,1),a=Yi(a,i,1),i=Xn(),a!==null&&(ta(a,1,i),ar(a,i));break}}a=a.return}}function iD(i,a,u){var p=i.pingCache;p!==null&&p.delete(a),a=Xn(),i.pingedLanes|=i.suspendedLanes&u,gn===i&&(An&u)===u&&(an===4||an===3&&(An&130023424)===An&&500>Et()-Bg?ma(i,0):Ug|=u),ar(i,a)}function L1(i,a){a===0&&((i.mode&1)===0?a=1:(a=Fi,Fi<<=1,(Fi&130023424)===0&&(Fi=4194304)));var u=Xn();i=di(i,a),i!==null&&(ta(i,a,u),ar(i,u))}function oD(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),L1(i,u)}function aD(i,a){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),L1(i,u)}var F1;F1=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||rr.current)ir=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return ir=!1,KN(i,a,u);ir=(i.flags&131072)!==0}else ir=!1,Rt&&(a.flags&1048576)!==0&&v_(a,Sh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Uh(i,a),i=a.pendingProps;var v=hl(a,On.current);vl(a,u),v=vg(null,a,p,i,v,u);var _=xg();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,sr(p)?(_=!0,bh(a)):_=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,dg(a),v.updater=Lh,a.stateNode=v,v._reactInternals=a,Sg(a,p,i,u),a=Rg(null,a,p,!0,_,u)):(a.tag=0,Rt&&_&&tg(a),Yn(null,a,v,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Uh(i,a),i=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=cD(p),i=Xr(p,i),v){case 0:a=Ag(null,a,p,i,u);break e;case 1:a=d1(null,a,p,i,u);break e;case 11:a=o1(null,a,p,i,u);break e;case 14:a=a1(null,a,p,Xr(p.type,i),u);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Xr(p,v),Ag(i,a,p,v,u);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Xr(p,v),d1(i,a,p,v,u);case 3:e:{if(h1(a),i===null)throw Error(n(387));p=a.pendingProps,_=a.memoizedState,v=_.element,I_(i,a),Ph(a,p,null,u);var P=a.memoizedState;if(p=P.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){v=wl(Error(n(423)),a),a=f1(i,a,p,u,v);break e}else if(p!==v){v=wl(Error(n(424)),a),a=f1(i,a,p,u,v);break e}else for(wr=Hi(a.stateNode.containerInfo.firstChild),xr=a,Rt=!0,Yr=null,u=S_(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ml(),p===v){a=fi(i,a,u);break e}Yn(i,a,p,u)}a=a.child}return a;case 5:return k_(a),i===null&&sg(a),p=a.type,v=a.pendingProps,_=i!==null?i.memoizedProps:null,P=v.children,Qm(p,v)?P=null:_!==null&&Qm(p,_)&&(a.flags|=32),u1(i,a),Yn(i,a,P,u),a.child;case 6:return i===null&&sg(a),null;case 13:return p1(i,a,u);case 4:return hg(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=gl(a,null,p,u):Yn(i,a,p,u),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Xr(p,v),o1(i,a,p,v,u);case 7:return Yn(i,a,a.pendingProps,u),a.child;case 8:return Yn(i,a,a.pendingProps.children,u),a.child;case 12:return Yn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,_=a.memoizedProps,P=v.value,xt(Ah,p._currentValue),p._currentValue=P,_!==null)if(Zr(_.value,P)){if(_.children===v.children&&!rr.current){a=fi(i,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var q=_.dependencies;if(q!==null){P=_.child;for(var H=q.firstContext;H!==null;){if(H.context===p){if(_.tag===1){H=hi(-1,u&-u),H.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),X.pending=H}}_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),cg(_.return,u,a),q.lanes|=u;break}H=H.next}}else if(_.tag===10)P=_.type===a.type?null:_.child;else if(_.tag===18){if(P=_.return,P===null)throw Error(n(341));P.lanes|=u,q=P.alternate,q!==null&&(q.lanes|=u),cg(P,u,a),P=_.sibling}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===a){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}Yn(i,a,v.children,u),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,vl(a,u),v=Dr(v),p=p(v),a.flags|=1,Yn(i,a,p,u),a.child;case 14:return p=a.type,v=Xr(p,a.pendingProps),v=Xr(p.type,v),a1(i,a,p,v,u);case 15:return l1(i,a,a.type,a.pendingProps,u);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Xr(p,v),Uh(i,a),a.tag=1,sr(p)?(i=!0,bh(a)):i=!1,vl(a,u),J_(a,p,v),Sg(a,p,v,u),Rg(null,a,p,!0,i,u);case 19:return g1(i,a,u);case 22:return c1(i,a,u)}throw Error(n(156,a.tag))};function U1(i,a){return Uc(i,a)}function lD(i,a,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(i,a,u,p){return new lD(i,a,u,p)}function Qg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cD(i){if(typeof i=="function")return Qg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===Ie)return 14}return 2}function ro(i,a){var u=i.alternate;return u===null?(u=jr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Yh(i,a,u,p,v,_){var P=2;if(p=i,typeof i=="function")Qg(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case A:return ya(u.children,v,_,a);case I:P=8,v|=8;break;case k:return i=jr(12,u,a,v|2),i.elementType=k,i.lanes=_,i;case F:return i=jr(13,u,a,v),i.elementType=F,i.lanes=_,i;case te:return i=jr(19,u,a,v),i.elementType=te,i.lanes=_,i;case pe:return Xh(u,v,_,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:P=10;break e;case B:P=9;break e;case $:P=11;break e;case Ie:P=14;break e;case ke:P=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=jr(P,u,a,v),a.elementType=i,a.type=p,a.lanes=_,a}function ya(i,a,u,p){return i=jr(7,i,p,a),i.lanes=u,i}function Xh(i,a,u,p){return i=jr(22,i,p,a),i.elementType=pe,i.lanes=u,i.stateNode={isHidden:!1},i}function Zg(i,a,u){return i=jr(6,i,null,a),i.lanes=u,i}function Yg(i,a,u){return a=jr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function uD(i,a,u,p,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Xg(i,a,u,p,v,_,P,q,H){return i=new uD(i,a,u,q,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=jr(3,null,null,a),i.current=_,_.stateNode=i,_.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(_),i}function dD(i,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:p==null?null:""+p,children:i,containerInfo:a,implementation:u}}function B1(i){if(!i)return Ki;i=i._reactInternals;e:{if(Kr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(sr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(sr(u))return m_(i,u,a)}return a}function z1(i,a,u,p,v,_,P,q,H){return i=Xg(u,p,!0,i,v,_,P,q,H),i.context=B1(null),u=i.current,p=Xn(),v=to(u),_=hi(p,v),_.callback=a??null,Yi(u,_,v),i.current.lanes=v,ta(i,v,p),ar(i,p),i}function Jh(i,a,u,p){var v=a.current,_=Xn(),P=to(v);return u=B1(u),a.context===null?a.context=u:a.pendingContext=u,a=hi(_,P),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=Yi(v,a,P),i!==null&&(ts(i,v,P,_),kh(i,v,P)),P}function ef(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function $1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Jg(i,a){$1(i,a),(i=i.alternate)&&$1(i,a)}function hD(){return null}var q1=typeof reportError=="function"?reportError:function(i){console.error(i)};function ey(i){this._internalRoot=i}tf.prototype.render=ey.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Jh(i,a,null,null)},tf.prototype.unmount=ey.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;pa(function(){Jh(null,i,null,null)}),a[ai]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var a=Qc();i={blockedOn:null,target:i,priority:a};for(var u=0;u<mr.length&&a!==0&&a<mr[u].priority;u++);mr.splice(u,0,i),u===0&&Za(i)}};function ty(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function W1(){}function fD(i,a,u,p,v){if(v){if(typeof p=="function"){var _=p;p=function(){var X=ef(P);_.call(X)}}var P=z1(a,p,i,0,null,!1,!1,"",W1);return i._reactRootContainer=P,i[ai]=P.current,au(i.nodeType===8?i.parentNode:i),pa(),P}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var q=p;p=function(){var X=ef(H);q.call(X)}}var H=Xg(i,0,!1,null,null,!1,!1,"",W1);return i._reactRootContainer=H,i[ai]=H.current,au(i.nodeType===8?i.parentNode:i),pa(function(){Jh(a,H,u,p)}),H}function rf(i,a,u,p,v){var _=u._reactRootContainer;if(_){var P=_;if(typeof v=="function"){var q=v;v=function(){var H=ef(P);q.call(H)}}Jh(a,P,i,v)}else P=fD(u,a,i,v,p);return ef(P)}Gc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=dt(a.pendingLanes);u!==0&&(Hc(a,u|1),ar(a,Et()),(lt&6)===0&&(Tl=Et()+500,Qi()))}break;case 13:pa(function(){var p=di(i,1);if(p!==null){var v=Xn();ts(p,i,1,v)}}),Jg(i,1)}},Ka=function(i){if(i.tag===13){var a=di(i,134217728);if(a!==null){var u=Xn();ts(a,i,134217728,u)}Jg(i,134217728)}},Kc=function(i){if(i.tag===13){var a=to(i),u=di(i,a);if(u!==null){var p=Xn();ts(u,i,a,p)}Jg(i,a)}},Qc=function(){return it},Zc=function(i,a){var u=it;try{return it=i,a()}finally{it=u}},Wr=function(i,a,u){switch(a){case"input":if(Vt(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==i&&p.form===i.form){var v=wh(p);if(!v)throw Error(n(90));Ke(p),Vt(p,v)}}}break;case"textarea":ys(i,u);break;case"select":a=u.value,a!=null&&hn(i,!!u.multiple,a,!1)}},Tn=Hg,fn=pa;var pD={usingClientEntryPoint:!1,Events:[uu,ul,wh,Lt,bn,Hg]},Eu={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mD={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nh(i),i===null?null:i.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||hD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Yo=sf.inject(mD),fr=sf}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD,lr.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(a))throw Error(n(200));return dD(i,a,null,u)},lr.createRoot=function(i,a){if(!ty(i))throw Error(n(299));var u=!1,p="",v=q1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Xg(i,1,!1,null,null,u,!1,p,v),i[ai]=a.current,au(i.nodeType===8?i.parentNode:i),new ey(a)},lr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=nh(a),i=i===null?null:i.stateNode,i},lr.flushSync=function(i){return pa(i)},lr.hydrate=function(i,a,u){if(!nf(a))throw Error(n(200));return rf(null,i,a,!0,u)},lr.hydrateRoot=function(i,a,u){if(!ty(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,v=!1,_="",P=q1;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),a=z1(a,null,i,1,u??null,v,!1,_,P),i[ai]=a.current,au(i),p)for(i=0;i<p.length;i++)u=p[i],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new tf(a)},lr.render=function(i,a,u){if(!nf(a))throw Error(n(200));return rf(null,i,a,!1,u)},lr.unmountComponentAtNode=function(i){if(!nf(i))throw Error(n(40));return i._reactRootContainer?(pa(function(){rf(null,null,i,!1,function(){i._reactRootContainer=null,i[ai]=null})}),!0):!1},lr.unstable_batchedUpdates=Hg,lr.unstable_renderSubtreeIntoContainer=function(i,a,u,p){if(!nf(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return rf(i,a,u,!1,p)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var J1;function nC(){if(J1)return sy.exports;J1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=TD(),sy.exports}var eb;function ED(){if(eb)return of;eb=1;var t=nC();return of.createRoot=t.createRoot,of.hydrateRoot=t.hydrateRoot,of}var SD=ED();function CD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,o,l=[],c="",d=t.split("/");for(d[0]||d.shift();s=d.shift();)n=s[0],n==="*"?(l.push(n),c+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),l.push(s.substring(1,~r?r:~o?o:s.length)),c+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(c+=(~r?"?":"")+"\\"+s.substring(o))):c+="/"+s;return{keys:l,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var x=qp();const zt=tC(x),rC=yD({__proto__:null,default:zt},[x]);var ay={exports:{}},ly={};var tb;function ID(){if(tb)return ly;tb=1;var t=qp();function e(g,w){return g===w&&(g!==0||1/g===1/w)||g!==g&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(g,w){var S=w(),R=r({inst:{value:S,getSnapshot:w}}),E=R[0].inst,T=R[1];return o(function(){E.value=S,E.getSnapshot=w,d(E)&&T({inst:E})},[g,S,w]),s(function(){return d(E)&&T({inst:E}),g(function(){d(E)&&T({inst:E})})},[g]),l(S),S}function d(g){var w=g.getSnapshot;g=g.value;try{var S=w();return!n(g,S)}catch{return!0}}function h(g,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return ly.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ly}var nb;function AD(){return nb||(nb=1,ay.exports=ID()),ay.exports}var RD=AD();const kD=rC.useInsertionEffect,PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ND=PD?x.useLayoutEffect:x.useEffect,DD=kD||ND,sC=t=>{const e=x.useRef([t,(...n)=>e[0](...n)]).current;return DD(()=>{e[0]=t}),e[1]},MD="popstate",A0="pushState",R0="replaceState",OD="hashchange",rb=[MD,A0,R0,OD],jD=t=>{for(const e of rb)addEventListener(e,t);return()=>{for(const e of rb)removeEventListener(e,t)}},iC=(t,e)=>RD.useSyncExternalStore(jD,t,e),VD=()=>location.search,LD=({ssrSearch:t=""}={})=>iC(VD,()=>t),sb=()=>location.pathname,FD=({ssrPath:t}={})=>iC(sb,t?()=>t:sb),UD=(t,{replace:e=!1,state:n=null}={})=>history[e?R0:A0](n,"",t),BD=(t={})=>[FD(t),UD],ib=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ib]>"u"){for(const t of[A0,R0]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ib,{value:!0})}const zD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",oC=(t="")=>t==="/"?"":t,$D=(t,e)=>t[0]==="~"?t.slice(1):oC(e)+t,qD=(t="",e)=>zD(ob(oC(t)),ob(e)),ob=t=>{try{return decodeURI(t)}catch{return t}},aC={hook:BD,searchHook:LD,parser:CD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},lC=x.createContext(aC),Pd=()=>x.useContext(lC),cC={},uC=x.createContext(cC),WD=()=>x.useContext(uC),Wp=t=>{const[e,n]=t.hook(t);return[qD(t.base,e),sC((r,s)=>n($D(r,t.base),s))]},HD=()=>Wp(Pd()),dC=(t,e,n,r)=>{const{pattern:s,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),l=s.exec(n)||[],[c,...d]=l;return c!==void 0?[!0,(()=>{const h=o!==!1?Object.fromEntries(o.map((g,w)=>[g,d[w]])):l.groups;let m={...d};return h&&Object.assign(m,h),m})(),...r?[c]:[]]:[!1,null]},GD=({children:t,...e})=>{const n=Pd(),r=e.hook?aC:n;let s=r;const[o,l]=e.ssrPath?.split("?")??[];l&&(e.ssrSearch=l,e.ssrPath=o),e.hrefs=e.hrefs??e.hook?.hrefs;let c=x.useRef({}),d=c.current,h=d;for(let m in r){const g=m==="base"?r[m]+(e[m]||""):e[m]||r[m];d===h&&g!==h[m]&&(c.current=h={...h}),h[m]=g,g!==r[m]&&(s=h)}return x.createElement(lC.Provider,{value:s,children:t})},ab=({children:t,component:e},n)=>e?x.createElement(e,{params:n}):typeof t=="function"?t(n):t,KD=t=>{let e=x.useRef(cC),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},yt=({path:t,nest:e,match:n,...r})=>{const s=Pd(),[o]=Wp(s),[l,c,d]=n??dC(s.parser,t,o,e),h=KD({...WD(),...c});if(!l)return null;const m=d?x.createElement(GD,{base:d},ab(r,h)):ab(r,h);return x.createElement(uC.Provider,{value:h,children:m})},ho=x.forwardRef((t,e)=>{const n=Pd(),[r,s]=Wp(n),{to:o="",href:l=o,onClick:c,asChild:d,children:h,className:m,replace:g,state:w,...S}=t,R=sC(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(c?.(T),T.defaultPrevented||(T.preventDefault(),s(l,t)))}),E=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return d&&x.isValidElement(h)?x.cloneElement(h,{onClick:R,href:E}):x.createElement("a",{...S,onClick:R,href:E,className:m?.call?m(r===l):m,children:h,ref:e})}),hC=t=>Array.isArray(t)?t.flatMap(e=>hC(e&&e.type===x.Fragment?e.props.children:e)):[t],QD=({children:t,location:e})=>{const n=Pd(),[r]=Wp(n);for(const s of hC(t)){let o=0;if(x.isValidElement(s)&&(o=dC(n.parser,s.props.path,e||r,s.props.nest))[0])return x.cloneElement(s,{match:o})}return null};var vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Aa=typeof window>"u"||"Deno"in globalThis;function Fr(){}function ZD(t,e){return typeof t=="function"?t(e):t}function fv(t){return typeof t=="number"&&t>=0&&t!==1/0}function fC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zl(t,e){return typeof t=="function"?t(e):t}function rs(t,e){return typeof t=="function"?t(e):t}function lb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==k0(l,e.options))return!1}else if(!Yu(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function cb(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ra(e.options.mutationKey)!==Ra(o))return!1}else if(!Yu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function k0(t,e){return(e?.queryKeyHashFn||Ra)(t)}function Ra(t){return JSON.stringify(t,(e,n)=>pv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yu(t[n],e[n])):!1}function pC(t,e){if(t===e)return t;const n=ub(t)&&ub(e);if(n||pv(t)&&pv(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),l=o.length,c=n?[]:{};let d=0;for(let h=0;h<l;h++){const m=n?h:o[h];(!n&&r.includes(m)||n)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,d++):(c[m]=pC(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&d++)}return s===l&&d===s?t:c}return e}function Jf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ub(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pv(t){if(!db(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!db(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function db(t){return Object.prototype.toString.call(t)==="[object Object]"}function YD(t){return new Promise(e=>{setTimeout(e,t)})}function mv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pC(t,e):e}function XD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var P0=Symbol();function mC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===P0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var eM=class extends vc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Aa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},N0=new eM,tM=class extends vc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Aa&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},ep=new tM;function gv(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function nM(t){return Math.min(1e3*2**t,3e4)}function gC(t){return(t??"online")==="online"?ep.isOnline():!0}var yC=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function cy(t){return t instanceof yC}function vC(t){let e=!1,n=0,r=!1,s;const o=gv(),l=E=>{r||(w(new yC(E)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},h=()=>N0.isFocused()&&(t.networkMode==="always"||ep.isOnline())&&t.canRun(),m=()=>gC(t.networkMode)&&t.canRun(),g=E=>{r||(r=!0,t.onSuccess?.(E),s?.(),o.resolve(E))},w=E=>{r||(r=!0,t.onError?.(E),s?.(),o.reject(E))},S=()=>new Promise(E=>{s=T=>{(r||h())&&E(T)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),R=()=>{if(r)return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(g).catch(N=>{if(r)return;const O=t.retry??(Aa?0:3),j=t.retryDelay??nM,z=typeof j=="function"?j(n,N):j,M=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,N);if(e||!M){w(N);return}n++,t.onFail?.(n,N),YD(z).then(()=>h()?void 0:S()).then(()=>{e?w(N):R()})})};return{promise:o,cancel:l,continue:()=>(s?.(),o),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?R():S().then(R),o)}}function rM(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=c=>setTimeout(c,0);const o=c=>{e?t.push(c):s(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var cn=rM(),xC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fv(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Aa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},sM=class extends xC{#e;#t;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=iM(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,n){const r=mv(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#n?.promise;return this.#n?.cancel(e),n?n.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>rs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const d=mC(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{cy(d)&&d.silent||this.#s({type:"error",error:d}),cy(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#n=vC({initialPromise:n?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){c(h);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wC(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return cy(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function wC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var oM=class extends vc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??k0(r,e);let o=this.get(s);return o||(o=new sM({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>lb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>lb(t,n)):e}notify(t){cn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aM=class extends xC{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||_C(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=vC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#n({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#r.canStart();try{if(!n){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:r})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#t.runNext(this)}}#n(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function _C(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lM=class extends vc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new aM({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=af(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=af(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(af(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(af(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>cb(e,n))}findAll(t={}){return this.getAll().filter(e=>cb(t,e))}notify(t){cn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return cn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Fr))))}};function af(t){return t.options.scope?.id??String(t.mutationId)}function hb(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=mC(e.options,e.fetchOptions),S=async(R,E,T)=>{if(m)return Promise.reject();if(E==null&&R.pages.length)return Promise.resolve(R);const N={queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};g(N);const O=await w(N),{maxPages:j}=e.options,z=T?JD:XD;return{pages:z(R.pages,O,j),pageParams:z(R.pageParams,E,j)}};if(s&&o.length){const R=s==="backward",E=R?cM:fb,T={pages:o,pageParams:l},N=E(r,T);c=await S(T,N,R)}else{const R=t??o.length;do{const E=d===0?l[0]??r.initialPageParam:fb(r,c);if(d>0&&E==null)break;c=await S(c,E),d++}while(d<R)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function fb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cM(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var uM=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new oM,this.#t=t.mutationCache||new lM,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=N0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ep.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(zl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=ZD(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Fr).catch(Fr)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=cn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Fr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(zl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fr).catch(Fr)}fetchInfiniteQuery(t){return t.behavior=hb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fr).catch(Fr)}ensureInfiniteQueryData(t){return t.behavior=hb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ep.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Ra(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{Yu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(Ra(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Yu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=k0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===P0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},dM=class extends vc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=gv(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pb(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#t.setOptions(this.options),n._defaulted&&!Jf(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&mb(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),s&&(this.#t!==r||rs(this.options.enabled,this.#t)!==rs(n.enabled,this.#t)||zl(this.options.staleTime,this.#t)!==zl(n.staleTime,this.#t))&&this.#g();const o=this.#y();s&&(this.#t!==r||rs(this.options.enabled,this.#t)!==rs(n.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return fM(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#b();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Fr)),e}#g(){this.#w();const t=zl(this.options.staleTime,this.#t);if(Aa||this.#n.isStale||!fv(t))return;const n=fC(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#l=t,!(Aa||rs(this.options.enabled,this.#t)===!1||!fv(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||N0.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#n,o=this.#o,l=this.#i,d=t!==n?t.state:this.#r,{state:h}=t;let m={...h},g=!1,w;if(e._optimisticResults){const A=this.hasListeners(),I=!A&&pb(t,e),k=A&&mb(t,n,e,r);(I||k)&&(m={...m,...wC(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:R,status:E}=m;if(e.select&&m.data!==void 0)if(s&&m.data===o?.data&&e.select===this.#m)w=this.#h;else try{this.#m=e.select,w=e.select(m.data),w=mv(s?.data,w,e),this.#h=w,this.#a=null}catch(A){this.#a=A}else w=m.data;if(e.placeholderData!==void 0&&w===void 0&&E==="pending"){let A;if(s?.isPlaceholderData&&e.placeholderData===l?.placeholderData)A=s.data;else if(A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,e.select&&A!==void 0)try{A=e.select(A),this.#a=null}catch(I){this.#a=I}A!==void 0&&(E="success",w=mv(s?.data,A,e),g=!0)}this.#a&&(S=this.#a,w=this.#h,R=Date.now(),E="error");const T=m.fetchStatus==="fetching",N=E==="pending",O=E==="error",j=N&&T,z=w!==void 0,V={status:E,fetchStatus:m.fetchStatus,isPending:N,isSuccess:E==="success",isError:O,isInitialLoading:j,isLoading:j,data:w,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:R,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:T,isRefetching:T&&!N,isLoadingError:O&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&z,isStale:D0(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const A=U=>{V.status==="error"?U.reject(V.error):V.data!==void 0&&U.resolve(V.data)},I=()=>{const U=this.#s=V.promise=gv();A(U)},k=this.#s;switch(k.status){case"pending":t.queryHash===n.queryHash&&A(k);break;case"fulfilled":(V.status==="error"||V.data!==k.value)&&I();break;case"rejected":(V.status!=="error"||V.error!==k.reason)&&I();break}}return V}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#f=this.#t),Jf(n,e))return;this.#n=n;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.#p.size)return!0;const c=new Set(l??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const h=d;return this.#n[h]!==e[h]&&c.has(h)})};t?.listeners!==!1&&s()&&(r.listeners=!0),this.#T({...r,...t})}#b(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#T(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function hM(t,e){return rs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pb(t,e){return hM(t,e)||t.state.data!==void 0&&yv(t,e,e.refetchOnMount)}function yv(t,e,n){if(rs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&D0(t,e)}return!1}function mb(t,e,n,r){return(t!==e||rs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&D0(t,n)}function D0(t,e){return rs(e.enabled,t)!==!1&&t.isStaleByTime(zl(e.staleTime,t))}function fM(t,e){return!Jf(t.getCurrentResult(),e)}var pM=class extends vc{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Jf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ra(n.mutationKey)!==Ra(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??_C();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){cn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},bC=x.createContext(void 0),M0=t=>{const e=x.useContext(bC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mM=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(bC.Provider,{value:t,children:e})),TC=x.createContext(!1),gM=()=>x.useContext(TC);TC.Provider;function yM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vM=x.createContext(yM()),xM=()=>x.useContext(vM);function EC(t,e){return typeof t=="function"?t(...e):!!t}function vv(){}var wM=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_M=t=>{x.useEffect(()=>{t.clearReset()},[t])},bM=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&EC(n,[t.error,r]),TM=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},EM=(t,e)=>t.isLoading&&t.isFetching&&!e,SM=(t,e)=>t?.suspense&&e.isPending,gb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function CM(t,e,n){const r=M0(),s=gM(),o=xM(),l=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",TM(l),wM(l,o),_M(o);const c=!r.getQueryCache().get(l.queryHash),[d]=x.useState(()=>new e(r,l)),h=d.getOptimisticResult(l);if(x.useSyncExternalStore(x.useCallback(m=>{const g=s?vv:d.subscribe(cn.batchCalls(m));return d.updateResult(),g},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),SM(l,h))throw gb(l,d,o);if(bM({result:h,errorResetBoundary:o,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw h.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!Aa&&EM(h,s)&&(c?gb(l,d,o):r.getQueryCache().get(l.queryHash)?.promise)?.catch(vv).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?h:d.trackResult(h)}function SC(t,e){return CM(t,dM)}function IM(t,e){const n=M0(),[r]=x.useState(()=>new pM(n,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const s=x.useSyncExternalStore(x.useCallback(l=>r.subscribe(cn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=x.useCallback((l,c)=>{r.mutate(l,c).catch(vv)},[r]);if(s.error&&EC(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}async function AM(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const RM=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await AM(n),await n.json()},kM=new uM({defaultOptions:{queries:{queryFn:RM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),PM=1,NM=1e6;let uy=0;function DM(){return uy=(uy+1)%Number.MAX_SAFE_INTEGER,uy.toString()}const dy=new Map,yb=t=>{if(dy.has(t))return;const e=setTimeout(()=>{dy.delete(t),Lu({type:"REMOVE_TOAST",toastId:t})},NM);dy.set(t,e)},MM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,PM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?yb(n):t.toasts.forEach(r=>{yb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mf=[];let Of={toasts:[]};function Lu(t){Of=MM(Of,t),Mf.forEach(e=>{e(Of)})}function OM({...t}){const e=DM(),n=s=>Lu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Lu({type:"DISMISS_TOAST",toastId:e});return Lu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jM(){const[t,e]=x.useState(Of);return x.useEffect(()=>(Mf.push(e),()=>{const n=Mf.indexOf(e);n>-1&&Mf.splice(n,1)}),[t]),{...t,toast:OM,dismiss:n=>Lu({type:"DISMISS_TOAST",toastId:n})}}var vi=nC();const VM=tC(vi);function kt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function vb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CC(...t){return e=>{let n=!1;const r=t.map(s=>{const o=vb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():vb(t[s],null)}}}}function Jn(...t){return x.useCallback(CC(...t),t)}function LM(t,e){const n=x.createContext(e),r=o=>{const{children:l,...c}=o,d=x.useMemo(()=>c,Object.values(c));return y.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function s(o){const l=x.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Nd(t,e=[]){let n=[];function r(o,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=g=>{const{scope:w,children:S,...R}=g,E=w?.[t]?.[d]||c,T=x.useMemo(()=>R,Object.values(R));return y.jsx(E.Provider,{value:T,children:S})};h.displayName=o+"Provider";function m(g,w){const S=w?.[t]?.[d]||c,R=x.useContext(S);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,m]}const s=()=>{const o=n.map(l=>x.createContext(l));return function(c){const d=c?.[t]||o;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,FM(s,...e)]}function FM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(o)[`__scope${h}`];return{...c,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Xu(t){const e=BM(t),n=x.forwardRef((r,s)=>{const{children:o,...l}=r,c=x.Children.toArray(o),d=c.find($M);if(d){const h=d.props.children,m=c.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return y.jsx(e,{...l,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return y.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var UM=Xu("Slot");function BM(t){const e=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const l=WM(s),c=qM(o,s.props);return s.type!==x.Fragment&&(c.ref=r?CC(r,l):l),x.cloneElement(s,c)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IC=Symbol("radix.slottable");function zM(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=IC,e}function $M(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IC}function qM(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{o(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function WM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function HM(t){const e=t+"CollectionProvider",[n,r]=Nd(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:T,children:N}=E,O=zt.useRef(null),j=zt.useRef(new Map).current;return y.jsx(s,{scope:T,itemMap:j,collectionRef:O,children:N})};l.displayName=e;const c=t+"CollectionSlot",d=Xu(c),h=zt.forwardRef((E,T)=>{const{scope:N,children:O}=E,j=o(c,N),z=Jn(T,j.collectionRef);return y.jsx(d,{ref:z,children:O})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",w=Xu(m),S=zt.forwardRef((E,T)=>{const{scope:N,children:O,...j}=E,z=zt.useRef(null),M=Jn(T,z),V=o(m,N);return zt.useEffect(()=>(V.itemMap.set(z,{ref:z,...j}),()=>{V.itemMap.delete(z)})),y.jsx(w,{[g]:"",ref:M,children:O})});S.displayName=m;function R(E){const T=o(t+"CollectionConsumer",E);return zt.useCallback(()=>{const O=T.collectionRef.current;if(!O)return[];const j=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((V,A)=>j.indexOf(V.ref.current)-j.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:h,ItemSlot:S},R,r]}var GM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nn=GM.reduce((t,e)=>{const n=Xu(`Primitive.${e}`),r=x.forwardRef((s,o)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function AC(t,e){t&&vi.flushSync(()=>t.dispatchEvent(e))}function $r(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}function KM(t,e=globalThis?.document){const n=$r(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var QM="DismissableLayer",xv="dismissableLayer.update",ZM="dismissableLayer.pointerDownOutside",YM="dismissableLayer.focusOutside",xb,RC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hp=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=t,h=x.useContext(RC),[m,g]=x.useState(null),w=m?.ownerDocument??globalThis?.document,[,S]=x.useState({}),R=Jn(e,A=>g(A)),E=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(T),O=m?E.indexOf(m):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,z=O>=N,M=JM(A=>{const I=A.target,k=[...h.branches].some(U=>U.contains(I));!z||k||(s?.(A),l?.(A),A.defaultPrevented||c?.())},w),V=eO(A=>{const I=A.target;[...h.branches].some(U=>U.contains(I))||(o?.(A),l?.(A),A.defaultPrevented||c?.())},w);return KM(A=>{O===h.layers.size-1&&(r?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},w),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),wb(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=xb)}},[m,w,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),wb())},[m,h]),x.useEffect(()=>{const A=()=>S({});return document.addEventListener(xv,A),()=>document.removeEventListener(xv,A)},[]),y.jsx(nn.div,{...d,ref:R,style:{pointerEvents:j?z?"auto":"none":void 0,...t.style},onFocusCapture:kt(t.onFocusCapture,V.onFocusCapture),onBlurCapture:kt(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:kt(t.onPointerDownCapture,M.onPointerDownCapture)})});Hp.displayName=QM;var XM="DismissableLayerBranch",kC=x.forwardRef((t,e)=>{const n=x.useContext(RC),r=x.useRef(null),s=Jn(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(nn.div,{...t,ref:s})});kC.displayName=XM;function JM(t,e=globalThis?.document){const n=$r(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){PC(ZM,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eO(t,e=globalThis?.document){const n=$r(t),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&PC(YM,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wb(){const t=new CustomEvent(xv);document.dispatchEvent(t)}function PC(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?AC(s,o):s.dispatchEvent(o)}var tO=Hp,nO=kC,Io=globalThis?.document?x.useLayoutEffect:()=>{},rO="Portal",O0=x.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=x.useState(!1);Io(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?VM.createPortal(y.jsx(nn.div,{...r,ref:e}),l):null});O0.displayName=rO;function sO(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var xc=t=>{const{present:e,children:n}=t,r=iO(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Jn(r.ref,oO(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};xc.displayName="Presence";function iO(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),o=x.useRef("none"),l=t?"mounted":"unmounted",[c,d]=sO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=lf(r.current);o.current=c==="mounted"?h:"none"},[c]),Io(()=>{const h=r.current,m=s.current;if(m!==t){const w=o.current,S=lf(h);t?d("MOUNT"):S==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&w!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Io(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=S=>{const E=lf(r.current).includes(S.animationName);if(S.target===e&&E&&(d("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},w=S=>{S.target===e&&(o.current=lf(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function lf(t){return t?.animationName||"none"}function oO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=aO({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r,c=$r(n),d=x.useCallback(h=>{if(o){const g=typeof h=="function"?h(t):h;g!==t&&c(g)}else s(h)},[o,t,s,c]);return[l,d]}function aO({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),o=$r(e);return x.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var lO="VisuallyHidden",Gp=x.forwardRef((t,e)=>y.jsx(nn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Gp.displayName=lO;var cO=Gp,j0="ToastProvider",[V0,uO,dO]=HM("Toast"),[DC]=Nd("Toast",[dO]),[hO,Kp]=DC(j0),MC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[c,d]=x.useState(null),[h,m]=x.useState(0),g=x.useRef(!1),w=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${j0}\`. Expected non-empty \`string\`.`),y.jsx(V0.Provider,{scope:e,children:y.jsx(hO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:x.useCallback(()=>m(S=>S+1),[]),onToastRemove:x.useCallback(()=>m(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:w,children:l})})};MC.displayName=j0;var OC="ToastViewport",fO=["F8"],wv="toast.viewportPause",_v="toast.viewportResume",jC=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=fO,label:s="Notifications ({hotkey})",...o}=t,l=Kp(OC,n),c=uO(n),d=x.useRef(null),h=x.useRef(null),m=x.useRef(null),g=x.useRef(null),w=Jn(e,g,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;x.useEffect(()=>{const T=N=>{r.length!==0&&r.every(j=>N[j]||N.code===j)&&g.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),x.useEffect(()=>{const T=d.current,N=g.current;if(R&&T&&N){const O=()=>{if(!l.isClosePausedRef.current){const V=new CustomEvent(wv);N.dispatchEvent(V),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const V=new CustomEvent(_v);N.dispatchEvent(V),l.isClosePausedRef.current=!1}},z=V=>{!T.contains(V.relatedTarget)&&j()},M=()=>{T.contains(document.activeElement)||j()};return T.addEventListener("focusin",O),T.addEventListener("focusout",z),T.addEventListener("pointermove",O),T.addEventListener("pointerleave",M),window.addEventListener("blur",O),window.addEventListener("focus",j),()=>{T.removeEventListener("focusin",O),T.removeEventListener("focusout",z),T.removeEventListener("pointermove",O),T.removeEventListener("pointerleave",M),window.removeEventListener("blur",O),window.removeEventListener("focus",j)}}},[R,l.isClosePausedRef]);const E=x.useCallback(({tabbingDirection:T})=>{const O=c().map(j=>{const z=j.ref.current,M=[z,...CO(z)];return T==="forwards"?M:M.reverse()});return(T==="forwards"?O.reverse():O).flat()},[c]);return x.useEffect(()=>{const T=g.current;if(T){const N=O=>{const j=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!j){const M=document.activeElement,V=O.shiftKey;if(O.target===T&&V){h.current?.focus();return}const k=E({tabbingDirection:V?"backwards":"forwards"}),U=k.findIndex(B=>B===M);hy(k.slice(U+1))?O.preventDefault():V?h.current?.focus():m.current?.focus()}};return T.addEventListener("keydown",N),()=>T.removeEventListener("keydown",N)}},[c,E]),y.jsxs(nO,{ref:d,role:"region","aria-label":s.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&y.jsx(bv,{ref:h,onFocusFromOutsideViewport:()=>{const T=E({tabbingDirection:"forwards"});hy(T)}}),y.jsx(V0.Slot,{scope:n,children:y.jsx(nn.ol,{tabIndex:-1,...o,ref:w})}),R&&y.jsx(bv,{ref:m,onFocusFromOutsideViewport:()=>{const T=E({tabbingDirection:"backwards"});hy(T)}})]})});jC.displayName=OC;var VC="ToastFocusProxy",bv=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Kp(VC,n);return y.jsx(Gp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!o.viewport?.contains(c)&&r()}})});bv.displayName=VC;var Qp="Toast",pO="toast.swipeStart",mO="toast.swipeMove",gO="toast.swipeCancel",yO="toast.swipeEnd",LC=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=t,[c=!0,d]=NC({prop:r,defaultProp:s,onChange:o});return y.jsx(xc,{present:n||c,children:y.jsx(wO,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:$r(t.onPause),onResume:$r(t.onResume),onSwipeStart:kt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(t.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:kt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(t.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});LC.displayName=Qp;var[vO,xO]=DC(Qp,{onClose(){}}),wO=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:w,onSwipeEnd:S,...R}=t,E=Kp(Qp,n),[T,N]=x.useState(null),O=Jn(e,te=>N(te)),j=x.useRef(null),z=x.useRef(null),M=s||E.duration,V=x.useRef(0),A=x.useRef(M),I=x.useRef(0),{onToastAdd:k,onToastRemove:U}=E,B=$r(()=>{T?.contains(document.activeElement)&&E.viewport?.focus(),l()}),$=x.useCallback(te=>{!te||te===1/0||(window.clearTimeout(I.current),V.current=new Date().getTime(),I.current=window.setTimeout(B,te))},[B]);x.useEffect(()=>{const te=E.viewport;if(te){const Ie=()=>{$(A.current),h?.()},ke=()=>{const pe=new Date().getTime()-V.current;A.current=A.current-pe,window.clearTimeout(I.current),d?.()};return te.addEventListener(wv,ke),te.addEventListener(_v,Ie),()=>{te.removeEventListener(wv,ke),te.removeEventListener(_v,Ie)}}},[E.viewport,M,d,h,$]),x.useEffect(()=>{o&&!E.isClosePausedRef.current&&$(M)},[o,M,E.isClosePausedRef,$]),x.useEffect(()=>(k(),()=>U()),[k,U]);const F=x.useMemo(()=>T?WC(T):null,[T]);return E.viewport?y.jsxs(y.Fragment,{children:[F&&y.jsx(_O,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),y.jsx(vO,{scope:n,onClose:B,children:vi.createPortal(y.jsx(V0.ItemSlot,{scope:n,children:y.jsx(tO,{asChild:!0,onEscapeKeyDown:kt(c,()=>{E.isFocusedToastEscapeKeyDownRef.current||B(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(nn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":E.swipeDirection,...R,ref:O,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:kt(t.onKeyDown,te=>{te.key==="Escape"&&(c?.(te.nativeEvent),te.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:kt(t.onPointerDown,te=>{te.button===0&&(j.current={x:te.clientX,y:te.clientY})}),onPointerMove:kt(t.onPointerMove,te=>{if(!j.current)return;const Ie=te.clientX-j.current.x,ke=te.clientY-j.current.y,pe=!!z.current,ee=["left","right"].includes(E.swipeDirection),re=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,W=ee?re(0,Ie):0,D=ee?0:re(0,ke),K=te.pointerType==="touch"?10:2,ie={x:W,y:D},ce={originalEvent:te,delta:ie};pe?(z.current=ie,cf(mO,g,ce,{discrete:!1})):_b(ie,E.swipeDirection,K)?(z.current=ie,cf(pO,m,ce,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(Ie)>K||Math.abs(ke)>K)&&(j.current=null)}),onPointerUp:kt(t.onPointerUp,te=>{const Ie=z.current,ke=te.target;if(ke.hasPointerCapture(te.pointerId)&&ke.releasePointerCapture(te.pointerId),z.current=null,j.current=null,Ie){const pe=te.currentTarget,ee={originalEvent:te,delta:Ie};_b(Ie,E.swipeDirection,E.swipeThreshold)?cf(yO,S,ee,{discrete:!0}):cf(gO,w,ee,{discrete:!0}),pe.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),_O=t=>{const{__scopeToast:e,children:n,...r}=t,s=Kp(Qp,e),[o,l]=x.useState(!1),[c,d]=x.useState(!1);return EO(()=>l(!0)),x.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:y.jsx(O0,{asChild:!0,children:y.jsx(Gp,{...r,children:o&&y.jsxs(y.Fragment,{children:[s.label," ",n]})})})},bO="ToastTitle",FC=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(nn.div,{...r,ref:e})});FC.displayName=bO;var TO="ToastDescription",UC=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(nn.div,{...r,ref:e})});UC.displayName=TO;var BC="ToastAction",zC=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(qC,{altText:n,asChild:!0,children:y.jsx(L0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BC}\`. Expected non-empty \`string\`.`),null)});zC.displayName=BC;var $C="ToastClose",L0=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=xO($C,n);return y.jsx(qC,{asChild:!0,children:y.jsx(nn.button,{type:"button",...r,ref:e,onClick:kt(t.onClick,s.onClose)})})});L0.displayName=$C;var qC=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return y.jsx(nn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function WC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...WC(r))}}),e}function cf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?AC(s,o):s.dispatchEvent(o)}var _b=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function EO(t=()=>{}){const e=$r(t);Io(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SO(t){return t.nodeType===t.ELEMENT_NODE}function CO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var IO=MC,HC=jC,GC=LC,KC=FC,QC=UC,ZC=zC,YC=L0;function XC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=XC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=XC(t))&&(r&&(r+=" "),r+=e);return r}const bb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Tb=JC,eI=(t,e)=>n=>{var r;if(e?.variants==null)return Tb(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const m=n?.[h],g=o?.[h];if(m===null)return null;const w=bb(m)||bb(g);return s[h][w]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,w]=m;return w===void 0||(h[g]=w),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:w,...S}=m;return Object.entries(S).every(R=>{let[E,T]=R;return Array.isArray(T)?T.includes({...o,...c}[E]):{...o,...c}[E]===T})?[...h,g,w]:h},[]);return Tb(t,l,d,n?.class,n?.className)};const AO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var RO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kO=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...RO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tI("lucide",s),...c},[...l.map(([h,m])=>x.createElement(h,m)),...Array.isArray(o)?o:[o]]));const qe=(t,e)=>{const n=x.forwardRef(({className:r,...s},o)=>x.createElement(kO,{ref:o,iconNode:e,className:tI(`lucide-${AO(t)}`,r),...s}));return n.displayName=`${t}`,n};const Tv=qe("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);const PO=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const NO=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Ev=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const nI=qe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const DO=qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const MO=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const rI=qe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const OO=qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const jO=qe("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);const VO=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const LO=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const sI=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const FO=qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const UO=qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const BO=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const zO=qe("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);const $O=qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const qO=qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const iI=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const WO=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const oI=qe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const HO=qe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const GO=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const aI=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const KO=qe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);const lI=qe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);const cI=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const QO=qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const ZO=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const YO=qe("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);const XO=qe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);const uI=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const JO=qe("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const ej=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const dI=qe("Shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);const hI=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const tj=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const tc=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const nj=qe("Sticker",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]]);const Zp=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const rj=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const F0=qe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const sj=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const fI=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U0="-",ij=t=>{const e=aj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(U0);return c[0]===""&&c.length!==1&&c.shift(),pI(c,e)||oj(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},pI=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(U0);return e.validators.find(({validator:l})=>l(o))?.classGroupId},Eb=/^\[(.+)\]$/,oj=t=>{if(Eb.test(t)){const e=Eb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return cj(Object.entries(t.classGroups),n).forEach(([o,l])=>{Sv(l,r,o,e)}),r},Sv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Sb(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(lj(s)){Sv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{Sv(l,Sb(e,o),n,r)})})},Sb=(t,e)=>{let n=t;return e.split(U0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lj=t=>t.isThemeGetter,cj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[n,s]}):t,uj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},mI="!",dj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,l=c=>{const d=[];let h=0,m=0,g;for(let T=0;T<c.length;T++){let N=c[T];if(h===0){if(N===s&&(r||c.slice(T,T+o)===e)){d.push(c.slice(m,T)),m=T+o;continue}if(N==="/"){g=T;continue}}N==="["?h++:N==="]"&&h--}const w=d.length===0?c:c.substring(m),S=w.startsWith(mI),R=S?w.substring(1):w,E=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:E}};return n?c=>n({className:c,parseClassName:l}):l},hj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fj=t=>({cache:uj(t.cacheSize),parseClassName:dj(t),...ij(t)}),pj=/\s+/,mj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(pj);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:m,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:S}=n(h);let R=!!S,E=r(R?w.substring(0,S):w);if(!E){if(!R){c=h+(c.length>0?" "+c:c);continue}if(E=r(w),!E){c=h+(c.length>0?" "+c:c);continue}R=!1}const T=hj(m).join(":"),N=g?T+mI:T,O=N+E;if(o.includes(O))continue;o.push(O);const j=s(E,R);for(let z=0;z<j.length;++z){const M=j[z];o.push(N+M)}c=h+(c.length>0?" "+c:c)}return c};function gj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}const gI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n};function yj(t,...e){let n,r,s,o=l;function l(d){const h=e.reduce((m,g)=>g(m),t());return n=fj(h),r=n.cache.get,s=n.cache.set,o=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=mj(d,n);return s(d,m),m}return function(){return o(gj.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,vj=/^\d+\/\d+$/,xj=new Set(["px","full","screen"]),wj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_j=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ej=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=t=>$l(t)||xj.has(t)||vj.test(t),io=t=>wc(t,"length",Nj),$l=t=>!!t&&!Number.isNaN(Number(t)),fy=t=>wc(t,"number",$l),Cu=t=>!!t&&Number.isInteger(Number(t)),Sj=t=>t.endsWith("%")&&$l(t.slice(0,-1)),Ze=t=>yI.test(t),oo=t=>wj.test(t),Cj=new Set(["length","size","percentage"]),Ij=t=>wc(t,Cj,vI),Aj=t=>wc(t,"position",vI),Rj=new Set(["image","url"]),kj=t=>wc(t,Rj,Mj),Pj=t=>wc(t,"",Dj),Iu=()=>!0,wc=(t,e,n)=>{const r=yI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Nj=t=>_j.test(t)&&!bj.test(t),vI=()=>!1,Dj=t=>Tj.test(t),Mj=t=>Ej.test(t),Oj=()=>{const t=It("colors"),e=It("spacing"),n=It("blur"),r=It("brightness"),s=It("borderColor"),o=It("borderRadius"),l=It("borderSpacing"),c=It("borderWidth"),d=It("contrast"),h=It("grayscale"),m=It("hueRotate"),g=It("invert"),w=It("gap"),S=It("gradientColorStops"),R=It("gradientColorStopPositions"),E=It("inset"),T=It("margin"),N=It("opacity"),O=It("padding"),j=It("saturate"),z=It("scale"),M=It("sepia"),V=It("skew"),A=It("space"),I=It("translate"),k=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Ze,e],$=()=>[Ze,e],F=()=>["",mi,io],te=()=>["auto",$l,Ze],Ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ke=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Ze],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[$l,Ze];return{cacheSize:500,separator:":",theme:{colors:[Iu],spacing:[mi,io],blur:["none","",oo,Ze],brightness:D(),borderColor:[t],borderRadius:["none","","full",oo,Ze],borderSpacing:$(),borderWidth:F(),contrast:D(),grayscale:re(),hueRotate:D(),invert:re(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Sj,io],inset:B(),margin:B(),opacity:D(),padding:$(),saturate:D(),scale:D(),sepia:re(),skew:D(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[oo]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ie(),Ze]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cu,Ze]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Cu,Ze]}],"grid-cols":[{"grid-cols":[Iu]}],"col-start-end":[{col:["auto",{span:["full",Cu,Ze]},Ze]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Iu]}],"row-start-end":[{row:["auto",{span:[Cu,Ze]},Ze]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[oo]},oo]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oo,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fy]}],"font-family":[{font:[Iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",$l,fy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mi,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mi,io]}],"underline-offset":[{"underline-offset":["auto",mi,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ie(),Aj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ij]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...ke(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:ke()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ke()]}],"outline-offset":[{"outline-offset":[mi,Ze]}],"outline-w":[{outline:[mi,io]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[mi,io]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oo,Pj]}],"shadow-color":[{shadow:[Iu]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",oo,Ze]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[j]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Cu,Ze]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mi,io,fy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jj=yj(Oj);function $t(...t){return jj(JC(t))}const Vj=IO,xI=x.forwardRef(({className:t,...e},n)=>y.jsx(HC,{ref:n,className:$t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xI.displayName=HC.displayName;const Lj=eI("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wI=x.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(GC,{ref:r,className:$t(Lj({variant:e}),t),...n}));wI.displayName=GC.displayName;const Fj=x.forwardRef(({className:t,...e},n)=>y.jsx(ZC,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Fj.displayName=ZC.displayName;const _I=x.forwardRef(({className:t,...e},n)=>y.jsx(YC,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(fI,{className:"h-4 w-4"})}));_I.displayName=YC.displayName;const bI=x.forwardRef(({className:t,...e},n)=>y.jsx(KC,{ref:n,className:$t("text-sm font-semibold",t),...e}));bI.displayName=KC.displayName;const TI=x.forwardRef(({className:t,...e},n)=>y.jsx(QC,{ref:n,className:$t("text-sm opacity-90",t),...e}));TI.displayName=QC.displayName;function Uj(){const{toasts:t}=jM();return y.jsxs(Vj,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return y.jsxs(wI,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(bI,{children:n}),r&&y.jsx(TI,{children:r})]}),s,y.jsx(_I,{})]},e)}),y.jsx(xI,{})]})}var Bj=rC[" useId ".trim().toString()]||(()=>{}),zj=0;function py(t){const[e,n]=x.useState(Bj());return Io(()=>{n(r=>r??String(zj++))},[t]),t||(e?`radix-${e}`:"")}const $j=["top","right","bottom","left"],Ao=Math.min,br=Math.max,tp=Math.round,uf=Math.floor,Vs=t=>({x:t,y:t}),qj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function Cv(t,e,n){return br(t,Ao(e,n))}function Si(t,e){return typeof t=="function"?t(e):t}function Ci(t){return t.split("-")[0]}function _c(t){return t.split("-")[1]}function B0(t){return t==="x"?"y":"x"}function z0(t){return t==="y"?"height":"width"}function Ro(t){return["top","bottom"].includes(Ci(t))?"y":"x"}function $0(t){return B0(Ro(t))}function Hj(t,e,n){n===void 0&&(n=!1);const r=_c(t),s=$0(t),o=z0(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=np(l)),[l,np(l)]}function Gj(t){const e=np(t);return[Iv(t),e,Iv(e)]}function Iv(t){return t.replace(/start|end/g,e=>Wj[e])}function Kj(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function Qj(t,e,n,r){const s=_c(t);let o=Kj(Ci(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Iv)))),o}function np(t){return t.replace(/left|right|bottom|top/g,e=>qj[e])}function Zj(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?Zj(t):{top:t,right:t,bottom:t,left:t}}function rp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Cb(t,e,n){let{reference:r,floating:s}=t;const o=Ro(e),l=$0(e),c=z0(l),d=Ci(e),h=o==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let S;switch(d){case"top":S={x:m,y:r.y-s.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch(_c(e)){case"start":S[l]-=w*(n&&h?-1:1);break;case"end":S[l]+=w*(n&&h?-1:1);break}return S}const Yj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=Cb(h,r,d),w=r,S={},R=0;for(let E=0;E<c.length;E++){const{name:T,fn:N}=c[E],{x:O,y:j,data:z,reset:M}=await N({x:m,y:g,initialPlacement:r,placement:w,strategy:s,middlewareData:S,rects:h,platform:l,elements:{reference:t,floating:e}});m=O??m,g=j??g,S={...S,[T]:{...S[T],...z}},M&&R<=50&&(R++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(h=M.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:m,y:g}=Cb(h,w,d)),E=-1)}return{x:m,y:g,placement:w,strategy:s,middlewareData:S}};async function Ju(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:w=!1,padding:S=0}=Si(e,t),R=EI(S),T=c[w?g==="floating"?"reference":"floating":g],N=rp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),O=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),z=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},M=rp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:j,strategy:d}):O);return{top:(N.top-M.top+R.top)/z.y,bottom:(M.bottom-N.bottom+R.bottom)/z.y,left:(N.left-M.left+R.left)/z.x,right:(M.right-N.right+R.right)/z.x}}const Xj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=Si(t,e)||{};if(h==null)return{};const g=EI(m),w={x:n,y:r},S=$0(s),R=z0(S),E=await l.getDimensions(h),T=S==="y",N=T?"top":"left",O=T?"bottom":"right",j=T?"clientHeight":"clientWidth",z=o.reference[R]+o.reference[S]-w[S]-o.floating[R],M=w[S]-o.reference[S],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let A=V?V[j]:0;(!A||!await(l.isElement==null?void 0:l.isElement(V)))&&(A=c.floating[j]||o.floating[R]);const I=z/2-M/2,k=A/2-E[R]/2-1,U=Ao(g[N],k),B=Ao(g[O],k),$=U,F=A-E[R]-B,te=A/2-E[R]/2+I,Ie=Cv($,te,F),ke=!d.arrow&&_c(s)!=null&&te!==Ie&&o.reference[R]/2-(te<$?U:B)-E[R]/2<0,pe=ke?te<$?te-$:te-F:0;return{[S]:w[S]+pe,data:{[S]:Ie,centerOffset:te-Ie-pe,...ke&&{alignmentOffset:pe}},reset:ke}}}),Jj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:E=!0,...T}=Si(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=Ci(s),O=Ro(c),j=Ci(c)===c,z=await(d.isRTL==null?void 0:d.isRTL(h.floating)),M=w||(j||!E?[np(c)]:Gj(c)),V=R!=="none";!w&&V&&M.push(...Qj(c,E,R,z));const A=[c,...M],I=await Ju(e,T),k=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&k.push(I[N]),g){const te=Hj(s,l,z);k.push(I[te[0]],I[te[1]])}if(U=[...U,{placement:s,overflows:k}],!k.every(te=>te<=0)){var B,$;const te=(((B=o.flip)==null?void 0:B.index)||0)+1,Ie=A[te];if(Ie)return{data:{index:te,overflows:U},reset:{placement:Ie}};let ke=($=U.filter(pe=>pe.overflows[0]<=0).sort((pe,ee)=>pe.overflows[1]-ee.overflows[1])[0])==null?void 0:$.placement;if(!ke)switch(S){case"bestFit":{var F;const pe=(F=U.filter(ee=>{if(V){const re=Ro(ee.placement);return re===O||re==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(re=>re>0).reduce((re,W)=>re+W,0)]).sort((ee,re)=>ee[1]-re[1])[0])==null?void 0:F[0];pe&&(ke=pe);break}case"initialPlacement":ke=c;break}if(s!==ke)return{reset:{placement:ke}}}return{}}}};function Ib(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ab(t){return $j.some(e=>t[e]>=0)}const e4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Si(t,e);switch(r){case"referenceHidden":{const o=await Ju(e,{...s,elementContext:"reference"}),l=Ib(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Ab(l)}}}case"escaped":{const o=await Ju(e,{...s,altBoundary:!0}),l=Ib(o,n.floating);return{data:{escapedOffsets:l,escaped:Ab(l)}}}default:return{}}}}};async function t4(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ci(n),c=_c(n),d=Ro(n)==="y",h=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,g=Si(e,t);let{mainAxis:w,crossAxis:S,alignmentAxis:R}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof R=="number"&&(S=c==="end"?R*-1:R),d?{x:S*m,y:w*h}:{x:w*h,y:S*m}}const n4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,d=await t4(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},r4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:N,y:O}=T;return{x:N,y:O}}},...d}=Si(t,e),h={x:n,y:r},m=await Ju(e,d),g=Ro(Ci(s)),w=B0(g);let S=h[w],R=h[g];if(o){const T=w==="y"?"top":"left",N=w==="y"?"bottom":"right",O=S+m[T],j=S-m[N];S=Cv(O,S,j)}if(l){const T=g==="y"?"top":"left",N=g==="y"?"bottom":"right",O=R+m[T],j=R-m[N];R=Cv(O,R,j)}const E=c.fn({...e,[w]:S,[g]:R});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[w]:o,[g]:l}}}}}},s4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Si(t,e),m={x:n,y:r},g=Ro(s),w=B0(g);let S=m[w],R=m[g];const E=Si(c,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const j=w==="y"?"height":"width",z=o.reference[w]-o.floating[j]+T.mainAxis,M=o.reference[w]+o.reference[j]-T.mainAxis;S<z?S=z:S>M&&(S=M)}if(h){var N,O;const j=w==="y"?"width":"height",z=["top","left"].includes(Ci(s)),M=o.reference[g]-o.floating[j]+(z&&((N=l.offset)==null?void 0:N[g])||0)+(z?0:T.crossAxis),V=o.reference[g]+o.reference[j]+(z?0:((O=l.offset)==null?void 0:O[g])||0)-(z?T.crossAxis:0);R<M?R=M:R>V&&(R=V)}return{[w]:S,[g]:R}}}},i4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...h}=Si(t,e),m=await Ju(e,h),g=Ci(s),w=_c(s),S=Ro(s)==="y",{width:R,height:E}=o.floating;let T,N;g==="top"||g==="bottom"?(T=g,N=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=g,T=w==="end"?"top":"bottom");const O=E-m.top-m.bottom,j=R-m.left-m.right,z=Ao(E-m[T],O),M=Ao(R-m[N],j),V=!e.middlewareData.shift;let A=z,I=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=O),V&&!w){const U=br(m.left,0),B=br(m.right,0),$=br(m.top,0),F=br(m.bottom,0);S?I=R-2*(U!==0||B!==0?U+B:br(m.left,m.right)):A=E-2*($!==0||F!==0?$+F:br(m.top,m.bottom))}await d({...e,availableWidth:I,availableHeight:A});const k=await l.getDimensions(c.floating);return R!==k.width||E!==k.height?{reset:{rects:!0}}:{}}}};function Yp(){return typeof window<"u"}function bc(t){return SI(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(SI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SI(t){return Yp()?t instanceof Node||t instanceof Tr(t).Node:!1}function us(t){return Yp()?t instanceof Element||t instanceof Tr(t).Element:!1}function Hs(t){return Yp()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function Rb(t){return!Yp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function Dd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function o4(t){return["table","td","th"].includes(bc(t))}function Xp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function q0(t){const e=W0(),n=us(t)?ds(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function a4(t){let e=ko(t);for(;Hs(e)&&!nc(e);){if(q0(e))return e;if(Xp(e))return null;e=ko(e)}return null}function W0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(t){return["html","body","#document"].includes(bc(t))}function ds(t){return Tr(t).getComputedStyle(t)}function Jp(t){return us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ko(t){if(bc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rb(t)&&t.host||Ys(t);return Rb(e)?e.host:e}function CI(t){const e=ko(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hs(e)&&Dd(e)?e:CI(e)}function ed(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=CI(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Tr(s);if(o){const c=Av(l);return e.concat(l,l.visualViewport||[],Dd(s)?s:[],c&&n?ed(c):[])}return e.concat(s,ed(s,[],n))}function Av(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function II(t){const e=ds(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hs(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=tp(n)!==o||tp(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function H0(t){return us(t)?t:t.contextElement}function ql(t){const e=H0(t);if(!Hs(e))return Vs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=II(e);let l=(o?tp(n.width):n.width)/r,c=(o?tp(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const l4=Vs(0);function AI(t){const e=Tr(t);return!W0()||!e.visualViewport?l4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function ka(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=H0(t);let l=Vs(1);e&&(r?us(r)&&(l=ql(r)):l=ql(t));const c=c4(o,n,r)?AI(o):Vs(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,g=s.height/l.y;if(o){const w=Tr(o),S=r&&us(r)?Tr(r):r;let R=w,E=Av(R);for(;E&&r&&S!==R;){const T=ql(E),N=E.getBoundingClientRect(),O=ds(E),j=N.left+(E.clientLeft+parseFloat(O.paddingLeft))*T.x,z=N.top+(E.clientTop+parseFloat(O.paddingTop))*T.y;d*=T.x,h*=T.y,m*=T.x,g*=T.y,d+=j,h+=z,R=Tr(E),E=Av(R)}}return rp({width:m,height:g,x:d,y:h})}function G0(t,e){const n=Jp(t).scrollLeft;return e?e.left+n:ka(Ys(t)).left+n}function RI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:G0(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function u4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=Ys(r),c=e?Xp(e.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=Vs(1);const m=Vs(0),g=Hs(r);if((g||!g&&!o)&&((bc(r)!=="body"||Dd(l))&&(d=Jp(r)),Hs(r))){const S=ka(r);h=ql(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const w=l&&!g&&!o?RI(l,d,!0):Vs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+w.x,y:n.y*h.y-d.scrollTop*h.y+m.y+w.y}}function d4(t){return Array.from(t.getClientRects())}function h4(t){const e=Ys(t),n=Jp(t),r=t.ownerDocument.body,s=br(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=br(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+G0(t);const c=-n.scrollTop;return ds(r).direction==="rtl"&&(l+=br(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function f4(t,e){const n=Tr(t),r=Ys(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const h=W0();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:c,y:d}}function p4(t,e){const n=ka(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Hs(t)?ql(t):Vs(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:c,x:d,y:h}}function kb(t,e,n){let r;if(e==="viewport")r=f4(t,n);else if(e==="document")r=h4(Ys(t));else if(us(e))r=p4(e,n);else{const s=AI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rp(r)}function kI(t,e){const n=ko(t);return n===e||!us(n)||nc(n)?!1:ds(n).position==="fixed"||kI(n,e)}function m4(t,e){const n=e.get(t);if(n)return n;let r=ed(t,[],!1).filter(c=>us(c)&&bc(c)!=="body"),s=null;const o=ds(t).position==="fixed";let l=o?ko(t):t;for(;us(l)&&!nc(l);){const c=ds(l),d=q0(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Dd(l)&&!d&&kI(t,l))?r=r.filter(m=>m!==l):s=c,l=ko(l)}return e.set(t,r),r}function g4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Xp(e)?[]:m4(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,m)=>{const g=kb(e,m,s);return h.top=br(g.top,h.top),h.right=Ao(g.right,h.right),h.bottom=Ao(g.bottom,h.bottom),h.left=br(g.left,h.left),h},kb(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function y4(t){const{width:e,height:n}=II(t);return{width:e,height:n}}function v4(t,e,n){const r=Hs(e),s=Ys(e),o=n==="fixed",l=ka(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Vs(0);if(r||!r&&!o)if((bc(e)!=="body"||Dd(s))&&(c=Jp(e)),r){const w=ka(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&(d.x=G0(s));const h=s&&!r&&!o?RI(s,c):Vs(0),m=l.left+c.scrollLeft-d.x-h.x,g=l.top+c.scrollTop-d.y-h.y;return{x:m,y:g,width:l.width,height:l.height}}function my(t){return ds(t).position==="static"}function Pb(t,e){if(!Hs(t)||ds(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function PI(t,e){const n=Tr(t);if(Xp(t))return n;if(!Hs(t)){let s=ko(t);for(;s&&!nc(s);){if(us(s)&&!my(s))return s;s=ko(s)}return n}let r=Pb(t,e);for(;r&&o4(r)&&my(r);)r=Pb(r,e);return r&&nc(r)&&my(r)&&!q0(r)?n:r||a4(t)||n}const x4=async function(t){const e=this.getOffsetParent||PI,n=this.getDimensions,r=await n(t.floating);return{reference:v4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w4(t){return ds(t).direction==="rtl"}const _4={convertOffsetParentRelativeRectToViewportRelativeRect:u4,getDocumentElement:Ys,getClippingRect:g4,getOffsetParent:PI,getElementRects:x4,getClientRects:d4,getDimensions:y4,getScale:ql,isElement:us,isRTL:w4};function NI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function b4(t,e){let n=null,r;const s=Ys(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:m,top:g,width:w,height:S}=h;if(c||e(),!w||!S)return;const R=uf(g),E=uf(s.clientWidth-(m+w)),T=uf(s.clientHeight-(g+S)),N=uf(m),j={rootMargin:-R+"px "+-E+"px "+-T+"px "+-N+"px",threshold:br(0,Ao(1,d))||1};let z=!0;function M(V){const A=V[0].intersectionRatio;if(A!==d){if(!z)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!NI(h,t.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(M,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,j)}n.observe(t)}return l(!0),o}function T4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=H0(t),m=s||o?[...h?ed(h):[],...ed(e)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const g=h&&c?b4(h,n):null;let w=-1,S=null;l&&(S=new ResizeObserver(N=>{let[O]=N;O&&O.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=S)==null||j.observe(e)})),n()}),h&&!d&&S.observe(h),S.observe(e));let R,E=d?ka(t):null;d&&T();function T(){const N=ka(t);E&&!NI(E,N)&&n(),E=N,R=requestAnimationFrame(T)}return n(),()=>{var N;m.forEach(O=>{s&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),g?.(),(N=S)==null||N.disconnect(),S=null,d&&cancelAnimationFrame(R)}}const E4=n4,S4=r4,C4=Jj,I4=i4,A4=e4,Nb=Xj,R4=s4,k4=(t,e,n)=>{const r=new Map,s={platform:_4,...n},o={...s.platform,_c:r};return Yj(t,e,{...s,platform:o})};var jf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function sp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!sp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function DI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Db(t,e){const n=DI(t);return Math.round(e*n)/n}function gy(t){const e=x.useRef(t);return jf(()=>{e.current=t}),e}function P4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,g]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=x.useState(r);sp(w,r)||S(r);const[R,E]=x.useState(null),[T,N]=x.useState(null),O=x.useCallback(ee=>{ee!==V.current&&(V.current=ee,E(ee))},[]),j=x.useCallback(ee=>{ee!==A.current&&(A.current=ee,N(ee))},[]),z=o||R,M=l||T,V=x.useRef(null),A=x.useRef(null),I=x.useRef(m),k=d!=null,U=gy(d),B=gy(s),$=gy(h),F=x.useCallback(()=>{if(!V.current||!A.current)return;const ee={placement:e,strategy:n,middleware:w};B.current&&(ee.platform=B.current),k4(V.current,A.current,ee).then(re=>{const W={...re,isPositioned:$.current!==!1};te.current&&!sp(I.current,W)&&(I.current=W,vi.flushSync(()=>{g(W)}))})},[w,e,n,B,$]);jf(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[h]);const te=x.useRef(!1);jf(()=>(te.current=!0,()=>{te.current=!1}),[]),jf(()=>{if(z&&(V.current=z),M&&(A.current=M),z&&M){if(U.current)return U.current(z,M,F);F()}},[z,M,F,U,k]);const Ie=x.useMemo(()=>({reference:V,floating:A,setReference:O,setFloating:j}),[O,j]),ke=x.useMemo(()=>({reference:z,floating:M}),[z,M]),pe=x.useMemo(()=>{const ee={position:n,left:0,top:0};if(!ke.floating)return ee;const re=Db(ke.floating,m.x),W=Db(ke.floating,m.y);return c?{...ee,transform:"translate("+re+"px, "+W+"px)",...DI(ke.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:W}},[n,c,ke.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:F,refs:Ie,elements:ke,floatingStyles:pe}),[m,F,Ie,ke,pe])}const N4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Nb({element:r.current,padding:s}).fn(n):{}:r?Nb({element:r,padding:s}).fn(n):{}}}},D4=(t,e)=>({...E4(t),options:[t,e]}),M4=(t,e)=>({...S4(t),options:[t,e]}),O4=(t,e)=>({...R4(t),options:[t,e]}),j4=(t,e)=>({...C4(t),options:[t,e]}),V4=(t,e)=>({...I4(t),options:[t,e]}),L4=(t,e)=>({...A4(t),options:[t,e]}),F4=(t,e)=>({...N4(t),options:[t,e]});var U4="Arrow",MI=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return y.jsx(nn.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});MI.displayName=U4;var B4=MI;function z4(t){const[e,n]=x.useState(void 0);return Io(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var OI="Popper",[jI,VI]=Nd(OI),[bK,LI]=jI(OI),FI="PopperAnchor",UI=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=LI(FI,n),l=x.useRef(null),c=Jn(e,l);return x.useEffect(()=>{o.onAnchorChange(r?.current||l.current)}),r?null:y.jsx(nn.div,{...s,ref:c})});UI.displayName=FI;var K0="PopperContent",[$4,q4]=jI(K0),BI=x.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:R,...E}=t,T=LI(K0,n),[N,O]=x.useState(null),j=Jn(e,de=>O(de)),[z,M]=x.useState(null),V=z4(z),A=V?.width??0,I=V?.height??0,k=r+(o!=="center"?"-"+o:""),U=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(h)?h:[h],$=B.length>0,F={padding:U,boundary:B.filter(H4),altBoundary:$},{refs:te,floatingStyles:Ie,placement:ke,isPositioned:pe,middlewareData:ee}=P4({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>T4(...de,{animationFrame:S==="always"}),elements:{reference:T.anchor},middleware:[D4({mainAxis:s+I,alignmentAxis:l}),d&&M4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?O4():void 0,...F}),d&&j4({...F}),V4({...F,apply:({elements:de,rects:ye,availableWidth:Ee,availableHeight:_e})=>{const{width:Ye,height:Ke}=ye.reference,et=de.floating.style;et.setProperty("--radix-popper-available-width",`${Ee}px`),et.setProperty("--radix-popper-available-height",`${_e}px`),et.setProperty("--radix-popper-anchor-width",`${Ye}px`),et.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),z&&F4({element:z,padding:c}),G4({arrowWidth:A,arrowHeight:I}),w&&L4({strategy:"referenceHidden",...F})]}),[re,W]=qI(ke),D=$r(R);Io(()=>{pe&&D?.()},[pe,D]);const K=ee.arrow?.x,ie=ee.arrow?.y,ce=ee.arrow?.centerOffset!==0,[me,fe]=x.useState();return Io(()=>{N&&fe(window.getComputedStyle(N).zIndex)},[N]),y.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:pe?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx($4,{scope:n,placedSide:re,onArrowChange:M,arrowX:K,arrowY:ie,shouldHideArrow:ce,children:y.jsx(nn.div,{"data-side":re,"data-align":W,...E,ref:j,style:{...E.style,animation:pe?void 0:"none"}})})})});BI.displayName=K0;var zI="PopperArrow",W4={top:"bottom",right:"left",bottom:"top",left:"right"},$I=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=q4(zI,r),l=W4[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(B4,{...s,ref:n,style:{...s.style,display:"block"}})})});$I.displayName=zI;function H4(t){return t!==null}var G4=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=qI(n),g={start:"0%",center:"50%",end:"100%"}[m],w=(s.arrow?.x??0)+c/2,S=(s.arrow?.y??0)+d/2;let R="",E="";return h==="bottom"?(R=l?g:`${w}px`,E=`${-d}px`):h==="top"?(R=l?g:`${w}px`,E=`${r.floating.height+d}px`):h==="right"?(R=`${-d}px`,E=l?g:`${S}px`):h==="left"&&(R=`${r.floating.width+d}px`,E=l?g:`${S}px`),{data:{x:R,y:E}}}});function qI(t){const[e,n="center"]=t.split("-");return[e,n]}var K4=UI,Q4=BI,Z4=$I,[em]=Nd("Tooltip",[VI]),Q0=VI(),WI="TooltipProvider",Y4=700,Mb="tooltip.open",[X4,HI]=em(WI),GI=t=>{const{__scopeTooltip:e,delayDuration:n=Y4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),y.jsx(X4,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};GI.displayName=WI;var KI="Tooltip",[TK,tm]=em(KI),Rv="TooltipTrigger",J4=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tm(Rv,n),o=HI(Rv,n),l=Q0(n),c=x.useRef(null),d=Jn(e,c,s.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),g=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),y.jsx(K4,{asChild:!0,...l,children:y.jsx(nn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:kt(t.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:kt(t.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:kt(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:kt(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:kt(t.onBlur,s.onClose),onClick:kt(t.onClick,s.onClose)})})});J4.displayName=Rv;var eV="TooltipPortal",[EK,tV]=em(eV,{forceMount:void 0}),rc="TooltipContent",QI=x.forwardRef((t,e)=>{const n=tV(rc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,l=tm(rc,t.__scopeTooltip);return y.jsx(xc,{present:r||l.open,children:l.disableHoverableContent?y.jsx(ZI,{side:s,...o,ref:e}):y.jsx(nV,{side:s,...o,ref:e})})}),nV=x.forwardRef((t,e)=>{const n=tm(rc,t.__scopeTooltip),r=HI(rc,t.__scopeTooltip),s=x.useRef(null),o=Jn(e,s),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=r,w=x.useCallback(()=>{c(null),g(!1)},[g]),S=x.useCallback((R,E)=>{const T=R.currentTarget,N={x:R.clientX,y:R.clientY},O=aV(N,T.getBoundingClientRect()),j=lV(N,O),z=cV(E.getBoundingClientRect()),M=dV([...j,...z]);c(M),g(!0)},[g]);return x.useEffect(()=>()=>w(),[w]),x.useEffect(()=>{if(d&&m){const R=T=>S(T,m),E=T=>S(T,d);return d.addEventListener("pointerleave",R),m.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",R),m.removeEventListener("pointerleave",E)}}},[d,m,S,w]),x.useEffect(()=>{if(l){const R=E=>{const T=E.target,N={x:E.clientX,y:E.clientY},O=d?.contains(T)||m?.contains(T),j=!uV(N,l);O?w():j&&(w(),h())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[d,m,l,h,w]),y.jsx(ZI,{...t,ref:o})}),[rV,sV]=em(KI,{isInside:!1}),iV=zM("TooltipContent"),ZI=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=t,d=tm(rc,n),h=Q0(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(Mb,m),()=>document.removeEventListener(Mb,m)),[m]),x.useEffect(()=>{if(d.trigger){const g=w=>{w.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),y.jsx(Hp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:y.jsxs(Q4,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(iV,{children:r}),y.jsx(rV,{scope:n,isInside:!0,children:y.jsx(cO,{id:d.contentId,role:"tooltip",children:s||r})})]})})});QI.displayName=rc;var YI="TooltipArrow",oV=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Q0(n);return sV(YI,n).isInside?null:y.jsx(Z4,{...s,...r,ref:e})});oV.displayName=YI;function aV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function cV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uV(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o].x,d=e[o].y,h=e[l].x,m=e[l].y;d>r!=m>r&&n<(h-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function dV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hV(e)}function hV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fV=GI,XI=QI;const pV=fV,mV=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(XI,{ref:r,sideOffset:e,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));mV.displayName=XI.displayName;const JI=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));JI.displayName="Card";const gV=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("flex flex-col space-y-1.5 p-6",t),...e}));gV.displayName="CardHeader";const yV=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("text-2xl font-semibold leading-none tracking-tight",t),...e}));yV.displayName="CardTitle";const vV=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("text-sm text-muted-foreground",t),...e}));vV.displayName="CardDescription";const eA=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("p-6 pt-0",t),...e}));eA.displayName="CardContent";const xV=x.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:$t("flex items-center p-6 pt-0",t),...e}));xV.displayName="CardFooter";const wV=eI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),sc=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const l=r?UM:"button";return y.jsx(l,{className:$t(wV({variant:e,size:n,className:t})),ref:o,...s})});sc.displayName="Button";function _V(){const t="/kids/".replace(/\/$/,"");return y.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[hsl(var(--macaron-pink)/0.3)] to-[hsl(var(--macaron-blue)/0.3)]",children:y.jsx(JI,{className:"w-full max-w-md mx-4 border-4 border-white rounded-3xl shadow-xl",children:y.jsxs(eA,{className:"pt-6 text-center",children:[y.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[y.jsx(LO,{className:"h-16 w-16 text-[hsl(var(--macaron-pink-dark))]"}),y.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:""})]}),y.jsx("p",{className:"text-muted-foreground mb-6",children:"..."}),y.jsx(ho,{href:t+"/",children:y.jsx(sc,{className:"btn-macaron btn-purple w-full py-6 text-lg rounded-xl",children:""})})]})})})}function bV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const kv=t=>Array.isArray(t);function tA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function td(t){return typeof t=="string"||Array.isArray(t)}function Ob(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Z0(t,e,n,r){if(typeof e=="function"){const[s,o]=Ob(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Ob(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function rm(t,e,n){const r=t.getProps();return Z0(r,e,n!==void 0?n:r.custom,t)}const Y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X0=["initial",...Y0],Md=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ua=new Set(Md),bi=t=>t*1e3,Ti=t=>t/1e3,TV={type:"spring",stiffness:500,damping:25,restSpeed:10},EV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SV={type:"keyframes",duration:.8},CV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IV=(t,{keyframes:e})=>e.length>2?SV:Ua.has(t)?t.startsWith("scale")?EV(e[1]):TV:CV;function J0(t,e){return t?t[e]||t.default||t:void 0}const AV={useManualTiming:!1},RV=t=>t!==null;function sm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(RV),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const qn=t=>t;let nA=qn;function kV(t){let e=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,g=!1)=>{const S=g&&r?e:n;return m&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(c),r=!1,s&&(s=!1,d.process(h))}};return d}const df=["read","resolveKeyframes","update","preRender","render","postRender"],PV=40;function rA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=df.reduce((N,O)=>(N[O]=kV(o),N),{}),{read:c,resolveKeyframes:d,update:h,preRender:m,render:g,postRender:w}=l,S=()=>{const N=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,PV),1),s.timestamp=N,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),g.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:df.reduce((N,O)=>{const j=l[O];return N[O]=(z,M=!1,V=!1)=>(n||R(),j.schedule(z,M,V)),N},{}),cancel:N=>{for(let O=0;O<df.length;O++)l[df[O]].cancel(N)},state:s,steps:l}}const{schedule:mt,cancel:Po,state:Rn,steps:yy}=rA(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0),sA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NV=1e-7,DV=12;function MV(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=sA(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>NV&&++c<DV);return l}function Od(t,e,n,r){if(t===e&&n===r)return qn;const s=o=>MV(o,0,1,t,n);return o=>o===0||o===1?o:sA(s(o),e,r)}const iA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oA=t=>e=>1-t(1-e),aA=Od(.33,1.53,.69,.99),ex=oA(aA),lA=iA(ex),cA=t=>(t*=2)<1?.5*ex(t):.5*(2-Math.pow(2,-10*(t-1))),tx=t=>1-Math.sin(Math.acos(t)),uA=oA(tx),dA=iA(tx),hA=t=>/^0[^.\s]+$/u.test(t);function OV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hA(t):!0}const fA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pA=t=>e=>typeof e=="string"&&e.startsWith(t),mA=pA("--"),jV=pA("var(--"),nx=t=>jV(t)?VV.test(t.split("/*")[0].trim()):!1,VV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,LV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FV(t){const e=LV.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function gA(t,e,n=1){const[r,s]=FV(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return fA(l)?parseFloat(l):l}return nx(s)?gA(s,e,n+1):s}const Ii=(t,e,n)=>n>e?e:n<t?t:n,Tc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nd={...Tc,transform:t=>Ii(0,1,t)},hf={...Tc,default:1},jd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=jd("deg"),Ls=jd("%"),Ve=jd("px"),UV=jd("vh"),BV=jd("vw"),jb={...Ls,parse:t=>Ls.parse(t)/100,transform:t=>Ls.transform(t*100)},zV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vb=t=>t===Tc||t===Ve,Lb=(t,e)=>parseFloat(t.split(", ")[e]),Fb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Lb(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Lb(o[1],t):0}},$V=new Set(["x","y","z"]),qV=Md.filter(t=>!$V.has(t));function WV(t){const e=[];return qV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ic={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fb(4,13),y:Fb(5,14)};ic.translateX=ic.x;ic.translateY=ic.y;const yA=t=>e=>e.test(t),HV={test:t=>t==="auto",parse:t=>t},vA=[Tc,Ve,Ls,lo,BV,UV,HV],Ub=t=>vA.find(yA(t)),Ca=new Set;let Pv=!1,Nv=!1;function xA(){if(Nv){const t=Array.from(Ca).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=WV(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var c;(c=r.getValue(o))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nv=!1,Pv=!1,Ca.forEach(t=>t.complete()),Ca.clear()}function wA(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nv=!0)})}function GV(){wA(),xA()}class rx{constructor(e,n,r,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ca.add(this),Pv||(Pv=!0,mt.read(wA),mt.resolveKeyframes(xA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ca.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ca.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fu=t=>Math.round(t*1e5)/1e5,sx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KV(t){return t==null}const QV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ix=(t,e)=>n=>!!(typeof n=="string"&&QV.test(n)&&n.startsWith(t)||e&&!KV(n)&&Object.prototype.hasOwnProperty.call(n,e)),_A=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(sx);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},ZV=t=>Ii(0,255,t),vy={...Tc,transform:t=>Math.round(ZV(t))},Ea={test:ix("rgb","red"),parse:_A("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vy.transform(t)+", "+vy.transform(e)+", "+vy.transform(n)+", "+Fu(nd.transform(r))+")"};function YV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Dv={test:ix("#"),parse:YV,transform:Ea.transform},Dl={test:ix("hsl","hue"),parse:_A("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ls.transform(Fu(e))+", "+Ls.transform(Fu(n))+", "+Fu(nd.transform(r))+")"},Un={test:t=>Ea.test(t)||Dv.test(t)||Dl.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Dl.test(t)?Dl.parse(t):Dv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Dl.transform(t)},XV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(XV))===null||n===void 0?void 0:n.length)||0)>0}const bA="number",TA="color",eL="var",tL="var(",Bb="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(nL,d=>(Un.test(d)?(r.color.push(o),s.push(TA),n.push(Un.parse(d))):d.startsWith(tL)?(r.var.push(o),s.push(eL),n.push(d)):(r.number.push(o),s.push(bA),n.push(parseFloat(d))),++o,Bb)).split(Bb);return{values:n,split:c,indexes:r,types:s}}function EA(t){return rd(t).values}function SA(t){const{split:e,types:n}=rd(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===bA?o+=Fu(s[l]):c===TA?o+=Un.transform(s[l]):o+=s[l]}return o}}const rL=t=>typeof t=="number"?0:t;function sL(t){const e=EA(t);return SA(t)(e.map(rL))}const No={test:JV,parse:EA,createTransformer:SA,getAnimatableNone:sL},iL=new Set(["brightness","contrast","saturate","opacity"]);function oL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sx)||[];if(!r)return t;const s=n.replace(r,"");let o=iL.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const aL=/\b([a-z-]*)\(.*?\)/gu,Mv={...No,getAnimatableNone:t=>{const e=t.match(aL);return e?e.map(oL).join(" "):t}},lL={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve},cL={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:lo,skewX:lo,skewY:lo,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:nd,originX:jb,originY:jb,originZ:Ve},zb={...Tc,transform:Math.round},ox={...lL,...cL,zIndex:zb,size:Ve,fillOpacity:nd,strokeOpacity:nd,numOctaves:zb},uL={...ox,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:Mv,WebkitFilter:Mv},ax=t=>uL[t];function CA(t,e){let n=ax(t);return n!==Mv&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dL=new Set(["auto","none","0"]);function hL(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!dL.has(o)&&rd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=CA(n,s)}class IA extends rx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),nx(h))){const m=gA(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!zV.has(r)||e.length!==2)return;const[s,o]=e,l=Ub(s),c=Ub(o);if(l!==c)if(Vb(l)&&Vb(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)OV(e[s])&&r.push(s);r.length&&hL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ic[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ic[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function lx(t){return typeof t=="function"}let Vf;function fL(){Vf=void 0}const Fs={now:()=>(Vf===void 0&&Fs.set(Rn.isProcessing||AV.useManualTiming?Rn.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(fL)}},$b=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function pL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=$b(s,e),c=$b(o,e);return!l||!c?!1:pL(t)||(n==="spring"||lx(n))&&r}const gL=40;class AA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&GV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:l,onComplete:c,onUpdate:d,isGenerator:h}=this.options;if(!h&&!mL(e,r,s,o))if(l)this.options.duration=0;else{d?.(sm(e,this.options,n)),c?.(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const oc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},RA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(oc(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function kA(t,e){return e?t*(1e3/e):0}const yL=5;function PA(t,e,n){const r=Math.max(e-yL,0);return kA(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xy=.001;function vL({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let s,o,l=1-e;l=Ii(Bt.minDamping,Bt.maxDamping,l),t=Ii(Bt.minDuration,Bt.maxDuration,Ti(t)),l<1?(s=h=>{const m=h*l,g=m*t,w=m-n,S=Ov(h,l),R=Math.exp(-g);return xy-w/S*R},o=h=>{const g=h*l*t,w=g*n+n,S=Math.pow(l,2)*Math.pow(h,2)*t,R=Math.exp(-g),E=Ov(Math.pow(h,2),l);return(-s(h)+xy>0?-1:1)*((w-S)*R)/E}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-xy+m*g},o=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const c=5/t,d=wL(s,o,c);if(t=bi(t),isNaN(d))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const xL=12;function wL(t,e,n){let r=n;for(let s=1;s<xL;s++)r=r-t(r)/e(r);return r}function Ov(t,e){return t*Math.sqrt(1-e*e)}const jv=2e4;function NA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jv;)e+=n,r=t.next(e);return e>=jv?1/0:e}const _L=["duration","bounce"],bL=["stiffness","damping","mass"];function qb(t,e){return e.some(n=>t[n]!==void 0)}function TL(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!qb(t,bL)&&qb(t,_L))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Ii(.05,1,1-t.bounce)*Math.sqrt(s);e={...e,mass:Bt.mass,stiffness:s,damping:o}}else{const n=vL(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function DA(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:g,velocity:w,isResolvedFromDuration:S}=TL({...n,velocity:-Ti(n.velocity||0)}),R=w||0,E=h/(2*Math.sqrt(d*m)),T=l-o,N=Ti(Math.sqrt(d/m)),O=Math.abs(T)<5;r||(r=O?Bt.restSpeed.granular:Bt.restSpeed.default),s||(s=O?Bt.restDelta.granular:Bt.restDelta.default);let j;if(E<1){const M=Ov(N,E);j=V=>{const A=Math.exp(-E*N*V);return l-A*((R+E*N*T)/M*Math.sin(M*V)+T*Math.cos(M*V))}}else if(E===1)j=M=>l-Math.exp(-N*M)*(T+(R+N*T)*M);else{const M=N*Math.sqrt(E*E-1);j=V=>{const A=Math.exp(-E*N*V),I=Math.min(M*V,300);return l-A*((R+E*N*T)*Math.sinh(I)+M*T*Math.cosh(I))/M}}const z={calculatedDuration:S&&g||null,next:M=>{const V=j(M);if(S)c.done=M>=g;else{let A=0;E<1&&(A=M===0?bi(R):PA(j,M,V));const I=Math.abs(A)<=r,k=Math.abs(l-V)<=s;c.done=I&&k}return c.value=c.done?l:V,c},toString:()=>{const M=Math.min(NA(z),jv),V=RA(A=>z.next(M*A).value,M,30);return M+"ms "+V}};return z}function Wb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],w={done:!1,value:g},S=I=>c!==void 0&&I<c||d!==void 0&&I>d,R=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let E=n*e;const T=g+E,N=l===void 0?T:l(T);N!==T&&(E=N-g);const O=I=>-E*Math.exp(-I/r),j=I=>N+O(I),z=I=>{const k=O(I),U=j(I);w.done=Math.abs(k)<=h,w.value=w.done?N:U};let M,V;const A=I=>{S(w.value)&&(M=I,V=DA({keyframes:[w.value,R(w.value)],velocity:PA(j,I,w.value),damping:s,stiffness:o,restDelta:h,restSpeed:m}))};return A(0),{calculatedDuration:null,next:I=>{let k=!1;return!V&&M===void 0&&(k=!0,z(I),A(I)),M!==void 0&&I>=M?V.next(I-M):(!k&&z(I),w)}}}const EL=Od(.42,0,1,1),SL=Od(0,0,.58,1),MA=Od(.42,0,.58,1),CL=t=>Array.isArray(t)&&typeof t[0]!="number",cx=t=>Array.isArray(t)&&typeof t[0]=="number",IL={linear:qn,easeIn:EL,easeInOut:MA,easeOut:SL,circIn:tx,circInOut:dA,circOut:uA,backIn:ex,backInOut:lA,backOut:aA,anticipate:cA},Hb=t=>{if(cx(t)){nA(t.length===4);const[e,n,r,s]=t;return Od(e,n,r,s)}else if(typeof t=="string")return IL[t];return t},AL=(t,e)=>n=>e(t(n)),vo=(...t)=>t.reduce(AL),Ot=(t,e,n)=>t+(e-t)*n;function wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=wy(d,c,t+1/3),o=wy(d,c,t),l=wy(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function ip(t,e){return n=>n>0?e:t}const _y=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},kL=[Dv,Ea,Dl],PL=t=>kL.find(e=>e.test(t));function Gb(t){const e=PL(t);if(!e)return!1;let n=e.parse(t);return e===Dl&&(n=RL(n)),n}const Kb=(t,e)=>{const n=Gb(t),r=Gb(e);if(!n||!r)return ip(t,e);const s={...n};return o=>(s.red=_y(n.red,r.red,o),s.green=_y(n.green,r.green,o),s.blue=_y(n.blue,r.blue,o),s.alpha=Ot(n.alpha,r.alpha,o),Ea.transform(s))},Vv=new Set(["none","hidden"]);function NL(t,e){return Vv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DL(t,e){return n=>Ot(t,e,n)}function ux(t){return typeof t=="number"?DL:typeof t=="string"?nx(t)?ip:Un.test(t)?Kb:jL:Array.isArray(t)?OA:typeof t=="object"?Un.test(t)?Kb:ML:ip}function OA(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>ux(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function ML(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ux(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function OL(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;r[o]=d,s[l]++}return r}const jL=(t,e)=>{const n=No.createTransformer(e),r=rd(t),s=rd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Vv.has(t)&&!s.values.length||Vv.has(e)&&!r.values.length?NL(t,e):vo(OA(OL(r,s),s.values),n):ip(t,e)};function jA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):ux(t)(t,e)}function VL(t,e,n){const r=[],s=n||jA,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||qn:e;c=vo(d,c)}r.push(c)}return r}function LL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(nA(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=VL(e,r,s),c=l.length,d=h=>{let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=oc(t[m],t[m+1],h);return l[m](g)};return n?h=>d(Ii(t[0],t[o-1],h)):d}function FL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=oc(0,e,r);t.push(Ot(n,1,s))}}function UL(t){const e=[0];return FL(e,t.length-1),e}function BL(t,e){return t.map(n=>n*e)}function zL(t,e){return t.map(()=>e||MA).splice(0,t.length-1)}function op({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=CL(r)?r.map(Hb):Hb(r),o={done:!1,value:e[0]},l=BL(n&&n.length===e.length?n:UL(e),t),c=LL(l,e,{ease:Array.isArray(s)?s:zL(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const $L=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mt.update(e,!0),stop:()=>Po(e),now:()=>Rn.isProcessing?Rn.timestamp:Fs.now()}},qL={decay:Wb,inertia:Wb,tween:op,keyframes:op,spring:DA},WL=t=>t/100;class dx extends AA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,l=s?.KeyframeResolver||rx,c=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(o,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=lx(n)?n:qL[n]||op;let d,h;c!==op&&typeof e[0]!="number"&&(d=vo(WL,jA(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});o==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=NA(m));const{calculatedDuration:g}=m,w=g+s,S=w*(r+1)-s;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return o.next(0);const{delay:w,repeat:S,repeatType:R,repeatDelay:E,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-w*(this.speed>=0?1:-1),O=this.speed>=0?N<0:N>m;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let j=this.currentTime,z=o;if(S){const I=Math.min(this.currentTime,m)/g;let k=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&k--,k=Math.min(k,S+1),k%2&&(R==="reverse"?(U=1-U,E&&(U-=E/g)):R==="mirror"&&(z=l)),j=Ii(0,1,U)*g}const M=O?{done:!1,value:d[0]}:z.next(j);c&&(M.value=c(M.value));let{done:V}=M;!O&&h!==null&&(V=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return A&&s!==void 0&&(M.value=sm(d,this.options,s)),T&&T(M.value),A&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Ti(e.calculatedDuration):0}get time(){return Ti(this.currentTime)}set time(e){e=bi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$L,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HL=new Set(["opacity","clipPath","filter","transform"]);function hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const GL={linearEasing:void 0};function KL(t,e){const n=hx(t);return()=>{var r;return(r=GL[e])!==null&&r!==void 0?r:n()}}const ap=KL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function VA(t){return!!(typeof t=="function"&&ap()||!t||typeof t=="string"&&(t in Lv||ap())||cx(t)||Array.isArray(t)&&t.every(VA))}const Pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Lv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function LA(t,e){if(t)return typeof t=="function"&&ap()?RA(t,e):cx(t)?Pu(t):Array.isArray(t)?t.map(n=>LA(n,e)||Lv.easeOut):Lv[t]}function QL(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const h={[e]:n};d&&(h.offset=d);const m=LA(c,s);return Array.isArray(m)&&(h.easing=m),t.animate(h,{delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function Qb(t,e){t.timeline=e,t.onfinish=null}const ZL=hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lp=10,YL=2e4;function XL(t){return lx(t.type)||t.type==="spring"||!VA(t.ease)}function JL(t,e){const n=new dx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<YL;)r=n.sample(o),s.push(r.value),o+=lp;return{times:void 0,keyframes:s,duration:o-lp,ease:"linear"}}const FA={anticipate:cA,backInOut:lA,circInOut:dA};function e5(t){return t in FA}class Zb extends AA{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new IA(o,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!(!((r=d.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&ap()&&e5(l)&&(l=FA[l]),XL(this.options)){const{onComplete:w,onUpdate:S,motionValue:R,element:E,...T}=this.options,N=JL(e,T);e=N.keyframes,e.length===1&&(e[1]=e[0]),s=N.duration,o=N.times,l=N.ease,c="keyframes"}const g=QL(d.owner.current,h,e,{...this.options,duration:s,times:o,ease:l});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(Qb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:w}=this.options;d.set(sm(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:s,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ti(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ti(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=bi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qn;const{animation:r}=n;Qb(r,e)}return qn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:w,...S}=this.options,R=new dx({...S,keyframes:r,duration:s,type:o,ease:l,times:c,isGenerator:!0}),E=bi(this.time);h.setWithVelocity(R.sample(E-lp).value,R.sample(E).value,lp)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:l,type:c}=e;return ZL()&&r&&HL.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const t5=hx(()=>window.ScrollTimeline!==void 0);class n5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>t5()&&s.attachTimeline?s.attachTimeline(e):n(s));return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function r5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const fx=(t,e,n,r={},s,o)=>l=>{const c=J0(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-bi(d);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};r5(c)||(m={...m,...IV(t,m)}),m.duration&&(m.duration=bi(m.duration)),m.repeatDelay&&(m.repeatDelay=bi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const w=sm(m.keyframes,c);if(w!==void 0)return mt.update(()=>{m.onUpdate(w),m.onComplete()}),new n5([])}return!o&&Zb.supports(m)?new Zb(m):new dx(m)},s5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),i5=t=>kv(t)?t[t.length-1]||0:t;function px(t,e){t.indexOf(e)===-1&&t.push(e)}function mx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gx{constructor(){this.subscriptions=[]}add(e){return px(this.subscriptions,e),()=>mx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yb=30,o5=t=>!isNaN(parseFloat(t));class a5{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Fs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gx);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yb);return kA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sd(t,e){return new a5(t,e)}function l5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sd(n))}function c5(t,e){const n=rm(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=i5(o[l]);l5(t,l,c)}}const yx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u5="framerAppearId",UA="data-"+yx(u5);function BA(t){return t.props[UA]}const $n=t=>!!(t&&t.getVelocity);function d5(t){return!!($n(t)&&t.add)}function Fv(t,e){const n=t.getValue("willChange");if(d5(n))return n.add(e)}function h5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in d){const w=t.getValue(g,(o=t.latestValues[g])!==null&&o!==void 0?o:null),S=d[g];if(S===void 0||m&&h5(m,g))continue;const R={delay:n,...J0(l||{},g)};let E=!1;if(window.MotionHandoffAnimation){const N=BA(t);if(N){const O=window.MotionHandoffAnimation(N,g,mt);O!==null&&(R.startTime=O,E=!0)}}Fv(t,g),w.start(fx(g,w,S,t.shouldReduceMotion&&Ua.has(g)?{type:!1}:R,t,E));const T=w.animation;T&&h.push(T)}return c&&Promise.all(h).then(()=>{mt.update(()=>{c&&c5(t,c)})}),h}function Uv(t,e,n={}){var r;const s=rm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(zA(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:w}=o;return f5(t,e,m+h,g,w,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function f5(t,e,n=0,r=0,s=1,o){const l=[],c=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(t.variantChildren).sort(p5).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(Uv(h,e,{...o,delay:n+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function p5(t,e){return t.sortNodePosition(e)}function m5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Uv(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Uv(t,e,n);else{const s=typeof e=="function"?rm(t,e,n.custom):e;r=Promise.all(zA(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const g5=X0.length;function $A(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$A(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<g5;n++){const r=X0[n],s=t.props[r];(td(s)||s===!1)&&(e[r]=s)}return e}const y5=[...Y0].reverse(),v5=Y0.length;function x5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>m5(t,n,r)))}function w5(t){let e=x5(t),n=Xb(),r=!0;const s=d=>(h,m)=>{var g;const w=rm(t,m,d==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(w){const{transition:S,transitionEnd:R,...E}=w;h={...h,...E,...R}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,m=$A(t.parent)||{},g=[],w=new Set;let S={},R=1/0;for(let T=0;T<v5;T++){const N=y5[T],O=n[N],j=h[N]!==void 0?h[N]:m[N],z=td(j),M=N===d?O.isActive:null;M===!1&&(R=T);let V=j===m[N]&&j!==h[N]&&z;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),O.protectedKeys={...S},!O.isActive&&M===null||!j&&!O.prevProp||nm(j)||typeof j=="boolean")continue;const A=_5(O.prevProp,j);let I=A||N===d&&O.isActive&&!V&&z||T>R&&z,k=!1;const U=Array.isArray(j)?j:[j];let B=U.reduce(s(N),{});M===!1&&(B={});const{prevResolvedValues:$={}}=O,F={...$,...B},te=pe=>{I=!0,w.has(pe)&&(k=!0,w.delete(pe)),O.needsAnimating[pe]=!0;const ee=t.getValue(pe);ee&&(ee.liveStyle=!1)};for(const pe in F){const ee=B[pe],re=$[pe];if(S.hasOwnProperty(pe))continue;let W=!1;kv(ee)&&kv(re)?W=!tA(ee,re):W=ee!==re,W?ee!=null?te(pe):w.add(pe):ee!==void 0&&w.has(pe)?te(pe):O.protectedKeys[pe]=!0}O.prevProp=j,O.prevResolvedValues=B,O.isActive&&(S={...S,...B}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(V&&A)||k)&&g.push(...U.map(pe=>({animation:pe,options:{type:N}})))}if(w.size){const T={};w.forEach(N=>{const O=t.getBaseTarget(N),j=t.getValue(N);j&&(j.liveStyle=!0),T[N]=O??null}),g.push({animation:T})}let E=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function c(d,h){var m;if(n[d].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(d,h)}),n[d].isActive=h;const g=l(d);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Xb(),r=!0}}}function _5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tA(e,t):!1}function va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xb(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class Wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class b5 extends Wo{constructor(e){super(e),e.animationState||(e.animationState=w5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let T5=0;class E5 extends Wo{constructor(){super(...arguments),this.id=T5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const S5={animation:{Feature:b5},exit:{Feature:E5}};function C5(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const ns={x:!1,y:!1};function qA(){return ns.x||ns.y}function Jb(t){return e=>{e.pointerType==="touch"||qA()||t(e)}}function I5(t,e,n={}){const r=new AbortController,s={passive:!0,...n,signal:r.signal},o=Jb(l=>{const{target:c}=l,d=e(l);if(!d||!c)return;const h=Jb(m=>{d(m),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return C5(t).forEach(l=>{l.addEventListener("pointerenter",o,s)}),()=>r.abort()}function A5(t){return t==="x"||t==="y"?ns[t]?null:(ns[t]=!0,()=>{ns[t]=!1}):ns.x||ns.y?null:(ns.x=ns.y=!0,()=>{ns.x=ns.y=!1})}const WA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vd(t){return{point:{x:t.pageX,y:t.pageY}}}const R5=t=>e=>WA(e)&&t(e,Vd(e));function xi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xo(t,e,n,r){return xi(t,e,R5(n),r)}const eT=(t,e)=>Math.abs(t-e);function k5(t,e){const n=eT(t.x,e.x),r=eT(t.y,e.y);return Math.sqrt(n**2+r**2)}class HA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ty(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=k5(g.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:R}=g,{timestamp:E}=Rn;this.history.push({...R,timestamp:E});const{onStart:T,onMove:N}=this.handlers;w||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=by(w,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ty(g.type==="pointercancel"?this.lastMoveEventInfo:by(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,T),R&&R(g,T)},!WA(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Vd(e),c=by(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Rn;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,Ty(c,this.history)),this.removeListeners=vo(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function by(t,e){return e?{point:e(t.point)}:t}function tT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ty({point:t},e){return{point:t,delta:tT(t,GA(e)),offset:tT(t,P5(e)),velocity:N5(e,.1)}}function P5(t){return t[0]}function GA(t){return t[t.length-1]}function N5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=GA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>bi(e)));)n--;if(!r)return{x:0,y:0};const o=Ti(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const KA=1e-4,D5=1-KA,M5=1+KA,QA=.01,O5=0-QA,j5=0+QA;function Sr(t){return t.max-t.min}function V5(t,e,n){return Math.abs(t-e)<=n}function nT(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=D5&&t.scale<=M5||isNaN(t.scale))&&(t.scale=1),(t.translate>=O5&&t.translate<=j5||isNaN(t.translate))&&(t.translate=0)}function Uu(t,e,n,r){nT(t.x,e.x,n.x,r?r.originX:void 0),nT(t.y,e.y,n.y,r?r.originY:void 0)}function rT(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function L5(t,e,n){rT(t.x,e.x,n.x),rT(t.y,e.y,n.y)}function sT(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function Bu(t,e,n){sT(t.x,e.x,n.x),sT(t.y,e.y,n.y)}function F5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function iT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function U5(t,{top:e,left:n,bottom:r,right:s}){return{x:iT(t.x,n,s),y:iT(t.y,e,r)}}function oT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function B5(t,e){return{x:oT(t.x,e.x),y:oT(t.y,e.y)}}function z5(t,e){let n=.5;const r=Sr(t),s=Sr(e);return s>r?n=oc(e.min,e.max-r,t.min):r>s&&(n=oc(t.min,t.max-s,e.min)),Ii(0,1,n)}function $5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bv=.35;function q5(t=Bv){return t===!1?t=0:t===!0&&(t=Bv),{x:aT(t,"left","right"),y:aT(t,"top","bottom")}}function aT(t,e,n){return{min:lT(t,e),max:lT(t,n)}}function lT(t,e){return typeof t=="number"?t:t[e]||0}const cT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ol=()=>({x:cT(),y:cT()}),uT=()=>({min:0,max:0}),Qt=()=>({x:uT(),y:uT()});function Lr(t){return[t("x"),t("y")]}function ZA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function W5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ey(t){return t===void 0||t===1}function zv({scale:t,scaleX:e,scaleY:n}){return!Ey(t)||!Ey(e)||!Ey(n)}function _a(t){return zv(t)||YA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YA(t){return dT(t.x)||dT(t.y)}function dT(t){return t&&t!=="0%"}function cp(t,e,n){const r=t-n,s=e*r;return n+s}function hT(t,e,n,r,s){return s!==void 0&&(t=cp(t,s,r)),cp(t,n,r)+e}function $v(t,e=0,n=1,r,s){t.min=hT(t.min,e,n,r,s),t.max=hT(t.max,e,n,r,s)}function XA(t,{x:e,y:n}){$v(t.x,e.translate,e.scale,e.originPoint),$v(t.y,n.translate,n.scale,n.originPoint)}const fT=.999999999999,pT=1.0000000000001;function G5(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Vl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,XA(t,l)),r&&_a(o.latestValues)&&Vl(t,o.latestValues))}e.x<pT&&e.x>fT&&(e.x=1),e.y<pT&&e.y>fT&&(e.y=1)}function jl(t,e){t.min=t.min+e,t.max=t.max+e}function mT(t,e,n,r,s=.5){const o=Ot(t.min,t.max,s);$v(t,e,n,o,r)}function Vl(t,e){mT(t.x,e.x,e.scaleX,e.scale,e.originX),mT(t.y,e.y,e.scaleY,e.scale,e.originY)}function JA(t,e){return ZA(H5(t.getBoundingClientRect(),e))}function K5(t,e,n){const r=JA(t,n),{scroll:s}=e;return s&&(jl(r.x,s.offset.x),jl(r.y,s.offset.y)),r}const eR=({current:t})=>t?t.ownerDocument.defaultView:null,Q5=new WeakMap;class Z5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vd(m).point)},o=(m,g)=>{const{drag:w,dragPropagation:S,onDragStart:R}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A5(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(T=>{let N=this.getAxisMotionValue(T).get()||0;if(Ls.test(N)){const{projection:O}=this.visualElement;if(O&&O.layout){const j=O.layout.layoutBox[T];j&&(N=Sr(j)*(parseFloat(N)/100))}}this.originPoint[T]=N}),R&&mt.postRender(()=>R(m,g)),Fv(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:R,onDrag:E}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:T}=g;if(S&&this.currentDirection===null){this.currentDirection=Y5(T),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),E&&E(m,g)},c=(m,g)=>this.stop(m,g),d=()=>Lr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new HA(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:eR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&mt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ff(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=F5(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ml(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=U5(s.layoutBox,n):this.constraints=!1,this.elastic=q5(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Lr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=$5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ml(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=K5(r,s.root,this.visualElement.getTransformPagePoint());let l=B5(s.layout.layoutBox,o);if(n){const c=n(W5(l));this.hasMutatedConstraints=!!c,c&&(l=ZA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Lr(m=>{if(!ff(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const w=s?200:1e6,S=s?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,R)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fv(this.visualElement,e),r.start(fx(e,r,0,n,this.visualElement,!1))}stopAnimation(){Lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Lr(n=>{const{drag:r}=this.getProps();if(!ff(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-Ot(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ml(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Lr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=z5({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lr(l=>{if(!ff(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Ot(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;Q5.set(this.visualElement,this);const e=this.visualElement.current,n=xo(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ml(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const l=xi(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Lr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Bv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Y5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class X5 extends Wo{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new Z5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gT=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class J5 extends Wo{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new HA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:gT(e),onStart:gT(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&mt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const im=x.createContext(null);function e3(){const t=x.useContext(im);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=x.useId();x.useEffect(()=>r(s),[]);const o=x.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,o]:[!0]}const vx=x.createContext({}),tR=x.createContext({}),Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=yT(t,e.target.x),r=yT(t,e.target.y);return`${n}% ${r}%`}},t3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=No.parse(t);if(s.length>5)return r;const o=No.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const h=Ot(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}},up={};function n3(t){Object.assign(up,t)}const{schedule:xx}=rA(queueMicrotask,!1);class r3 extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;n3(s3),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||mt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nR(t){const[e,n]=e3(),r=x.useContext(vx);return y.jsx(r3,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(tR),isPresent:e,safeToRemove:n})}const s3={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:t3},rR=["TopLeft","TopRight","BottomLeft","BottomRight"],i3=rR.length,vT=t=>typeof t=="string"?parseFloat(t):t,xT=t=>typeof t=="number"||Ve.test(t);function o3(t,e,n,r,s,o){s?(t.opacity=Ot(0,n.opacity!==void 0?n.opacity:1,a3(r)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,l3(r))):o&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<i3;l++){const c=`border${rR[l]}Radius`;let d=wT(e,c),h=wT(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||xT(d)===xT(h)?(t[c]=Math.max(Ot(vT(d),vT(h),r),0),(Ls.test(h)||Ls.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function wT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a3=sR(0,.5,uA),l3=sR(.5,.95,qn);function sR(t,e,n){return r=>r<t?0:r>e?1:n(oc(t,e,r))}function _T(t,e){t.min=e.min,t.max=e.max}function Vr(t,e){_T(t.x,e.x),_T(t.y,e.y)}function bT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function TT(t,e,n,r,s){return t-=e,t=cp(t,1/n,r),s!==void 0&&(t=cp(t,1/s,r)),t}function c3(t,e=0,n=1,r=.5,s,o=t,l=t){if(Ls.test(e)&&(e=parseFloat(e),e=Ot(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ot(o.min,o.max,r);t===o&&(c-=e),t.min=TT(t.min,e,n,c,s),t.max=TT(t.max,e,n,c,s)}function ET(t,e,[n,r,s],o,l){c3(t,e[n],e[r],e[s],e.scale,o,l)}const u3=["x","scaleX","originX"],d3=["y","scaleY","originY"];function ST(t,e,n,r){ET(t.x,e,u3,n?n.x:void 0,r?r.x:void 0),ET(t.y,e,d3,n?n.y:void 0,r?r.y:void 0)}function CT(t){return t.translate===0&&t.scale===1}function iR(t){return CT(t.x)&&CT(t.y)}function IT(t,e){return t.min===e.min&&t.max===e.max}function h3(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function AT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oR(t,e){return AT(t.x,e.x)&&AT(t.y,e.y)}function RT(t){return Sr(t.x)/Sr(t.y)}function kT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f3{constructor(){this.members=[]}add(e){px(this.members,e),e.scheduleRender()}remove(e){if(mx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:w,skewX:S,skewY:R}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const m3=(t,e)=>t.depth-e.depth;class g3{constructor(){this.children=[],this.isDirty=!1}add(e){px(this.children,e),this.isDirty=!0}remove(e){mx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m3),this.isDirty=!1,this.children.forEach(e)}}function Ff(t){const e=$n(t)?t.get():t;return s5(e)?e.toValue():e}function y3(t,e){const n=Fs.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Po(r),t(o-e))};return mt.read(r,!0),()=>Po(r)}function v3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function x3(t,e,n){const r=$n(t)?t:sd(t);return r.start(fx("",r,e,n)),r.animation}const ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Nu=typeof window<"u"&&window.MotionDebug!==void 0,Sy=["","X","Y","Z"],w3={visibility:"hidden"},PT=1e3;let _3=0;function Cy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aR(r)}function lR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=_3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nu&&(ba.totalNodes=ba.resolvedTargetDeltas=ba.recalculatedProjection=0),this.nodes.forEach(E3),this.nodes.forEach(R3),this.nodes.forEach(k3),this.nodes.forEach(S3),Nu&&window.MotionDebug.record(ba)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new g3)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v3(l),this.instance=l;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||d)&&(this.isLayoutDirty=!0),t){let g;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=y3(w,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(DT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||O3,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=m.getProps(),O=!this.targetLayout||!oR(this.targetLayout,R)||S,j=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||w&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,j);const z={...J0(E,"layout"),onPlay:T,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else w||DT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NT);return}this.isUpdating||this.nodes.forEach(I3),this.isUpdating=!1,this.nodes.forEach(A3),this.nodes.forEach(b3),this.nodes.forEach(T3),this.clearAllSnapshots();const c=Fs.now();Rn.delta=Ii(0,1e3/60,c-Rn.timestamp),Rn.timestamp=c,Rn.isProcessing=!0,yy.update.process(Rn),yy.preRender.process(Rn),yy.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C3),this.sharedNodes.forEach(N3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!iR(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&(c||_a(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),j3(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Qt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(V3))){const{scroll:m}=this.root;m&&(jl(d.x,m.offset.x),jl(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=Qt();if(Vr(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:w}=m;m!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&Vr(d,l),jl(d.x,g.offset.x),jl(d.y,g.offset.y))}return d}applyTransform(l,c=!1){const d=Qt();Vr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Vl(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),_a(m.latestValues)&&Vl(d,m.latestValues)}return _a(this.latestValues)&&Vl(d,this.latestValues),d}removeTransform(l){const c=Qt();Vr(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!_a(h.latestValues))continue;zv(h.latestValues)&&h.updateSnapshot();const m=Qt(),g=h.measurePageBox();Vr(m,g),ST(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return _a(this.latestValues)&&ST(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Bu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),XA(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Bu(this.relativeTargetOrigin,this.target,S.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nu&&ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||YA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Vr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;G5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bT(this.prevProjectionDelta.x,this.projectionDelta.x),bT(this.prevProjectionDelta.y,this.projectionDelta.y)),Uu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!kT(this.projectionDelta.x,this.prevProjectionDelta.x)||!kT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Nu&&ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ol(),this.projectionDelta=Ol(),this.projectionDeltaWithTransform=Ol()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=Ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Qt(),S=d?d.source:void 0,R=this.layout?this.layout.source:void 0,E=S!==R,T=this.getStack(),N=!T||T.members.length<=1,O=!!(E&&!N&&this.options.crossfade===!0&&!this.path.some(M3));this.animationProgress=0;let j;this.mixTargetDelta=z=>{const M=z/1e3;MT(g.x,l.x,M),MT(g.y,l.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D3(this.relativeTarget,this.relativeTargetOrigin,w,M),j&&h3(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Qt()),Vr(j,this.relativeTarget)),E&&(this.animationValues=m,o3(m,h,this.latestValues,M,O,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.currentAnimation=x3(0,PT,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&cR(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Qt();const g=Sr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const w=Sr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Vr(c,d),Vl(c,m),Uu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f3),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Cy("z",l,h,this.animationValues);for(let m=0;m<Sy.length;m++)Cy(`rotate${Sy[m]}`,l,h,this.animationValues),Cy(`skew${Sy[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return w3;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ff(l?.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Ff(l?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const w=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=p3(this.projectionDeltaWithTransform,this.treeScale,w),m&&(h.transform=m(w,h.transform));const{x:S,y:R}=this.projectionDelta;h.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:h.opacity=g===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const E in up){if(w[E]===void 0)continue;const{correct:T,applyTo:N}=up[E],O=h.transform==="none"?w[E]:T(w[E],g);if(N){const j=N.length;for(let z=0;z<j;z++)h[N[z]]=O}else h[E]=O}return this.options.layoutId&&(h.pointerEvents=g===this?Ff(l?.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(NT),this.root.sharedNodes.clear()}}}function b3(t){t.updateLayout()}function T3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?Lr(g=>{const w=l?n.measuredBox[g]:n.layoutBox[g],S=Sr(w);w.min=r[g].min,w.max=w.min+S}):cR(o,n.layoutBox,r)&&Lr(g=>{const w=l?n.measuredBox[g]:n.layoutBox[g],S=Sr(r[g]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const c=Ol();Uu(c,r,n.layoutBox);const d=Ol();l?Uu(d,t.applyTransform(s,!0),n.measuredBox):Uu(d,r,n.layoutBox);const h=!iR(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:S}=g;if(w&&S){const R=Qt();Bu(R,n.layoutBox,w.layoutBox);const E=Qt();Bu(E,r,S.layoutBox),oR(R,E)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=R,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function E3(t){Nu&&ba.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function C3(t){t.clearSnapshot()}function NT(t){t.clearMeasurements()}function I3(t){t.isLayoutDirty=!1}function A3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function R3(t){t.resolveTargetDelta()}function k3(t){t.calcProjection()}function P3(t){t.resetSkewAndRotation()}function N3(t){t.removeLeadSnapshot()}function MT(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OT(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function D3(t,e,n,r){OT(t.x,e.x,n.x,r),OT(t.y,e.y,n.y,r)}function M3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O3={duration:.45,ease:[.4,0,.1,1]},jT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VT=jT("applewebkit/")&&!jT("chrome/")?Math.round:qn;function LT(t){t.min=VT(t.min),t.max=VT(t.max)}function j3(t){LT(t.x),LT(t.y)}function cR(t,e,n){return t==="position"||t==="preserve-aspect"&&!V5(RT(e),RT(n),.2)}function V3(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const L3=lR({attachResizeListener:(t,e)=>xi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iy={current:void 0},uR=lR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Iy.current){const t=new L3({});t.mount(window),t.setOptions({layoutScroll:!0}),Iy.current=t}return Iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F3={pan:{Feature:J5},drag:{Feature:X5,ProjectionNode:uR,MeasureLayout:nR}};function FT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n);const s=r[n?"onHoverStart":"onHoverEnd"];s&&mt.postRender(()=>s(e,Vd(e)))}class U3 extends Wo{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=I5(e,r=>(FT(this.node,r,!0),s=>FT(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class B3 extends Wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vo(xi(this.node.current,"focus",()=>this.onFocus()),xi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dR=(t,e)=>e?t===e?!0:dR(t,e.parentElement):!1;function Ay(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Vd(n))}class z3 extends Wo{constructor(){super(...arguments),this.removeStartListeners=qn,this.removeEndListeners=qn,this.removeAccessibleListeners=qn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=xo(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:m,globalTapTarget:g}=this.node.getProps(),w=!g&&!dR(this.node.current,c.target)?m:h;w&&mt.update(()=>w(c,d))},{passive:!(r.onTap||r.onPointerUp)}),l=xo(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vo(o,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||Ay("up",(d,h)=>{const{onTap:m}=this.node.getProps();m&&mt.postRender(()=>m(d,h))})};this.removeEndListeners(),this.removeEndListeners=xi(this.node.current,"keyup",l),Ay("down",(c,d)=>{this.startPress(c,d)})},n=xi(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ay("cancel",(o,l)=>this.cancelPress(o,l))},s=xi(this.node.current,"blur",r);this.removeAccessibleListeners=vo(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&mt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&mt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=xi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qv=new WeakMap,Ry=new WeakMap,$3=t=>{const e=qv.get(t.target);e&&e(t)},q3=t=>{t.forEach($3)};function W3({root:t,...e}){const n=t||document;Ry.has(n)||Ry.set(n,{});const r=Ry.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(q3,{root:t,...e})),r[s]}function H3(t,e,n){const r=W3(e);return qv.set(t,n),r.observe(t),()=>{qv.delete(t),r.unobserve(t)}}const G3={some:0,all:1};class K3 extends Wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:G3[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),w=h?m:g;w&&w(d)};return H3(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Q3(e,n))&&this.startObserver()}unmount(){}}function Q3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z3={inView:{Feature:K3},tap:{Feature:z3},focus:{Feature:B3},hover:{Feature:U3}},Y3={layout:{ProjectionNode:uR,MeasureLayout:nR}},wx=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),om=x.createContext({}),_x=typeof window<"u",hR=_x?x.useLayoutEffect:x.useEffect,fR=x.createContext({strict:!1});function X3(t,e,n,r,s){var o,l;const{visualElement:c}=x.useContext(om),d=x.useContext(fR),h=x.useContext(im),m=x.useContext(wx).reducedMotion,g=x.useRef();r=r||d.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const w=g.current,S=x.useContext(tR);w&&!w.projection&&s&&(w.type==="html"||w.type==="svg")&&J3(g.current,n,s,S);const R=x.useRef(!1);x.useInsertionEffect(()=>{w&&R.current&&w.update(n,h)});const E=n[UA],T=x.useRef(!!E&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,E))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,E)));return hR(()=>{w&&(R.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),xx.render(w.render),T.current&&w.animationState&&w.animationState.animateChanges())}),x.useEffect(()=>{w&&(!T.current&&w.animationState&&w.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,E)}),T.current=!1))}),w}function J3(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pR(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Ml(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:h})}function pR(t){if(t)return t.options.allowProjection!==!1?t.projection:pR(t.parent)}function e6(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ml(n)&&(n.current=r))},[e])}function am(t){return nm(t.animate)||X0.some(e=>td(t[e]))}function mR(t){return!!(am(t)||t.variants)}function t6(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||td(n)?n:void 0,animate:td(r)?r:void 0}}return t.inherit!==!1?e:{}}function n6(t){const{initial:e,animate:n}=t6(t,x.useContext(om));return x.useMemo(()=>({initial:e,animate:n}),[UT(e),UT(n)])}function UT(t){return Array.isArray(t)?t.join(" "):t}const BT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ac={};for(const t in BT)ac[t]={isEnabled:e=>BT[t].some(n=>!!e[n])};function r6(t){for(const e in t)ac[e]={...ac[e],...t[e]}}const s6=Symbol.for("motionComponentSymbol");function i6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&r6(t);function o(c,d){let h;const m={...x.useContext(wx),...c,layoutId:o6(c)},{isStatic:g}=m,w=n6(c),S=r(c,g);if(!g&&_x){a6();const R=l6(m);h=R.MeasureLayout,w.visualElement=X3(s,S,m,e,R.ProjectionNode)}return y.jsxs(om.Provider,{value:w,children:[h&&w.visualElement?y.jsx(h,{visualElement:w.visualElement,...m}):null,n(s,c,e6(S,w.visualElement,d),S,g,w.visualElement)]})}const l=x.forwardRef(o);return l[s6]=s,l}function o6({layoutId:t}){const e=x.useContext(vx).id;return e&&t!==void 0?e+"-"+t:t}function a6(t,e){x.useContext(fR).strict}function l6(t){const{drag:e,layout:n}=ac;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const c6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bx(t){return typeof t!="string"||t.includes("-")?!1:!!(c6.indexOf(t)>-1||/[A-Z]/u.test(t))}function gR(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const yR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vR(t,e,n,r){gR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yR.has(s)?s:yx(s),e.attrs[s])}function xR(t,{layout:e,layoutId:n}){return Ua.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!up[t]||t==="opacity")}function Tx(t,e,n){var r;const{style:s}=t,o={};for(const l in s)($n(s[l])||e.style&&$n(e.style[l])||xR(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=s[l]);return o}function wR(t,e,n){const r=Tx(t,e,n);for(const s in t)if($n(t[s])||$n(e[s])){const o=Md.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function Ex(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}function u6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const l={latestValues:d6(r,s,o,t),renderState:e()};return n&&(l.mount=c=>n(r,c,l)),l}const _R=t=>(e,n)=>{const r=x.useContext(om),s=x.useContext(im),o=()=>u6(t,e,r,s);return n?o():Ex(o)};function d6(t,e,n,r){const s={},o=r(t,{});for(const w in o)s[w]=Ff(o[w]);let{initial:l,animate:c}=t;const d=am(t),h=mR(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!nm(g)){const w=Array.isArray(g)?g:[g];for(let S=0;S<w.length;S++){const R=Z0(t,w[S]);if(R){const{transitionEnd:E,transition:T,...N}=R;for(const O in N){let j=N[O];if(Array.isArray(j)){const z=m?j.length-1:0;j=j[z]}j!==null&&(s[O]=j)}for(const O in E)s[O]=E[O]}}}return s}const Sx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bR=()=>({...Sx(),attrs:{}}),TR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,h6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f6=Md.length;function p6(t,e,n){let r="",s=!0;for(let o=0;o<f6;o++){const l=Md[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=TR(c,ox[l]);if(!d){s=!1;const m=h6[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Cx(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(Ua.has(d)){l=!0;continue}else if(mA(d)){s[d]=h;continue}else{const m=TR(h,ox[d]);d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=p6(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${h} ${m}`}}function zT(t,e,n){return typeof t=="string"?t:Ve.transform(e+n*t)}function m6(t,e,n){const r=zT(e,t.x,t.width),s=zT(n,t.y,t.height);return`${r} ${s}`}const g6={offset:"stroke-dashoffset",array:"stroke-dasharray"},y6={offset:"strokeDashoffset",array:"strokeDasharray"};function v6(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?g6:y6;t[o.offset]=Ve.transform(-r);const l=Ve.transform(e),c=Ve.transform(n);t[o.array]=`${l} ${c}`}function Ix(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...h},m,g){if(Cx(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:R}=t;w.transform&&(R&&(S.transform=w.transform),delete w.transform),R&&(s!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=m6(R,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&v6(w,l,c,d,!1)}const Ax=t=>typeof t=="string"&&t.toLowerCase()==="svg",x6={useVisualState:_R({scrapeMotionValuesFromProps:wR,createRenderState:bR,onMount:(t,e,{renderState:n,latestValues:r})=>{mt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),mt.render(()=>{Ix(n,r,Ax(e.tagName),t.transformTemplate),vR(e,n)})}})},w6={useVisualState:_R({scrapeMotionValuesFromProps:Tx,createRenderState:Sx})};function ER(t,e,n){for(const r in e)!$n(e[r])&&!xR(r,n)&&(t[r]=e[r])}function _6({transformTemplate:t},e){return x.useMemo(()=>{const n=Sx();return Cx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function b6(t,e){const n=t.style||{},r={};return ER(r,n,t),Object.assign(r,_6(t,e)),r}function T6(t,e){const n={},r=b6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const E6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E6.has(t)}let SR=t=>!dp(t);function S6(t){t&&(SR=e=>e.startsWith("on")?!dp(e):t(e))}try{S6(require("@emotion/is-prop-valid").default)}catch{}function C6(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SR(s)||n===!0&&dp(s)||!e&&!dp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function I6(t,e,n,r){const s=x.useMemo(()=>{const o=bR();return Ix(o,e,Ax(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ER(o,t.style,t),s.style={...o,...s.style}}return s}function A6(t=!1){return(n,r,s,{latestValues:o},l)=>{const d=(bx(n)?I6:T6)(r,o,l,n),h=C6(r,typeof n=="string",t),m=n!==x.Fragment?{...h,...d,ref:s}:{},{children:g}=r,w=x.useMemo(()=>$n(g)?g.get():g,[g]);return x.createElement(n,{...m,children:w})}}function R6(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...bx(r)?x6:w6,preloadedFeatures:t,useRender:A6(s),createVisualElement:e,Component:r};return i6(l)}}const Wv={current:null},CR={current:!1};function k6(){if(CR.current=!0,!!_x)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wv.current=t.matches;t.addListener(e),e()}else Wv.current=!1}function P6(t,e,n){for(const r in e){const s=e[r],o=n[r];if($n(s))t.addValue(r,s);else if($n(o))t.addValue(r,sd(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,sd(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $T=new WeakMap,N6=[...vA,Un,No],D6=t=>N6.find(yA(t)),qT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class M6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Fs.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,mt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=am(n),this.isVariantNode=mR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in g){const S=g[w];d[w]!==void 0&&$n(S)&&S.set(d[w],!1)}}mount(e){this.current=e,$T.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),CR.current||k6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$T.delete(this.current),this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ua.has(e),s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ac){const n=ac[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qT.length;r++){const s=qT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=P6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fA(s)||hA(s))?s=parseFloat(s):!D6(s)&&No.test(n)&&(s=CA(e,n)),this.setBaseTarget(e,$n(s)?s.get():s)),$n(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Z0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!$n(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IR extends M6{constructor(){super(...arguments),this.KeyframeResolver=IA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function O6(t){return window.getComputedStyle(t)}class j6 extends IR{constructor(){super(...arguments),this.type="html",this.renderInstance=gR}readValueFromInstance(e,n){if(Ua.has(n)){const r=ax(n);return r&&r.default||0}else{const r=O6(e),s=(mA(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JA(e,n)}build(e,n,r){Cx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Tx(e,n,r)}}class V6 extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ua.has(n)){const r=ax(n);return r&&r.default||0}return n=yR.has(n)?n:yx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wR(e,n,r)}build(e,n,r){Ix(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){vR(e,n,r,s)}mount(e){this.isSVGTag=Ax(e.tagName),super.mount(e)}}const L6=(t,e)=>bx(t)?new V6(e):new j6(e,{allowProjection:t!==x.Fragment}),F6=R6({...S5,...Z3,...F3,...Y3},L6),Ae=bV(F6);class U6 extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B6({children:t,isPresent:e}){const n=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=x.useContext(wx);return x.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h}=s.current;if(e||!r.current||!l||!c)return;r.current.dataset.motionPopId=n;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),y.jsx(U6,{isPresent:e,childRef:r,sizeRef:s,children:x.cloneElement(t,{ref:r})})}const z6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l})=>{const c=Ex($6),d=x.useId(),h=x.useCallback(g=>{c.set(g,!0);for(const w of c.values())if(!w)return;r&&r()},[c,r]),m=x.useMemo(()=>({id:d,initial:e,isPresent:n,custom:s,onExitComplete:h,register:g=>(c.set(g,!1),()=>c.delete(g))}),o?[Math.random(),h]:[n,h]);return x.useMemo(()=>{c.forEach((g,w)=>c.set(w,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(t=y.jsx(B6,{isPresent:n,children:t})),y.jsx(im.Provider,{value:m,children:t})};function $6(){return new Map}const pf=t=>t.key||"";function WT(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Do=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync"})=>{const c=x.useMemo(()=>WT(t),[t]),d=c.map(pf),h=x.useRef(!0),m=x.useRef(c),g=Ex(()=>new Map),[w,S]=x.useState(c),[R,E]=x.useState(c);hR(()=>{h.current=!1,m.current=c;for(let O=0;O<R.length;O++){const j=pf(R[O]);d.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[R,d.length,d.join("-")]);const T=[];if(c!==w){let O=[...c];for(let j=0;j<R.length;j++){const z=R[j],M=pf(z);d.includes(M)||(O.splice(j,0,z),T.push(z))}l==="wait"&&T.length&&(O=T),E(WT(O)),S(c);return}const{forceRender:N}=x.useContext(vx);return y.jsx(y.Fragment,{children:R.map(O=>{const j=pf(O),z=c===R||d.includes(j),M=()=>{if(g.has(j))g.set(j,!0);else return;let V=!0;g.forEach(A=>{A||(V=!1)}),V&&(N?.(),E(m.current),s&&s())};return y.jsx(z6,{isPresent:z,initial:!h.current||r?void 0:!1,custom:z?void 0:n,presenceAffectsLayout:o,mode:l,onExitComplete:z?void 0:M,children:O},j)})})},AR=x.createContext(void 0);function q6({children:t}){const[e,n]=x.useState(()=>{const c=localStorage.getItem("kidszone_muted");return c?JSON.parse(c):!1});x.useEffect(()=>{localStorage.setItem("kidszone_muted",JSON.stringify(e))},[e]);const r=()=>n(!e),s=()=>{if(!e)try{const c=window.AudioContext||window.webkitAudioContext;if(!c)return;const d=new c,h=d.createOscillator(),m=d.createGain();h.connect(m),m.connect(d.destination),h.type="sine",h.frequency.setValueAtTime(440,d.currentTime),m.gain.setValueAtTime(.1,d.currentTime),m.gain.exponentialRampToValueAtTime(1e-5,d.currentTime+.1),h.start(),h.stop(d.currentTime+.1)}catch(c){console.error("Audio play failed",c)}},o=()=>{if(!e)try{const c=window.AudioContext||window.webkitAudioContext;if(!c)return;const d=new c,h=d.createOscillator(),m=d.createGain();h.connect(m),m.connect(d.destination),h.type="sine",h.frequency.setValueAtTime(523.25,d.currentTime),h.frequency.setValueAtTime(659.25,d.currentTime+.1),m.gain.setValueAtTime(.1,d.currentTime),m.gain.exponentialRampToValueAtTime(1e-5,d.currentTime+.3),h.start(),h.stop(d.currentTime+.3)}catch(c){console.error("Audio play failed",c)}},l=()=>{if(!e)try{const c=window.AudioContext||window.webkitAudioContext;if(!c)return;const d=new c,h=d.createOscillator(),m=d.createGain();h.connect(m),m.connect(d.destination),h.type="sawtooth",h.frequency.setValueAtTime(200,d.currentTime),m.gain.setValueAtTime(.1,d.currentTime),m.gain.exponentialRampToValueAtTime(1e-5,d.currentTime+.3),h.start(),h.stop(d.currentTime+.3)}catch(c){console.error("Audio play failed",c)}};return y.jsx(AR.Provider,{value:{isMuted:e,toggleMute:r,playClick:s,playCorrect:o,playWrong:l},children:t})}function W6(){const t=x.useContext(AR);if(t===void 0)throw new Error("useSound must be used within a SoundProvider");return t}function _t({children:t}){const[e]=HD(),n="/kids/".replace(/\/$/,""),{isMuted:r,toggleMute:s}=W6();return y.jsxs("div",{className:"min-h-screen flex flex-col font-body",children:[y.jsx("header",{className:"p-4 md:p-6",children:y.jsxs("div",{className:"max-w-4xl mx-auto bg-white/60 backdrop-blur-md rounded-full shadow-lg border-2 border-white px-4 md:px-6 py-3 flex items-center justify-between",children:[y.jsxs(ho,{href:n+"/",className:"flex items-center gap-2 group cursor-pointer hover:opacity-80 transition-opacity",children:[y.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-[hsl(var(--macaron-pink))] to-[hsl(var(--macaron-purple))] rounded-full flex items-center justify-center shadow-md group-hover:rotate-12 transition-transform",children:y.jsx(tc,{className:"text-white w-6 h-6 fill-current"})}),y.jsxs("span",{className:"font-display text-xl md:text-3xl font-bold text-foreground tracking-tight text-shadow",children:["",y.jsx("span",{className:"text-[hsl(var(--macaron-pink-dark))]",children:""})]})]}),y.jsxs("nav",{className:"flex items-center gap-1 md:gap-3",children:[y.jsx("button",{onClick:s,className:"p-2 md:p-3 rounded-full transition-all cursor-pointer hover:bg-gray-100 text-gray-500",title:r?"":"",children:r?y.jsx(sj,{className:"w-5 h-5 md:w-6 md:h-6"}):y.jsx(F0,{className:"w-5 h-5 md:w-6 md:h-6"})}),y.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),y.jsx(ho,{href:n+"/",children:y.jsx("div",{className:`p-2 md:p-3 rounded-full transition-all cursor-pointer ${e===n+"/"?"bg-[hsl(var(--macaron-blue))] text-white shadow-md":"hover:bg-gray-100 text-gray-500"}`,"data-testid":"nav-home",children:y.jsx(WO,{className:"w-5 h-5 md:w-6 md:h-6"})})}),y.jsx(ho,{href:n+"/stickers",children:y.jsx("div",{className:`p-2 md:p-3 rounded-full transition-all cursor-pointer ${e===n+"/stickers"?"bg-[hsl(var(--macaron-pink))] text-white shadow-md":"hover:bg-gray-100 text-gray-500"}`,"data-testid":"nav-stickers",children:y.jsx(nj,{className:"w-5 h-5 md:w-6 md:h-6"})})}),y.jsx(ho,{href:n+"/scores",children:y.jsx("div",{className:`p-2 md:p-3 rounded-full transition-all cursor-pointer ${e===n+"/scores"?"bg-[hsl(var(--macaron-yellow))] text-orange-900 shadow-md":"hover:bg-gray-100 text-gray-500"}`,"data-testid":"nav-scores",children:y.jsx(Zp,{className:"w-5 h-5 md:w-6 md:h-6"})})}),y.jsx(ho,{href:n+"/certificates",children:y.jsx("div",{className:`p-2 md:p-3 rounded-full transition-all cursor-pointer ${e===n+"/certificates"?"bg-[hsl(var(--macaron-green))] text-white shadow-md":"hover:bg-gray-100 text-gray-500"}`,"data-testid":"nav-certificates",children:y.jsx(Ev,{className:"w-5 h-5 md:w-6 md:h-6"})})})]})]})}),y.jsx("main",{className:"flex-1 w-full max-w-4xl mx-auto p-4 md:p-6 relative",children:y.jsx(Do,{mode:"wait",children:y.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:t},e)})}),y.jsx("footer",{className:"p-6 text-center text-[hsl(var(--macaron-purple-dark))] opacity-60 font-display text-sm",children:"  "})]})}let Ll=null;function Hv(){if(!("speechSynthesis"in window))return null;const t=window.speechSynthesis.getVoices(),e=[n=>n.lang==="zh-TW"&&n.name.includes("Mei-Jia"),n=>n.lang==="zh-TW"&&n.name.includes("Ting-Ting"),n=>n.lang==="zh-TW",n=>n.lang==="zh_TW",n=>n.lang.startsWith("zh-TW"),n=>n.lang.includes("TW"),n=>n.lang.startsWith("zh-"),n=>n.lang.startsWith("zh_"),n=>n.lang.includes("zh")];for(const n of e){const r=t.find(n);if(r)return r}return null}typeof window<"u"&&"speechSynthesis"in window&&(window.speechSynthesis.addEventListener("voiceschanged",()=>{Ll=Hv()}),Ll=Hv());function Gn(){return{speak:x.useCallback(e=>{if(!("speechSynthesis"in window))return;window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.lang="zh-TW",n.rate=.85,n.pitch=1,n.volume=1,Ll||(Ll=Hv()),Ll&&(n.voice=Ll),window.speechSynthesis.speak(n)},[])}}function Ut({title:t,description:e,icon:n,color:r,href:s,delay:o=0}){const{speak:l}=Gn(),c="/kids/".replace(/\/$/,""),d={pink:"bg-[hsl(var(--macaron-pink))] text-[hsl(var(--macaron-pink-dark))]",blue:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",green:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",yellow:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))]",purple:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]"};return y.jsx(ho,{href:c+s,children:y.jsxs(Ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:o,type:"spring",stiffness:200,damping:15},whileHover:{scale:1.05,rotate:1},whileTap:{scale:.95},onMouseEnter:()=>l(t),className:`
          relative cursor-pointer rounded-2xl md:rounded-3xl p-4 md:p-6
          shadow-lg hover:shadow-xl transition-all duration-300
          border-4 border-white/50 backdrop-blur-sm
          ${d[r]}
          flex flex-col items-center text-center gap-2 md:gap-3
          aspect-square justify-center
        `,"data-testid":`game-card-${s.split("/").pop()}`,children:[y.jsx("div",{className:"bg-white/30 p-3 md:p-4 rounded-full backdrop-blur-md shadow-inner",children:y.jsx(n,{className:"w-8 h-8 md:w-12 md:h-12 stroke-[2.5]"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-display text-lg md:text-xl font-bold mb-1 leading-tight drop-shadow-sm",children:t}),y.jsx("p",{className:"font-semibold text-xs md:text-sm leading-tight hidden md:block drop-shadow-sm",children:e})]})]})})}const RR=x.createContext(void 0),H6="";function G6({children:t}){const[e,n]=x.useState(()=>{const s=localStorage.getItem("kidszone_user");return s?JSON.parse(s):{name:"",avatar:H6}});x.useEffect(()=>{localStorage.setItem("kidszone_user",JSON.stringify(e))},[e]);const r=(s,o)=>{n({name:s,avatar:o})};return y.jsx(RR.Provider,{value:{profile:e,updateProfile:r},children:t})}function kR(){const t=x.useContext(RR);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t}var ky="focusScope.autoFocusOnMount",Py="focusScope.autoFocusOnUnmount",HT={bubbles:!1,cancelable:!0},K6="FocusScope",PR=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,d]=x.useState(null),h=$r(s),m=$r(o),g=x.useRef(null),w=Jn(e,E=>d(E)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let E=function(j){if(S.paused||!c)return;const z=j.target;c.contains(z)?g.current=z:co(g.current,{select:!0})},T=function(j){if(S.paused||!c)return;const z=j.relatedTarget;z!==null&&(c.contains(z)||co(g.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const M of j)M.removedNodes.length>0&&co(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const O=new MutationObserver(N);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),O.disconnect()}}},[r,c,S.paused]),x.useEffect(()=>{if(c){KT.add(S);const E=document.activeElement;if(!c.contains(E)){const N=new CustomEvent(ky,HT);c.addEventListener(ky,h),c.dispatchEvent(N),N.defaultPrevented||(Q6(eF(NR(c)),{select:!0}),document.activeElement===E&&co(c))}return()=>{c.removeEventListener(ky,h),setTimeout(()=>{const N=new CustomEvent(Py,HT);c.addEventListener(Py,m),c.dispatchEvent(N),N.defaultPrevented||co(E??document.body,{select:!0}),c.removeEventListener(Py,m),KT.remove(S)},0)}}},[c,h,m,S]);const R=x.useCallback(E=>{if(!n&&!r||S.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,N=document.activeElement;if(T&&N){const O=E.currentTarget,[j,z]=Z6(O);j&&z?!E.shiftKey&&N===z?(E.preventDefault(),n&&co(j,{select:!0})):E.shiftKey&&N===j&&(E.preventDefault(),n&&co(z,{select:!0})):N===O&&E.preventDefault()}},[n,r,S.paused]);return y.jsx(nn.div,{tabIndex:-1,...l,ref:w,onKeyDown:R})});PR.displayName=K6;function Q6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(co(r,{select:e}),document.activeElement!==n)return}function Z6(t){const e=NR(t),n=GT(e,t),r=GT(e.reverse(),t);return[n,r]}function NR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function GT(t,e){for(const n of t)if(!Y6(n,{upTo:e}))return n}function Y6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X6(t){return t instanceof HTMLInputElement&&"select"in t}function co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X6(t)&&e&&t.select()}}var KT=J6();function J6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=QT(t,e),t.unshift(e)},remove(e){t=QT(t,e),t[0]?.resume()}}}function QT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eF(t){return t.filter(e=>e.tagName!=="A")}var Ny=0;function tF(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZT()),document.body.insertAdjacentElement("beforeend",t[1]??ZT()),Ny++,()=>{Ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ny--}},[])}function ZT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var js=function(){return js=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},js.apply(this,arguments)};function DR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Uf="right-scroll-bar-position",Bf="width-before-scroll-bar",rF="with-scroll-bars-hidden",sF="--removed-body-scroll-bar-size";function Dy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iF(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var oF=typeof window<"u"?x.useLayoutEffect:x.useEffect,YT=new WeakMap;function aF(t,e){var n=iF(null,function(r){return t.forEach(function(s){return Dy(s,r)})});return oF(function(){var r=YT.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||Dy(c,null)}),o.forEach(function(c){s.has(c)||Dy(c,l)})}YT.set(n,t)},[t]),n}function lF(t){return t}function cF(t,e){e===void 0&&(e=lF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var d=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function uF(t){t===void 0&&(t={});var e=cF(null);return e.options=js({async:!0,ssr:!1},t),e}var MR=function(t){var e=t.sideCar,n=DR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,js({},n))};MR.isSideCarExport=!0;function dF(t,e){return t.useMedium(e),MR}var OR=uF(),My=function(){},lm=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:My,onWheelCapture:My,onTouchMoveCapture:My}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,w=t.sideCar,S=t.noIsolation,R=t.inert,E=t.allowPinchZoom,T=t.as,N=T===void 0?"div":T,O=t.gapMode,j=DR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=w,M=aF([n,e]),V=js(js({},j),s);return x.createElement(x.Fragment,null,m&&x.createElement(z,{sideCar:OR,removeScrollBar:h,shards:g,noIsolation:S,inert:R,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:O}),l?x.cloneElement(x.Children.only(c),js(js({},V),{ref:M})):x.createElement(N,js({},V,{className:d,ref:M}),c))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:Bf,zeroRight:Uf};var hF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hF();return e&&t.setAttribute("nonce",e),t}function pF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fF())&&(pF(e,n),mF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yF=function(){var t=gF();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jR=function(){var t=yF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},vF={left:0,top:0,right:0,gap:0},Oy=function(t){return parseInt(t||"",10)||0},xF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Oy(n),Oy(r),Oy(s)]},wF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vF;var e=xF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_F=jR(),Wl="data-scroll-locked",bF=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Bf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Uf," .").concat(Uf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bf," .").concat(Bf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(sF,": ").concat(c,`px;
  }
`)},XT=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},TF=function(){x.useEffect(function(){return document.body.setAttribute(Wl,(XT()+1).toString()),function(){var t=XT()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},EF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;TF();var o=x.useMemo(function(){return wF(s)},[s]);return x.createElement(_F,{styles:bF(o,!e,s,n?"":"!important")})},Gv=!1;if(typeof window<"u")try{var mf=Object.defineProperty({},"passive",{get:function(){return Gv=!0,!0}});window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{Gv=!1}var Sl=Gv?{passive:!1}:!1,SF=function(t){return t.tagName==="TEXTAREA"},VR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SF(t)&&n[e]==="visible")},CF=function(t){return VR(t,"overflowY")},IF=function(t){return VR(t,"overflowX")},JT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=LR(t,r);if(s){var o=FR(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},RF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LR=function(t,e){return t==="v"?CF(e):IF(e)},FR=function(t,e){return t==="v"?AF(e):RF(e)},kF=function(t,e){return t==="h"&&e==="rtl"?-1:1},PF=function(t,e,n,r,s){var o=kF(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,d=e.contains(c),h=!1,m=l>0,g=0,w=0;do{var S=FR(t,c),R=S[0],E=S[1],T=S[2],N=E-T-o*R;(R||N)&&LR(t,c)&&(g+=N,w+=R),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(w)<1)&&(h=!0),h},gf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eE=function(t){return[t.deltaX,t.deltaY]},tE=function(t){return t&&"current"in t?t.current:t},NF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},DF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},MF=0,Cl=[];function OF(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(MF++)[0],o=x.useState(jR)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=nF([t.lockRef.current],(t.shards||[]).map(tE),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var N=gf(E),O=n.current,j="deltaX"in E?E.deltaX:O[0]-N[0],z="deltaY"in E?E.deltaY:O[1]-N[1],M,V=E.target,A=Math.abs(j)>Math.abs(z)?"h":"v";if("touches"in E&&A==="h"&&V.type==="range")return!1;var I=JT(A,V);if(!I)return!0;if(I?M=A:(M=A==="v"?"h":"v",I=JT(A,V)),!I)return!1;if(!r.current&&"changedTouches"in E&&(j||z)&&(r.current=M),!M)return!0;var k=r.current||M;return PF(k,T,E,k==="h"?j:z)},[]),d=x.useCallback(function(E){var T=E;if(!(!Cl.length||Cl[Cl.length-1]!==o)){var N="deltaY"in T?eE(T):gf(T),O=e.current.filter(function(M){return M.name===T.type&&(M.target===T.target||T.target===M.shadowParent)&&NF(M.delta,N)})[0];if(O&&O.should){T.cancelable&&T.preventDefault();return}if(!O){var j=(l.current.shards||[]).map(tE).filter(Boolean).filter(function(M){return M.contains(T.target)}),z=j.length>0?c(T,j[0]):!l.current.noIsolation;z&&T.cancelable&&T.preventDefault()}}},[]),h=x.useCallback(function(E,T,N,O){var j={name:E,delta:T,target:N,should:O,shadowParent:jF(N)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(z){return z!==j})},1)},[]),m=x.useCallback(function(E){n.current=gf(E),r.current=void 0},[]),g=x.useCallback(function(E){h(E.type,eE(E),E.target,c(E,t.lockRef.current))},[]),w=x.useCallback(function(E){h(E.type,gf(E),E.target,c(E,t.lockRef.current))},[]);x.useEffect(function(){return Cl.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",d,Sl),document.addEventListener("touchmove",d,Sl),document.addEventListener("touchstart",m,Sl),function(){Cl=Cl.filter(function(E){return E!==o}),document.removeEventListener("wheel",d,Sl),document.removeEventListener("touchmove",d,Sl),document.removeEventListener("touchstart",m,Sl)}},[]);var S=t.removeScrollBar,R=t.inert;return x.createElement(x.Fragment,null,R?x.createElement(o,{styles:DF(s)}):null,S?x.createElement(EF,{gapMode:t.gapMode}):null)}function jF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VF=dF(OR,OF);var UR=x.forwardRef(function(t,e){return x.createElement(lm,js({},t,{ref:e,sideCar:VF}))});UR.classNames=lm.classNames;var LF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Il=new WeakMap,yf=new WeakMap,vf={},jy=0,BR=function(t){return t&&(t.host||BR(t.parentNode))},FF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=BR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UF=function(t,e,n,r){var s=FF(e,Array.isArray(t)?t:[t]);vf[n]||(vf[n]=new WeakMap);var o=vf[n],l=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(w){if(c.has(w))m(w);else try{var S=w.getAttribute(r),R=S!==null&&S!=="false",E=(Il.get(w)||0)+1,T=(o.get(w)||0)+1;Il.set(w,E),o.set(w,T),l.push(w),E===1&&R&&yf.set(w,!0),T===1&&w.setAttribute(n,"true"),R||w.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return m(e),c.clear(),jy++,function(){l.forEach(function(g){var w=Il.get(g)-1,S=o.get(g)-1;Il.set(g,w),o.set(g,S),w||(yf.has(g)||g.removeAttribute(r),yf.delete(g)),S||g.removeAttribute(n)}),jy--,jy||(Il=new WeakMap,Il=new WeakMap,yf=new WeakMap,vf={})}},BF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=LF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UF(r,s,n,"aria-hidden")):function(){return null}},Rx="Dialog",[zR]=Nd(Rx),[zF,ms]=zR(Rx),$R=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=x.useRef(null),d=x.useRef(null),[h=!1,m]=NC({prop:r,defaultProp:s,onChange:o});return y.jsx(zF,{scope:e,triggerRef:c,contentRef:d,contentId:py(),titleId:py(),descriptionId:py(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};$R.displayName=Rx;var qR="DialogTrigger",$F=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(qR,n),o=Jn(e,s.triggerRef);return y.jsx(nn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nx(s.open),...r,ref:o,onClick:kt(t.onClick,s.onOpenToggle)})});$F.displayName=qR;var kx="DialogPortal",[qF,WR]=zR(kx,{forceMount:void 0}),HR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=ms(kx,e);return y.jsx(qF,{scope:e,forceMount:n,children:x.Children.map(r,l=>y.jsx(xc,{present:n||o.open,children:y.jsx(O0,{asChild:!0,container:s,children:l})}))})};HR.displayName=kx;var hp="DialogOverlay",GR=x.forwardRef((t,e)=>{const n=WR(hp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ms(hp,t.__scopeDialog);return o.modal?y.jsx(xc,{present:r||o.open,children:y.jsx(HF,{...s,ref:e})}):null});GR.displayName=hp;var WF=Xu("DialogOverlay.RemoveScroll"),HF=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(hp,n);return y.jsx(UR,{as:WF,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(nn.div,{"data-state":Nx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Pa="DialogContent",KR=x.forwardRef((t,e)=>{const n=WR(Pa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ms(Pa,t.__scopeDialog);return y.jsx(xc,{present:r||o.open,children:o.modal?y.jsx(GF,{...s,ref:e}):y.jsx(KF,{...s,ref:e})})});KR.displayName=Pa;var GF=x.forwardRef((t,e)=>{const n=ms(Pa,t.__scopeDialog),r=x.useRef(null),s=Jn(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return BF(o)},[]),y.jsx(QR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:kt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:kt(t.onFocusOutside,o=>o.preventDefault())})}),KF=x.forwardRef((t,e)=>{const n=ms(Pa,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return y.jsx(QR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),QR=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=ms(Pa,n),d=x.useRef(null),h=Jn(e,d);return tF(),y.jsxs(y.Fragment,{children:[y.jsx(PR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(Hp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Nx(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(QF,{titleId:c.titleId}),y.jsx(YF,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Px="DialogTitle",ZR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(Px,n);return y.jsx(nn.h2,{id:s.titleId,...r,ref:e})});ZR.displayName=Px;var YR="DialogDescription",XR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(YR,n);return y.jsx(nn.p,{id:s.descriptionId,...r,ref:e})});XR.displayName=YR;var JR="DialogClose",ek=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(JR,n);return y.jsx(nn.button,{type:"button",...r,ref:e,onClick:kt(t.onClick,()=>s.onOpenChange(!1))})});ek.displayName=JR;function Nx(t){return t?"open":"closed"}var tk="DialogTitleWarning",[CK,nk]=LM(tk,{contentName:Pa,titleName:Px,docsSlug:"dialog"}),QF=({titleId:t})=>{const e=nk(tk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ZF="DialogDescriptionWarning",YF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nk(ZF).contentName}}.`;return x.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},XF=$R,JF=HR,rk=GR,sk=KR,ik=ZR,ok=XR,e9=ek;const ak=XF,t9=JF,lk=x.forwardRef(({className:t,...e},n)=>y.jsx(rk,{ref:n,className:$t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lk.displayName=rk.displayName;const Dx=x.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(t9,{children:[y.jsx(lk,{}),y.jsxs(sk,{ref:r,className:$t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(e9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(fI,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dx.displayName=sk.displayName;const Mx=({className:t,...e})=>y.jsx("div",{className:$t("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mx.displayName="DialogHeader";const Ox=({className:t,...e})=>y.jsx("div",{className:$t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ox.displayName="DialogFooter";const jx=x.forwardRef(({className:t,...e},n)=>y.jsx(ik,{ref:n,className:$t("text-lg font-semibold leading-none tracking-tight",t),...e}));jx.displayName=ik.displayName;const n9=x.forwardRef(({className:t,...e},n)=>y.jsx(ok,{ref:n,className:$t("text-sm text-muted-foreground",t),...e}));n9.displayName=ok.displayName;const cm=x.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:$t("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cm.displayName="Input";const r9=["","","","","","","","","","","",""];function s9(){const{profile:t,updateProfile:e}=kR(),[n,r]=x.useState(!1),[s,o]=x.useState(t.name),[l,c]=x.useState(t.avatar),d=()=>{o(t.name),c(t.avatar),r(!0)},h=()=>{e(s,l),r(!1)};return y.jsxs(y.Fragment,{children:[y.jsxs(Ae.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"bg-white/80 backdrop-blur-sm border-4 border-white rounded-3xl p-4 flex items-center gap-4 shadow-lg cursor-pointer max-w-sm mx-auto mb-8 hover:shadow-xl transition-all",children:[y.jsx("div",{className:"w-16 h-16 bg-[hsl(var(--macaron-blue))] rounded-full flex items-center justify-center text-4xl shadow-inner border-2 border-white",children:t.avatar}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("p",{className:"text-sm text-muted-foreground font-bold",children:"..."}),y.jsx("h3",{className:"text-2xl font-display font-black text-[hsl(var(--macaron-blue-dark))]",children:t.name||""})]}),y.jsx("div",{className:"bg-[hsl(var(--macaron-yellow))] p-2 rounded-full text-white",children:y.jsx(QO,{className:"w-5 h-5"})})]}),y.jsx(ak,{open:n,onOpenChange:r,children:y.jsxs(Dx,{className:"sm:max-w-md border-4 border-[hsl(var(--macaron-blue))] rounded-3xl bg-white/95 backdrop-blur-xl",children:[y.jsx(Mx,{children:y.jsx(jx,{className:"font-display text-3xl text-center text-[hsl(var(--macaron-blue-dark))]",children:""})}),y.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold ml-1 text-muted-foreground",children:""}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:r9.map(m=>y.jsx("button",{onClick:()=>c(m),className:`text-3xl p-3 rounded-xl transition-all ${l===m?"bg-[hsl(var(--macaron-blue))] shadow-md scale-110 border-2 border-white":"hover:bg-gray-100"}`,children:m},m))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold ml-1 text-muted-foreground",children:""}),y.jsx(cm,{value:s,onChange:m=>o(m.target.value),placeholder:"...",className:"text-lg py-6 rounded-xl border-2 border-gray-200 focus-visible:ring-[hsl(var(--macaron-blue))]"})]})]}),y.jsx(Ox,{children:y.jsx(sc,{onClick:h,className:"w-full btn-macaron btn-blue text-lg py-6 rounded-xl",children:""})})]})})]})}function i9(){return y.jsx(_t,{children:y.jsxs("div",{className:"space-y-8 py-4",children:[y.jsxs("div",{className:"text-center space-y-4 mb-8",children:[y.jsxs("div",{className:"inline-block relative",children:[y.jsx("h1",{className:"font-display text-4xl md:text-6xl font-black text-[hsl(var(--macaron-purple-dark))] drop-shadow-sm leading-tight",children:" "}),y.jsx(tc,{className:"absolute -top-4 -right-4 w-10 h-10 text-[hsl(var(--macaron-yellow))] fill-current animate-pulse"})]}),y.jsx("p",{className:"text-lg text-muted-foreground font-medium max-w-lg mx-auto",children:""})]}),y.jsx(s9,{}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:[y.jsx(Ut,{title:"",description:"",icon:cI,color:"pink",href:"/game/color",delay:.1}),y.jsx(Ut,{title:"",description:"",icon:rI,color:"blue",href:"/game/math",delay:.15}),y.jsx(Ut,{title:"",description:"",icon:nI,color:"green",href:"/game/english",delay:.2}),y.jsx(Ut,{title:"",description:"",icon:dI,color:"yellow",href:"/game/shape",delay:.25}),y.jsx(Ut,{title:"DoReMi ",description:"",icon:lI,color:"purple",href:"/game/melody",delay:.3}),y.jsx(Ut,{title:"",description:"",icon:sI,color:"blue",href:"/game/clock",delay:.35}),y.jsx(Ut,{title:"",description:"",icon:oI,color:"green",href:"/game/bopomofo",delay:.4}),y.jsx(Ut,{title:"",description:"",icon:iI,color:"purple",href:"/game/emotion",delay:.45}),y.jsx(Ut,{title:"",description:"",icon:FO,color:"green",href:"/game/coding",delay:.5}),y.jsx(Ut,{title:"",description:"",icon:zO,color:"pink",href:"/game/garden",delay:.55}),y.jsx(Ut,{title:"",description:"",icon:hI,color:"blue",href:"/game/market",delay:.6}),y.jsx(Ut,{title:"",description:"",icon:XO,color:"green",href:"/game/recycle",delay:.65}),y.jsx(Ut,{title:"",description:"",icon:DO,color:"purple",href:"/game/memory",delay:.7}),y.jsx(Ut,{title:"",description:"",icon:jO,color:"yellow",href:"/game/animal",delay:.75}),y.jsx(Ut,{title:"",description:"",icon:OO,color:"blue",href:"/game/traffic",delay:.8}),y.jsx(Ut,{title:"",description:"",icon:rj,color:"pink",href:"/game/body",delay:.85}),y.jsx(Ut,{title:"",description:"",icon:Tv,color:"green",href:"/game/food",delay:.9}),y.jsx(Ut,{title:"",description:"",icon:MO,color:"purple",href:"/game/job",delay:.95}),y.jsx(Ut,{title:"",description:"",icon:YO,color:"yellow",href:"/game/puzzle",delay:1}),y.jsx(Ut,{title:"",description:"",icon:ej,color:"blue",href:"/game/difference",delay:1.05}),y.jsx(Ut,{title:"",description:"",icon:HO,color:"green",href:"/game/sequence",delay:1.1}),y.jsx(Ut,{title:"",description:"",icon:$O,color:"purple",href:"/game/sorting",delay:1.15})]})]})})}var Vx={};(function t(e,n,r,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=(function(){if(!e.OffscreenCanvas)return!1;try{var W=new OffscreenCanvas(1,1),D=W.getContext("2d");D.fillRect(0,0,1,1);var K=W.transferToImageBitmap();D.createPattern(K,"no-repeat")}catch{return!1}return!0})();function d(){}function h(W){var D=n.exports.Promise,K=D!==void 0?D:e.Promise;return typeof K=="function"?new K(W):(W(d,d),null)}var m=(function(W,D){return{transform:function(K){if(W)return K;if(D.has(K))return D.get(K);var ie=new OffscreenCanvas(K.width,K.height),ce=ie.getContext("2d");return ce.drawImage(K,0,0),D.set(K,ie),ie},clear:function(){D.clear()}}})(c,new Map),g=(function(){var W=Math.floor(16.666666666666668),D,K,ie={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(me){var fe=Math.random();return ie[fe]=requestAnimationFrame(function de(ye){ce===ye||ce+W-1<ye?(ce=ye,delete ie[fe],me()):ie[fe]=requestAnimationFrame(de)}),fe},K=function(me){ie[me]&&cancelAnimationFrame(ie[me])}):(D=function(me){return setTimeout(me,W)},K=function(me){return clearTimeout(me)}),{frame:D,cancel:K}})(),w=(function(){var W,D,K={};function ie(ce){function me(fe,de){ce.postMessage({options:fe||{},callback:de})}ce.init=function(de){var ye=de.transferControlToOffscreen();ce.postMessage({canvas:ye},[ye])},ce.fire=function(de,ye,Ee){if(D)return me(de,null),D;var _e=Math.random().toString(36).slice(2);return D=h(function(Ye){function Ke(et){et.data.callback===_e&&(delete K[_e],ce.removeEventListener("message",Ke),D=null,m.clear(),Ee(),Ye())}ce.addEventListener("message",Ke),me(de,_e),K[_e]=Ke.bind(null,{data:{callback:_e}})}),D},ce.reset=function(){ce.postMessage({reset:!0});for(var de in K)K[de](),delete K[de]}}return function(){if(W)return W;if(!r&&o){var ce=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{W=new Worker(URL.createObjectURL(new Blob([ce])))}catch(me){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}ie(W)}return W}})(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(W,D){return D?D(W):W}function E(W){return W!=null}function T(W,D,K){return R(W&&E(W[D])?W[D]:S[D],K)}function N(W){return W<0?0:Math.floor(W)}function O(W,D){return Math.floor(Math.random()*(D-W))+W}function j(W){return parseInt(W,16)}function z(W){return W.map(M)}function M(W){var D=String(W).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:j(D.substring(0,2)),g:j(D.substring(2,4)),b:j(D.substring(4,6))}}function V(W){var D=T(W,"origin",Object);return D.x=T(D,"x",Number),D.y=T(D,"y",Number),D}function A(W){W.width=document.documentElement.clientWidth,W.height=document.documentElement.clientHeight}function I(W){var D=W.getBoundingClientRect();W.width=D.width,W.height=D.height}function k(W){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=W,D}function U(W,D,K,ie,ce,me,fe,de,ye){W.save(),W.translate(D,K),W.rotate(me),W.scale(ie,ce),W.arc(0,0,1,fe,de,ye),W.restore()}function B(W){var D=W.angle*(Math.PI/180),K=W.spread*(Math.PI/180);return{x:W.x,y:W.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:W.startVelocity*.5+Math.random()*W.startVelocity,angle2D:-D+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:W.color,shape:W.shape,tick:0,totalTicks:W.ticks,decay:W.decay,drift:W.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:W.gravity*3,ovalScalar:.6,scalar:W.scalar,flat:W.flat}}function $(W,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var K=D.tick++/D.totalTicks,ie=D.x+D.random*D.tiltCos,ce=D.y+D.random*D.tiltSin,me=D.wobbleX+D.random*D.tiltCos,fe=D.wobbleY+D.random*D.tiltSin;if(W.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-K)+")",W.beginPath(),l&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))W.fill(pe(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(me-ie)*.1,Math.abs(fe-ce)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var de=Math.PI/10*D.wobble,ye=Math.abs(me-ie)*.1,Ee=Math.abs(fe-ce)*.1,_e=D.shape.bitmap.width*D.scalar,Ye=D.shape.bitmap.height*D.scalar,Ke=new DOMMatrix([Math.cos(de)*ye,Math.sin(de)*ye,-Math.sin(de)*Ee,Math.cos(de)*Ee,D.x,D.y]);Ke.multiplySelf(new DOMMatrix(D.shape.matrix));var et=W.createPattern(m.transform(D.shape.bitmap),"no-repeat");et.setTransform(Ke),W.globalAlpha=1-K,W.fillStyle=et,W.fillRect(D.x-_e/2,D.y-Ye/2,_e,Ye),W.globalAlpha=1}else if(D.shape==="circle")W.ellipse?W.ellipse(D.x,D.y,Math.abs(me-ie)*D.ovalScalar,Math.abs(fe-ce)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):U(W,D.x,D.y,Math.abs(me-ie)*D.ovalScalar,Math.abs(fe-ce)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var je=Math.PI/2*3,vt=4*D.scalar,bt=8*D.scalar,Vt=D.x,dn=D.y,ct=5,Qe=Math.PI/ct;ct--;)Vt=D.x+Math.cos(je)*bt,dn=D.y+Math.sin(je)*bt,W.lineTo(Vt,dn),je+=Qe,Vt=D.x+Math.cos(je)*vt,dn=D.y+Math.sin(je)*vt,W.lineTo(Vt,dn),je+=Qe;else W.moveTo(Math.floor(D.x),Math.floor(D.y)),W.lineTo(Math.floor(D.wobbleX),Math.floor(ce)),W.lineTo(Math.floor(me),Math.floor(fe)),W.lineTo(Math.floor(ie),Math.floor(D.wobbleY));return W.closePath(),W.fill(),D.tick<D.totalTicks}function F(W,D,K,ie,ce){var me=D.slice(),fe=W.getContext("2d"),de,ye,Ee=h(function(_e){function Ye(){de=ye=null,fe.clearRect(0,0,ie.width,ie.height),m.clear(),ce(),_e()}function Ke(){r&&!(ie.width===s.width&&ie.height===s.height)&&(ie.width=W.width=s.width,ie.height=W.height=s.height),!ie.width&&!ie.height&&(K(W),ie.width=W.width,ie.height=W.height),fe.clearRect(0,0,ie.width,ie.height),me=me.filter(function(et){return $(fe,et)}),me.length?de=g.frame(Ke):Ye()}de=g.frame(Ke),ye=Ye});return{addFettis:function(_e){return me=me.concat(_e),Ee},canvas:W,promise:Ee,reset:function(){de&&g.cancel(de),ye&&ye()}}}function te(W,D){var K=!W,ie=!!T(D||{},"resize"),ce=!1,me=T(D,"disableForReducedMotion",Boolean),fe=o&&!!T(D||{},"useWorker"),de=fe?w():null,ye=K?A:I,Ee=W&&de?!!W.__confetti_initialized:!1,_e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function Ke(je,vt,bt){for(var Vt=T(je,"particleCount",N),dn=T(je,"angle",Number),ct=T(je,"spread",Number),Qe=T(je,"startVelocity",Number),hn=T(je,"decay",Number),Ir=T(je,"gravity",Number),gs=T(je,"drift",Number),ys=T(je,"colors",z),Ar=T(je,"ticks",Number),vs=T(je,"shapes"),Kn=T(je,"scalar"),_n=!!T(je,"flat"),dr=V(je),hr=Vt,Wt=[],Xs=W.width*dr.x,Rr=W.height*dr.y;hr--;)Wt.push(B({x:Xs,y:Rr,angle:dn,spread:ct,startVelocity:Qe,color:ys[hr%ys.length],shape:vs[O(0,vs.length)],ticks:Ar,decay:hn,gravity:Ir,drift:gs,scalar:Kn,flat:_n}));return Ye?Ye.addFettis(Wt):(Ye=F(W,Wt,ye,vt,bt),Ye.promise)}function et(je){var vt=me||T(je,"disableForReducedMotion",Boolean),bt=T(je,"zIndex",Number);if(vt&&_e)return h(function(Qe){Qe()});K&&Ye?W=Ye.canvas:K&&!W&&(W=k(bt),document.body.appendChild(W)),ie&&!Ee&&ye(W);var Vt={width:W.width,height:W.height};de&&!Ee&&de.init(W),Ee=!0,de&&(W.__confetti_initialized=!0);function dn(){if(de){var Qe={getBoundingClientRect:function(){if(!K)return W.getBoundingClientRect()}};ye(Qe),de.postMessage({resize:{width:Qe.width,height:Qe.height}});return}Vt.width=Vt.height=null}function ct(){Ye=null,ie&&(ce=!1,e.removeEventListener("resize",dn)),K&&W&&(document.body.contains(W)&&document.body.removeChild(W),W=null,Ee=!1)}return ie&&!ce&&(ce=!0,e.addEventListener("resize",dn,!1)),de?de.fire(je,Vt,ct):Ke(je,Vt,ct)}return et.reset=function(){de&&de.reset(),Ye&&Ye.reset()},et}var Ie;function ke(){return Ie||(Ie=te(null,{useWorker:!0,resize:!0})),Ie}function pe(W,D,K,ie,ce,me,fe){var de=new Path2D(W),ye=new Path2D;ye.addPath(de,new DOMMatrix(D));var Ee=new Path2D;return Ee.addPath(ye,new DOMMatrix([Math.cos(fe)*ce,Math.sin(fe)*ce,-Math.sin(fe)*me,Math.cos(fe)*me,K,ie])),Ee}function ee(W){if(!l)throw new Error("path confetti are not supported in this browser");var D,K;typeof W=="string"?D=W:(D=W.path,K=W.matrix);var ie=new Path2D(D),ce=document.createElement("canvas"),me=ce.getContext("2d");if(!K){for(var fe=1e3,de=fe,ye=fe,Ee=0,_e=0,Ye,Ke,et=0;et<fe;et+=2)for(var je=0;je<fe;je+=2)me.isPointInPath(ie,et,je,"nonzero")&&(de=Math.min(de,et),ye=Math.min(ye,je),Ee=Math.max(Ee,et),_e=Math.max(_e,je));Ye=Ee-de,Ke=_e-ye;var vt=10,bt=Math.min(vt/Ye,vt/Ke);K=[bt,0,0,bt,-Math.round(Ye/2+de)*bt,-Math.round(Ke/2+ye)*bt]}return{type:"path",path:D,matrix:K}}function re(W){var D,K=1,ie="#000000",ce='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof W=="string"?D=W:(D=W.text,K="scalar"in W?W.scalar:K,ce="fontFamily"in W?W.fontFamily:ce,ie="color"in W?W.color:ie);var me=10*K,fe=""+me+"px "+ce,de=new OffscreenCanvas(me,me),ye=de.getContext("2d");ye.font=fe;var Ee=ye.measureText(D),_e=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Ye=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),Ke=2,et=Ee.actualBoundingBoxLeft+Ke,je=Ee.actualBoundingBoxAscent+Ke;_e+=Ke+Ke,Ye+=Ke+Ke,de=new OffscreenCanvas(_e,Ye),ye=de.getContext("2d"),ye.font=fe,ye.fillStyle=ie,ye.fillText(D,et,je);var vt=1/K;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[vt,0,0,vt,-_e*vt/2,-Ye*vt/2]}}n.exports=function(){return ke().apply(this,arguments)},n.exports.reset=function(){ke().reset()},n.exports.create=te,n.exports.shapeFromPath=ee,n.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Vx,!1);const Pt=Vx.exports;Vx.exports.create;const o9=()=>{};var nE={};const ck=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},a9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let w=(c&15)<<2|h>>6,S=h&63;d||(S=64,l||(w=64)),r.push(n[m],n[g],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ck(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||h==null||g==null)throw new l9;const w=o<<2|c>>4;if(r.push(w),h!==64){const S=c<<4&240|h>>2;if(r.push(S),g!==64){const R=h<<6&192|g;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c9=function(t){const e=ck(t);return uk.encodeByteArray(e,!0)},fp=function(t){return c9(t).replace(/\./g,"")},dk=function(t){try{return uk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const d9=()=>u9().__FIREBASE_DEFAULTS__,h9=()=>{if(typeof process>"u"||typeof nE>"u")return;const t=nE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dk(t[1]);return e&&JSON.parse(e)},um=()=>{try{return o9()||d9()||h9()||f9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hk=t=>um()?.emulatorHosts?.[t],p9=t=>{const e=hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fk=()=>um()?.config,pk=t=>um()?.[`_${t}`];class m9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ec(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mk(t){return(await fetch(t,{credentials:"include"})).ok}function g9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fp(JSON.stringify(n)),fp(JSON.stringify(l)),""].join(".")}const zu={};function y9(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function v9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rE=!1;function gk(t,e){if(typeof window>"u"||typeof document>"u"||!Ec(window.location.host)||zu[t]===e||zu[t]||rE)return;zu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=y9().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{rE=!0,l()},w}function m(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=v9(r),S=n("text"),R=document.getElementById(S)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),N=n("preprendIcon"),O=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;c(j),m(T,E);const z=h();d(O,N),j.append(O,R,T,z),document.body.appendChild(j)}o?(R.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function w9(){const t=um()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E9(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S9(){return!w9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C9(){try{return typeof indexedDB=="object"}catch{return!1}}function I9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const A9="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A9,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ld.prototype.create)}}class Ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?R9(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Mi(s,c,r)}}function R9(t,e){return t.replace(k9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const k9=/\{\$([^}]+)}/g;function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(sE(o)&&sE(l)){if(!Na(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sE(t){return t!==null&&typeof t=="object"}function Fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N9(t,e){const n=new D9(t,e);return n.subscribe.bind(n)}class D9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vy),s.error===void 0&&(s.error=Vy),s.complete===void 0&&(s.complete=Vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vy(){}function Cr(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class O9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V9(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j9(t){return t===Ta?void 0:t}function V9(t){return t.instantiationMode==="EAGER"}class L9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const F9={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},U9=nt.INFO,B9={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},z9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=B9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lx{constructor(e){this.name=e,this._logLevel=U9,this._logHandler=z9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const $9=(t,e)=>e.some(n=>t instanceof n);let iE,oE;function q9(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W9(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yk=new WeakMap,Kv=new WeakMap,vk=new WeakMap,Ly=new WeakMap,Fx=new WeakMap;function H9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(wo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yk.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function G9(t){if(Kv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Kv.set(t,e)}let Qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K9(t){Qv=t(Qv)}function Q9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fy(this),e,...n);return vk.set(r,e.sort?e.sort():[e]),wo(r)}:W9().includes(t)?function(...e){return t.apply(Fy(this),e),wo(yk.get(this))}:function(...e){return wo(t.apply(Fy(this),e))}}function Z9(t){return typeof t=="function"?Q9(t):(t instanceof IDBTransaction&&G9(t),$9(t,q9())?new Proxy(t,Qv):t)}function wo(t){if(t instanceof IDBRequest)return H9(t);if(Ly.has(t))return Ly.get(t);const e=Z9(t);return e!==t&&(Ly.set(t,e),Fx.set(e,t)),e}const Fy=t=>Fx.get(t);function Y9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=wo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(wo(l.result),d.oldVersion,d.newVersion,wo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const X9=["get","getKey","getAll","getAllKeys","count"],J9=["put","add","delete","clear"],Uy=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=J9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||X9.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return Uy.set(e,o),o}K9(t=>({...t,get:(e,n,r)=>aE(e,n)||t.get(e,n,r),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));class eU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tU(t){return t.getComponent()?.type==="VERSION"}const Zv="@firebase/app",lE="0.14.7";const Ai=new Lx("@firebase/app"),nU="@firebase/app-compat",rU="@firebase/analytics-compat",sU="@firebase/analytics",iU="@firebase/app-check-compat",oU="@firebase/app-check",aU="@firebase/auth",lU="@firebase/auth-compat",cU="@firebase/database",uU="@firebase/data-connect",dU="@firebase/database-compat",hU="@firebase/functions",fU="@firebase/functions-compat",pU="@firebase/installations",mU="@firebase/installations-compat",gU="@firebase/messaging",yU="@firebase/messaging-compat",vU="@firebase/performance",xU="@firebase/performance-compat",wU="@firebase/remote-config",_U="@firebase/remote-config-compat",bU="@firebase/storage",TU="@firebase/storage-compat",EU="@firebase/firestore",SU="@firebase/ai",CU="@firebase/firestore-compat",IU="firebase",AU="12.8.0";const Yv="[DEFAULT]",RU={[Zv]:"fire-core",[nU]:"fire-core-compat",[sU]:"fire-analytics",[rU]:"fire-analytics-compat",[oU]:"fire-app-check",[iU]:"fire-app-check-compat",[aU]:"fire-auth",[lU]:"fire-auth-compat",[cU]:"fire-rtdb",[uU]:"fire-data-connect",[dU]:"fire-rtdb-compat",[hU]:"fire-fn",[fU]:"fire-fn-compat",[pU]:"fire-iid",[mU]:"fire-iid-compat",[gU]:"fire-fcm",[yU]:"fire-fcm-compat",[vU]:"fire-perf",[xU]:"fire-perf-compat",[wU]:"fire-rc",[_U]:"fire-rc-compat",[bU]:"fire-gcs",[TU]:"fire-gcs-compat",[EU]:"fire-fst",[CU]:"fire-fst-compat",[SU]:"fire-vertex","fire-js":"fire-js",[IU]:"fire-js-all"};const pp=new Map,kU=new Map,Xv=new Map;function cE(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lc(t){const e=t.name;if(Xv.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Xv.set(e,t);for(const n of pp.values())cE(n,t);for(const n of kU.values())cE(n,t);return!0}function Ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ss(t){return t==null?!1:t.settings!==void 0}const PU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Ld("app","Firebase",PU);class NU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}const Sc=AU;function xk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _o.create("bad-app-name",{appName:String(s)});if(n||(n=fk()),!n)throw _o.create("no-options");const o=pp.get(s);if(o){if(Na(n,o.options)&&Na(r,o.config))return o;throw _o.create("duplicate-app",{appName:s})}const l=new L9(s);for(const d of Xv.values())l.addComponent(d);const c=new NU(n,r,l);return pp.set(s,c),c}function wk(t=Yv){const e=pp.get(t);if(!e&&t===Yv&&fk())return xk();if(!e)throw _o.create("no-app",{appName:t});return e}function bo(t,e,n){let r=RU[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(l.join(" "));return}lc(new Da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const DU="firebase-heartbeat-database",MU=1,id="firebase-heartbeat-store";let By=null;function _k(){return By||(By=Y9(DU,MU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),By}async function OU(t){try{const n=(await _k()).transaction(id),r=await n.objectStore(id).get(bk(t));return await n.done,r}catch(e){if(e instanceof Mi)Ai.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(n.message)}}}async function uE(t,e){try{const r=(await _k()).transaction(id,"readwrite");await r.objectStore(id).put(e,bk(t)),await r.done}catch(n){if(n instanceof Mi)Ai.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(r.message)}}}function bk(t){return`${t.name}!${t.options.appId}`}const jU=1024,VU=30;class LU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>VU){const s=BU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:n,unsentEntries:r}=FU(this._heartbeatsCache.heartbeats),s=fp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ai.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function FU(t,e=jU){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),hE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C9()?I9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hE(t){return fp(JSON.stringify({version:2,heartbeats:t})).length}function BU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function zU(t){lc(new Da("platform-logger",e=>new eU(e),"PRIVATE")),lc(new Da("heartbeat",e=>new LU(e),"PRIVATE")),bo(Zv,lE,t),bo(Zv,lE,"esm2020"),bo("fire-js","")}zU("");var $U="firebase",qU="12.8.0";bo($U,qU,"app");function Tk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WU=Tk,Ek=new Ld("auth","Firebase",Tk());const mp=new Lx("@firebase/auth");function HU(t,...e){mp.logLevel<=nt.WARN&&mp.warn(`Auth (${Sc}): ${t}`,...e)}function zf(t,...e){mp.logLevel<=nt.ERROR&&mp.error(`Auth (${Sc}): ${t}`,...e)}function Ri(t,...e){throw Bx(t,...e)}function Us(t,...e){return Bx(t,...e)}function Sk(t,e,n){const r={...WU(),[e]:n};return new Ld("auth","Firebase",r).create(e,{appName:t.name})}function To(t){return Sk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ek.create(t,...e)}function ze(t,e,...n){if(!t)throw Bx(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function ki(t,e){t||wi(e)}function Jv(){return typeof self<"u"&&self.location?.href||""}function GU(){return fE()==="http:"||fE()==="https:"}function fE(){return typeof self<"u"&&self.location?.protocol||null}function KU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GU()||b9()||"connection"in navigator)?navigator.onLine:!0}function QU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=x9()||T9()}get(){return KU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zx(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ck{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XU=new Ud(3e4,6e4);function dm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cc(t,e,n,r,s={}){return Ik(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Fd({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...o};return _9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ec(t.emulatorConfig.host)&&(h.credentials="include"),Ck.fetch()(await Rk(t,t.config.apiHost,n,c),h)})}async function Ik(t,e,n){t._canInitEmulator=!1;const r={...ZU,...e};try{const s=new JU(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw xf(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw xf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw xf(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Sk(t,m,h);Ri(t,m)}}catch(s){if(s instanceof Mi)throw s;Ri(t,"network-request-failed",{message:String(s)})}}async function Ak(t,e,n,r,s={}){const o=await Cc(t,e,n,r,s);return"mfaPendingCredential"in o&&Ri(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Rk(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?zx(t.config,s):`${t.config.apiScheme}://${s}`;return YU.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class JU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Us(this.auth,"network-request-failed")),XU.get())})}}function xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Us(t,e,r);return s.customData._tokenResponse=n,s}async function e8(t,e){return Cc(t,"POST","/v1/accounts:delete",e)}async function gp(t,e){return Cc(t,"POST","/v1/accounts:lookup",e)}function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t8(t,e=!1){const n=Cr(t),r=await n.getIdToken(e),s=$x(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:$u(zy(s.auth_time)),issuedAtTime:$u(zy(s.iat)),expirationTime:$u(zy(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function zy(t){return Number(t)*1e3}function $x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const s=dk(n);return s?JSON.parse(s):(zf("Failed to decode base64 JWT payload"),null)}catch(s){return zf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function pE(t){const e=$x(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function od(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&n8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class r8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class e0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yp(t){const e=t.auth,n=await t.getIdToken(),r=await od(t,gp(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?kk(s.providerUserInfo):[],l=i8(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!l?.length,h=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new e0(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function s8(t){const e=Cr(t);await yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function o8(t,e){const n=await Ik(t,{},async()=>{const r=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await Rk(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ec(t.emulatorConfig.host)&&(d.credentials="include"),Ck.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a8(t,e){return Cc(t,"POST","/v2/accounts:revokeToken",dm(t,e))}class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await o8(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Hl;return r&&(ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(ze(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return wi("not implemented")}}function ao(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new r8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new e0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await od(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t8(this,e)}reload(){return s8(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await od(this,e8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:S,providerData:R,stsTokenManager:E}=n;ze(g&&E,e,"internal-error");const T=Hl.fromJSON(this.name,E);ze(typeof g=="string",e,"internal-error"),ao(r,e.name),ao(s,e.name),ze(typeof w=="boolean",e,"internal-error"),ze(typeof S=="boolean",e,"internal-error"),ao(o,e.name),ao(l,e.name),ao(c,e.name),ao(d,e.name),ao(h,e.name),ao(m,e.name);const N=new is({uid:g,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:m});return R&&Array.isArray(R)&&(N.providerData=R.map(O=>({...O}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Hl;s.updateFromServerResponse(n);const o=new is({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ze(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?kk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new Hl;c.updateFromIdToken(r);const d=new is({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new e0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,h),d}}const mE=new Map;function _i(t){ki(t instanceof Function,"Expected a class definition");let e=mE.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mE.set(t,e),e)}class Pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pk.type="NONE";const gE=Pk;function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=$f(this.userKey,s.apiKey,o),this.fullPersistenceKey=$f("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gp(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(_i(gE),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||_i(gE);const l=$f(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const w=await gp(e,{idToken:m}).catch(()=>{});if(!w)break;g=await is._fromGetAccountInfoResponse(e,w,m)}else g=is._fromJSON(e,m);h!==o&&(c=g),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Gl(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Gl(o,e,r))}}function yE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ok(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vk(e))return"Blackberry";if(Lk(e))return"Webos";if(Dk(e))return"Safari";if((e.includes("chrome/")||Mk(e))&&!e.includes("edge/"))return"Chrome";if(jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Nk(t=Wn()){return/firefox\//i.test(t)}function Dk(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mk(t=Wn()){return/crios\//i.test(t)}function Ok(t=Wn()){return/iemobile/i.test(t)}function jk(t=Wn()){return/android/i.test(t)}function Vk(t=Wn()){return/blackberry/i.test(t)}function Lk(t=Wn()){return/webos/i.test(t)}function qx(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l8(t=Wn()){return qx(t)&&!!window.navigator?.standalone}function c8(){return E9()&&document.documentMode===10}function Fk(t=Wn()){return qx(t)||jk(t)||Lk(t)||Vk(t)||/windows phone/i.test(t)||Ok(t)}function Uk(t,e=[]){let n;switch(t){case"Browser":n=yE(Wn());break;case"Worker":n=`${yE(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sc}/${r}`}class u8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function d8(t,e={}){return Cc(t,"GET","/v2/passwordPolicy",dm(t,e))}const h8=6;class f8{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class p8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new u8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gp(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ss(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(To(this));const n=e?Cr(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d8(this),n=new f8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ld("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hm(t){return Cr(t)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=N9(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m8(t){Wx=t}function g8(t){return Wx.loadJS(t)}function y8(){return Wx.gapiScript}function v8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function x8(t,e){const n=Ux(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Na(o,e??{}))return s;Ri(s,"already-initialized")}return n.initialize({options:e})}function w8(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _8(t,e,n){const r=hm(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=Bk(e),{host:l,port:c}=b8(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Na(h,r.config.emulator)&&Na(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ec(l)?(mk(`${o}//${l}${d}`),gk("Auth",!0)):T8()}function Bk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b8(t){const e=Bk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:xE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:xE(l)}}}function xE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class zk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function Kl(t,e){return Ak(t,"POST","/v1/accounts:signInWithIdp",dm(t,e))}const E8="http://localhost";class Ma extends zk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new Ma(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:E8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fd(n)}return e}}class $k{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bd extends $k{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fo extends Bd{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";class po extends Bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ma._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return po.credential(n,r)}catch{return null}}}po.GOOGLE_SIGN_IN_METHOD="google.com";po.PROVIDER_ID="google.com";class mo extends Bd{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";class go extends Bd{constructor(){super("twitter.com")}static credential(e,n){return Ma._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return go.credential(n,r)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";async function S8(t,e){return Ak(t,"POST","/v1/accounts:signUp",dm(t,e))}class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await is._fromIdTokenResponse(e,r,s),l=wE(r);return new Mo({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=wE(r);return new Mo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function wE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function C8(t){if(ss(t.app))return Promise.reject(To(t));const e=hm(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Mo({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await S8(e,{returnSecureToken:!0}),r=await Mo._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class vp extends Mi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vp(e,n,r,s)}}function qk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vp._fromErrorAndOperation(t,o,e,r):o})}async function I8(t,e,n=!1){const r=await od(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}async function A8(t,e,n=!1){const{auth:r}=t;if(ss(r.app))return Promise.reject(To(r));const s="reauthenticate";try{const o=await od(t,qk(r,s,e,t),n);ze(o.idToken,r,"internal-error");const l=$x(o.idToken);ze(l,r,"internal-error");const{sub:c}=l;return ze(t.uid===c,r,"user-mismatch"),Mo._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),o}}async function R8(t,e,n=!1){if(ss(t.app))return Promise.reject(To(t));const r="signIn",s=await qk(t,r,e),o=await Mo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function k8(t,e,n,r){return Cr(t).onIdTokenChanged(e,n,r)}function P8(t,e,n){return Cr(t).beforeAuthStateChanged(e,n)}function N8(t,e,n,r){return Cr(t).onAuthStateChanged(e,n,r)}const xp="__sak";class Wk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xp,"1"),this.storage.removeItem(xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const D8=1e3,M8=10;class Hk extends Wk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);c8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,M8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hk.type="LOCAL";const O8=Hk;class Gk extends Wk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gk.type="SESSION";const Kk=Gk;function j8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await j8(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];function Hx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class V8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=Hx("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const w=g;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Bs(){return window}function L8(t){Bs().location.href=t}function Qk(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function F8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U8(){return navigator?.serviceWorker?.controller||null}function B8(){return Qk()?self:null}const Zk="firebaseLocalStorageDb",z8=1,wp="firebaseLocalStorage",Yk="fbase_key";class zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function $8(){const t=indexedDB.deleteDatabase(Zk);return new zd(t).toPromise()}function t0(){const t=indexedDB.open(Zk,z8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wp,{keyPath:Yk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await $8(),e(await t0()))})})}async function _E(t,e,n){const r=pm(t,!0).put({[Yk]:e,value:n});return new zd(r).toPromise()}async function q8(t,e){const n=pm(t,!1).get(e),r=await new zd(n).toPromise();return r===void 0?null:r.value}function bE(t,e){const n=pm(t,!0).delete(e);return new zd(n).toPromise()}const W8=800,H8=3;class Xk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(B8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F8(),!this.activeServiceWorker)return;this.sender=new V8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t0();return await _E(e,xp,"1"),await bE(e,xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=pm(s,!1).getAll();return new zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xk.type="LOCAL";const G8=Xk;new Ud(3e4,6e4);function K8(t,e){return e?_i(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Gx extends zk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q8(t){return R8(t.auth,new Gx(t),t.bypassAuthState)}function Z8(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),A8(n,new Gx(t),t.bypassAuthState)}async function Y8(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),I8(n,new Gx(t),t.bypassAuthState)}class Jk{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q8;case"linkViaPopup":case"linkViaRedirect":return Y8;case"reauthViaPopup":case"reauthViaRedirect":return Z8;default:Ri(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X8=new Ud(2e3,1e4);class Fl extends Jk{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Hx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X8.get())};e()}}Fl.currentPopupAction=null;const J8="pendingRedirect",qf=new Map;class eB extends Jk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qf.get(this.auth._key());if(!e){try{const r=await tB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qf.set(this.auth._key(),e)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tB(t,e){const n=sB(e),r=rB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nB(t,e){qf.set(t._key(),e)}function rB(t){return _i(t._redirectPersistence)}function sB(t){return $f(J8,t.config.apiKey,t.name)}async function iB(t,e,n=!1){if(ss(t.app))return Promise.reject(To(t));const r=hm(t),s=K8(r,e),l=await new eB(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const oB=600*1e3;class aB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eP(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Us(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oB&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(e))}saveEventToCache(e){this.cachedEventUids.add(TE(e)),this.lastProcessedEventTime=Date.now()}}function TE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eP(t);default:return!1}}async function cB(t,e={}){return Cc(t,"GET","/v1/projects",e)}const uB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dB=/^https?/;async function hB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cB(t);for(const n of e)try{if(fB(n))return}catch{}Ri(t,"unauthorized-domain")}function fB(t){const e=Jv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!dB.test(n))return!1;if(uB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const pB=new Ud(3e4,6e4);function EE(){const t=Bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mB(t){return new Promise((e,n)=>{function r(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(Us(t,"network-request-failed"))},timeout:pB.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)r();else{const s=v8("iframefcb");return Bs()[s]=()=>{gapi.load?r():n(Us(t,"network-request-failed"))},g8(`${y8()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function gB(t){return Wf=Wf||mB(t),Wf}const yB=new Ud(5e3,15e3),vB="__/auth/iframe",xB="emulator/auth/iframe",wB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_B=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bB(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zx(e,xB):`https://${t.config.authDomain}/${vB}`,r={apiKey:e.apiKey,appName:t.name,v:Sc},s=_B.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fd(r).slice(1)}`}async function TB(t){const e=await gB(t),n=Bs().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:bB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wB,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Us(t,"network-request-failed"),c=Bs().setTimeout(()=>{o(l)},yB.get());function d(){Bs().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}const EB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SB=500,CB=600,IB="_blank",AB="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RB(t,e,n,r=SB,s=CB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...EB,width:r.toString(),height:s.toString(),top:o,left:l},h=Wn().toLowerCase();n&&(c=Mk(h)?IB:n),Nk(h)&&(e=e||AB,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[S,R])=>`${w}${S}=${R},`,"");if(l8(h)&&c!=="_self")return kB(e||"",c),new SE(null);const g=window.open(e||"",c,m);ze(g,t,"popup-blocked");try{g.focus()}catch{}return new SE(g)}function kB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const PB="__/auth/handler",NB="emulator/auth/handler",DB=encodeURIComponent("fac");async function CE(t,e,n,r,s,o){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sc,eventId:s};if(e instanceof $k){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",P9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Bd){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${DB}=${encodeURIComponent(d)}`:"";return`${MB(t)}?${Fd(c).slice(1)}${h}`}function MB({config:t}){return t.emulator?zx(t,NB):`https://${t.authDomain}/${PB}`}const $y="webStorageSupport";class OB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kk,this._completeRedirectFn=iB,this._overrideRedirectResult=nB}async _openPopup(e,n,r,s){ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await CE(e,n,r,Jv(),s);return RB(e,o,Hx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await CE(e,n,r,Jv(),s);return L8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TB(e),r=new aB(e);return n.register("authEvent",s=>(ze(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},s=>{const o=s?.[0]?.[$y];o!==void 0&&n(!!o),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fk()||Dk()||qx()}}const jB=OB;var IE="@firebase/auth",AE="1.12.0";class VB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FB(t){lc(new Da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(t)},h=new p8(r,s,o,d);return w8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lc(new Da("auth-internal",e=>{const n=hm(e.getProvider("auth").getImmediate());return(r=>new VB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(IE,AE,LB(t)),bo(IE,AE,"esm2020")}const UB=300,BB=pk("authIdTokenMaxAge")||UB;let RE=null;const zB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BB)return;const s=n?.token;RE!==s&&(RE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $B(t=wk()){const e=Ux(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x8(t,{popupRedirectResolver:jB,persistence:[G8,O8,Kk]}),r=pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=zB(o.toString());P8(n,l,()=>l(n.currentUser)),k8(n,c=>l(c))}}const s=hk("auth");return s&&_8(n,`http://${s}`),n}function qB(){return document.getElementsByTagName("head")?.[0]??document}m8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Us("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",qB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FB("Browser");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eo,tP;(function(){var t;function e(A,I){function k(){}k.prototype=I.prototype,A.F=I.prototype,A.prototype=new k,A.prototype.constructor=A,A.D=function(U,B,$){for(var F=Array(arguments.length-2),te=2;te<arguments.length;te++)F[te-2]=arguments[te];return I.prototype[B].apply(U,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,I,k){k||(k=0);const U=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)U[B]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(B=0;B<16;++B)U[B]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=A.g[0],k=A.g[1],B=A.g[2];let $=A.g[3],F;F=I+($^k&(B^$))+U[0]+3614090360&4294967295,I=k+(F<<7&4294967295|F>>>25),F=$+(B^I&(k^B))+U[1]+3905402710&4294967295,$=I+(F<<12&4294967295|F>>>20),F=B+(k^$&(I^k))+U[2]+606105819&4294967295,B=$+(F<<17&4294967295|F>>>15),F=k+(I^B&($^I))+U[3]+3250441966&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+($^k&(B^$))+U[4]+4118548399&4294967295,I=k+(F<<7&4294967295|F>>>25),F=$+(B^I&(k^B))+U[5]+1200080426&4294967295,$=I+(F<<12&4294967295|F>>>20),F=B+(k^$&(I^k))+U[6]+2821735955&4294967295,B=$+(F<<17&4294967295|F>>>15),F=k+(I^B&($^I))+U[7]+4249261313&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+($^k&(B^$))+U[8]+1770035416&4294967295,I=k+(F<<7&4294967295|F>>>25),F=$+(B^I&(k^B))+U[9]+2336552879&4294967295,$=I+(F<<12&4294967295|F>>>20),F=B+(k^$&(I^k))+U[10]+4294925233&4294967295,B=$+(F<<17&4294967295|F>>>15),F=k+(I^B&($^I))+U[11]+2304563134&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+($^k&(B^$))+U[12]+1804603682&4294967295,I=k+(F<<7&4294967295|F>>>25),F=$+(B^I&(k^B))+U[13]+4254626195&4294967295,$=I+(F<<12&4294967295|F>>>20),F=B+(k^$&(I^k))+U[14]+2792965006&4294967295,B=$+(F<<17&4294967295|F>>>15),F=k+(I^B&($^I))+U[15]+1236535329&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+(B^$&(k^B))+U[1]+4129170786&4294967295,I=k+(F<<5&4294967295|F>>>27),F=$+(k^B&(I^k))+U[6]+3225465664&4294967295,$=I+(F<<9&4294967295|F>>>23),F=B+(I^k&($^I))+U[11]+643717713&4294967295,B=$+(F<<14&4294967295|F>>>18),F=k+($^I&(B^$))+U[0]+3921069994&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^$&(k^B))+U[5]+3593408605&4294967295,I=k+(F<<5&4294967295|F>>>27),F=$+(k^B&(I^k))+U[10]+38016083&4294967295,$=I+(F<<9&4294967295|F>>>23),F=B+(I^k&($^I))+U[15]+3634488961&4294967295,B=$+(F<<14&4294967295|F>>>18),F=k+($^I&(B^$))+U[4]+3889429448&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^$&(k^B))+U[9]+568446438&4294967295,I=k+(F<<5&4294967295|F>>>27),F=$+(k^B&(I^k))+U[14]+3275163606&4294967295,$=I+(F<<9&4294967295|F>>>23),F=B+(I^k&($^I))+U[3]+4107603335&4294967295,B=$+(F<<14&4294967295|F>>>18),F=k+($^I&(B^$))+U[8]+1163531501&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^$&(k^B))+U[13]+2850285829&4294967295,I=k+(F<<5&4294967295|F>>>27),F=$+(k^B&(I^k))+U[2]+4243563512&4294967295,$=I+(F<<9&4294967295|F>>>23),F=B+(I^k&($^I))+U[7]+1735328473&4294967295,B=$+(F<<14&4294967295|F>>>18),F=k+($^I&(B^$))+U[12]+2368359562&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(k^B^$)+U[5]+4294588738&4294967295,I=k+(F<<4&4294967295|F>>>28),F=$+(I^k^B)+U[8]+2272392833&4294967295,$=I+(F<<11&4294967295|F>>>21),F=B+($^I^k)+U[11]+1839030562&4294967295,B=$+(F<<16&4294967295|F>>>16),F=k+(B^$^I)+U[14]+4259657740&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^$)+U[1]+2763975236&4294967295,I=k+(F<<4&4294967295|F>>>28),F=$+(I^k^B)+U[4]+1272893353&4294967295,$=I+(F<<11&4294967295|F>>>21),F=B+($^I^k)+U[7]+4139469664&4294967295,B=$+(F<<16&4294967295|F>>>16),F=k+(B^$^I)+U[10]+3200236656&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^$)+U[13]+681279174&4294967295,I=k+(F<<4&4294967295|F>>>28),F=$+(I^k^B)+U[0]+3936430074&4294967295,$=I+(F<<11&4294967295|F>>>21),F=B+($^I^k)+U[3]+3572445317&4294967295,B=$+(F<<16&4294967295|F>>>16),F=k+(B^$^I)+U[6]+76029189&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^$)+U[9]+3654602809&4294967295,I=k+(F<<4&4294967295|F>>>28),F=$+(I^k^B)+U[12]+3873151461&4294967295,$=I+(F<<11&4294967295|F>>>21),F=B+($^I^k)+U[15]+530742520&4294967295,B=$+(F<<16&4294967295|F>>>16),F=k+(B^$^I)+U[2]+3299628645&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(B^(k|~$))+U[0]+4096336452&4294967295,I=k+(F<<6&4294967295|F>>>26),F=$+(k^(I|~B))+U[7]+1126891415&4294967295,$=I+(F<<10&4294967295|F>>>22),F=B+(I^($|~k))+U[14]+2878612391&4294967295,B=$+(F<<15&4294967295|F>>>17),F=k+($^(B|~I))+U[5]+4237533241&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~$))+U[12]+1700485571&4294967295,I=k+(F<<6&4294967295|F>>>26),F=$+(k^(I|~B))+U[3]+2399980690&4294967295,$=I+(F<<10&4294967295|F>>>22),F=B+(I^($|~k))+U[10]+4293915773&4294967295,B=$+(F<<15&4294967295|F>>>17),F=k+($^(B|~I))+U[1]+2240044497&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~$))+U[8]+1873313359&4294967295,I=k+(F<<6&4294967295|F>>>26),F=$+(k^(I|~B))+U[15]+4264355552&4294967295,$=I+(F<<10&4294967295|F>>>22),F=B+(I^($|~k))+U[6]+2734768916&4294967295,B=$+(F<<15&4294967295|F>>>17),F=k+($^(B|~I))+U[13]+1309151649&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~$))+U[4]+4149444226&4294967295,I=k+(F<<6&4294967295|F>>>26),F=$+(k^(I|~B))+U[11]+3174756917&4294967295,$=I+(F<<10&4294967295|F>>>22),F=B+(I^($|~k))+U[2]+718787259&4294967295,B=$+(F<<15&4294967295|F>>>17),F=k+($^(B|~I))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+B&4294967295,A.g[3]=A.g[3]+$&4294967295}r.prototype.v=function(A,I){I===void 0&&(I=A.length);const k=I-this.blockSize,U=this.C;let B=this.h,$=0;for(;$<I;){if(B==0)for(;$<=k;)s(this,A,$),$+=this.blockSize;if(typeof A=="string"){for(;$<I;)if(U[B++]=A.charCodeAt($++),B==this.blockSize){s(this,U),B=0;break}}else for(;$<I;)if(U[B++]=A[$++],B==this.blockSize){s(this,U),B=0;break}}this.h=B,this.o+=I},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var k=A.length-8;k<A.length;++k)A[k]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,k=0;k<4;++k)for(let U=0;U<32;U+=8)A[I++]=this.g[k]>>>U&255;return A};function o(A,I){var k=c;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=I(A)}function l(A,I){this.h=I;const k=[];let U=!0;for(let B=A.length-1;B>=0;B--){const $=A[B]|0;U&&$==I||(k[B]=$,U=!1)}this.g=k}var c={};function d(A){return-128<=A&&A<128?o(A,function(I){return new l([I|0],I<0?-1:0)}):new l([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(A<0)return T(h(-A));const I=[];let k=1;for(let U=0;A>=k;U++)I[U]=A/k|0,k*=4294967296;return new l(I,0)}function m(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return T(m(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(I,8));let U=g;for(let $=0;$<A.length;$+=8){var B=Math.min(8,A.length-$);const F=parseInt(A.substring($,$+B),I);B<8?(B=h(Math.pow(I,B)),U=U.j(B).add(h(F))):(U=U.j(k),U=U.add(h(F)))}return U}var g=d(0),w=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-T(this).m();let A=0,I=1;for(let k=0;k<this.g.length;k++){const U=this.i(k);A+=(U>=0?U:4294967296+U)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(E(this))return"-"+T(this).toString(A);const I=h(Math.pow(A,6));var k=this;let U="";for(;;){const B=z(k,I).g;k=N(k,B.j(I));let $=((k.g.length>0?k.g[0]:k.h)>>>0).toString(A);if(k=B,R(k))return $+U;for(;$.length<6;)$="0"+$;U=$+U}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=N(this,A),E(A)?-1:R(A)?0:1};function T(A){const I=A.g.length,k=[];for(let U=0;U<I;U++)k[U]=~A.g[U];return new l(k,~A.h).add(w)}t.abs=function(){return E(this)?T(this):this},t.add=function(A){const I=Math.max(this.g.length,A.g.length),k=[];let U=0;for(let B=0;B<=I;B++){let $=U+(this.i(B)&65535)+(A.i(B)&65535),F=($>>>16)+(this.i(B)>>>16)+(A.i(B)>>>16);U=F>>>16,$&=65535,F&=65535,k[B]=F<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function N(A,I){return A.add(T(I))}t.j=function(A){if(R(this)||R(A))return g;if(E(this))return E(A)?T(this).j(T(A)):T(T(this).j(A));if(E(A))return T(this.j(T(A)));if(this.l(S)<0&&A.l(S)<0)return h(this.m()*A.m());const I=this.g.length+A.g.length,k=[];for(var U=0;U<2*I;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<A.g.length;B++){const $=this.i(U)>>>16,F=this.i(U)&65535,te=A.i(B)>>>16,Ie=A.i(B)&65535;k[2*U+2*B]+=F*Ie,O(k,2*U+2*B),k[2*U+2*B+1]+=$*Ie,O(k,2*U+2*B+1),k[2*U+2*B+1]+=F*te,O(k,2*U+2*B+1),k[2*U+2*B+2]+=$*te,O(k,2*U+2*B+2)}for(A=0;A<I;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=I;A<2*I;A++)k[A]=0;return new l(k,0)};function O(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function j(A,I){this.g=A,this.h=I}function z(A,I){if(R(I))throw Error("division by zero");if(R(A))return new j(g,g);if(E(A))return I=z(T(A),I),new j(T(I.g),T(I.h));if(E(I))return I=z(A,T(I)),new j(T(I.g),I.h);if(A.g.length>30){if(E(A)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var k=w,U=I;U.l(A)<=0;)k=M(k),U=M(U);var B=V(k,1),$=V(U,1);for(U=V(U,2),k=V(k,2);!R(U);){var F=$.add(U);F.l(A)<=0&&(B=B.add(k),$=F),U=V(U,1),k=V(k,1)}return I=N(A,B.j(I)),new j(B,I)}for(B=g;A.l(I)>=0;){for(k=Math.max(1,Math.floor(A.m()/I.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),$=h(k),F=$.j(I);E(F)||F.l(A)>0;)k-=U,$=h(k),F=$.j(I);R($)&&($=w),B=B.add($),A=N(A,F)}return new j(B,A)}t.B=function(A){return z(this,A).h},t.and=function(A){const I=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)&A.i(U);return new l(k,this.h&A.h)},t.or=function(A){const I=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)|A.i(U);return new l(k,this.h|A.h)},t.xor=function(A){const I=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<I;U++)k[U]=this.i(U)^A.i(U);return new l(k,this.h^A.h)};function M(A){const I=A.g.length+1,k=[];for(let U=0;U<I;U++)k[U]=A.i(U)<<1|A.i(U-1)>>>31;return new l(k,A.h)}function V(A,I){const k=I>>5;I%=32;const U=A.g.length-k,B=[];for(let $=0;$<U;$++)B[$]=I>0?A.i($+k)>>>I|A.i($+k+1)<<32-I:A.i($+k);return new l(B,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Eo=l}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nP,Du,rP,Hf,n0,sP,iP,oP;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var b=0;b<f.length;++b){var C=f[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var C=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var Z=f[L];if(!(Z in C))break e;C=C[Z]}f=f[f.length-1],L=C[f],b=b(L),b!=L&&b!=null&&e(C,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var C=[],L;for(L in b)Object.prototype.hasOwnProperty.call(b,L)&&C.push([L,b[L]]);return C}});var o=o||{},l=this||self;function c(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,C){return f.call.apply(f.bind,arguments)}function h(f,b,C){return h=d,h.apply(null,arguments)}function m(f,b){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function g(f,b){function C(){}C.prototype=b.prototype,f.Z=b.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(L,Z,J){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return b.prototype[Z].apply(L,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const b=f.length;if(b>0){const C=Array(b);for(let L=0;L<b;L++)C[L]=f[L];return C}return[]}function R(f,b){for(let L=1;L<arguments.length;L++){const Z=arguments[L];var C=typeof Z;if(C=C!="object"?C:Z?Array.isArray(Z)?"array":C:"null",C=="array"||C=="object"&&typeof Z.length=="number"){C=f.length||0;const J=Z.length||0;f.length=C+J;for(let ge=0;ge<J;ge++)f[C+ge]=Z[ge]}else f.push(Z)}}class E{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(f){l.setTimeout(()=>{throw f},0)}function N(){var f=A;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class O{constructor(){this.h=this.g=null}add(b,C){const L=j.get();L.set(b,C),this.h?this.h.next=L:this.g=L,this.h=L}}var j=new E(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let M,V=!1,A=new O,I=()=>{const f=Promise.resolve(void 0);M=()=>{f.then(k)}};function k(){for(var f;f=N();){try{f.h.call(f.g)}catch(C){T(C)}var b=j;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}V=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};l.addEventListener("test",C,b),l.removeEventListener("test",C,b)}catch{}return f})();function F(f){return/^[\s\xa0]*$/.test(f)}function te(f,b){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(te,B),te.prototype.init=function(f,b){const C=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(C=="mouseover"?b=f.fromElement:C=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),ke=0;function pe(f,b,C,L,Z){this.listener=f,this.proxy=null,this.src=b,this.type=C,this.capture=!!L,this.ha=Z,this.key=++ke,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function re(f,b,C){for(const L in f)b.call(C,f[L],L,f)}function W(f,b){for(const C in f)b.call(void 0,f[C],C,f)}function D(f){const b={};for(const C in f)b[C]=f[C];return b}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(f,b){let C,L;for(let Z=1;Z<arguments.length;Z++){L=arguments[Z];for(C in L)f[C]=L[C];for(let J=0;J<K.length;J++)C=K[J],Object.prototype.hasOwnProperty.call(L,C)&&(f[C]=L[C])}}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,b,C,L,Z){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const ge=fe(f,b,L,Z);return ge>-1?(b=f[ge],C||(b.fa=!1)):(b=new pe(b,this.src,J,!!L,Z),b.fa=C,f.push(b)),b};function me(f,b){const C=b.type;if(C in f.g){var L=f.g[C],Z=Array.prototype.indexOf.call(L,b,void 0),J;(J=Z>=0)&&Array.prototype.splice.call(L,Z,1),J&&(ee(b),f.g[C].length==0&&(delete f.g[C],f.h--))}}function fe(f,b,C,L){for(let Z=0;Z<f.length;++Z){const J=f[Z];if(!J.da&&J.listener==b&&J.capture==!!C&&J.ha==L)return Z}return-1}var de="closure_lm_"+(Math.random()*1e6|0),ye={};function Ee(f,b,C,L,Z){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Ee(f,b[J],C,L,Z);return null}return C=dn(C),f&&f[Ie]?f.J(b,C,c(L)?!!L.capture:!1,Z):_e(f,b,C,!1,L,Z)}function _e(f,b,C,L,Z,J){if(!b)throw Error("Invalid event type");const ge=c(Z)?!!Z.capture:!!Z;let We=bt(f);if(We||(f[de]=We=new ce(f)),C=We.add(b,C,L,ge,J),C.proxy)return C;if(L=Ye(),C.proxy=L,L.src=f,L.listener=C,f.addEventListener)$||(Z=ge),Z===void 0&&(Z=!1),f.addEventListener(b.toString(),L,Z);else if(f.attachEvent)f.attachEvent(je(b.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ye(){function f(C){return b.call(f.src,f.listener,C)}const b=vt;return f}function Ke(f,b,C,L,Z){if(Array.isArray(b))for(var J=0;J<b.length;J++)Ke(f,b[J],C,L,Z);else L=c(L)?!!L.capture:!!L,C=dn(C),f&&f[Ie]?(f=f.i,J=String(b).toString(),J in f.g&&(b=f.g[J],C=fe(b,C,L,Z),C>-1&&(ee(b[C]),Array.prototype.splice.call(b,C,1),b.length==0&&(delete f.g[J],f.h--)))):f&&(f=bt(f))&&(b=f.g[b.toString()],f=-1,b&&(f=fe(b,C,L,Z)),(C=f>-1?b[f]:null)&&et(C))}function et(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ie])me(b.i,f);else{var C=f.type,L=f.proxy;b.removeEventListener?b.removeEventListener(C,L,f.capture):b.detachEvent?b.detachEvent(je(C),L):b.addListener&&b.removeListener&&b.removeListener(L),(C=bt(b))?(me(C,f),C.h==0&&(C.src=null,b[de]=null)):ee(f)}}}function je(f){return f in ye?ye[f]:ye[f]="on"+f}function vt(f,b){if(f.da)f=!0;else{b=new te(b,this);const C=f.listener,L=f.ha||f.src;f.fa&&et(f),f=C.call(L,b)}return f}function bt(f){return f=f[de],f instanceof ce?f:null}var Vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function dn(f){return typeof f=="function"?f:(f[Vt]||(f[Vt]=function(b){return f.handleEvent(b)}),f[Vt])}function ct(){U.call(this),this.i=new ce(this),this.M=this,this.G=null}g(ct,U),ct.prototype[Ie]=!0,ct.prototype.removeEventListener=function(f,b,C,L){Ke(this,f,b,C,L)};function Qe(f,b){var C,L=f.G;if(L)for(C=[];L;L=L.G)C.push(L);if(f=f.M,L=b.type||b,typeof b=="string")b=new B(b,f);else if(b instanceof B)b.target=b.target||f;else{var Z=b;b=new B(L,f),ie(b,Z)}Z=!0;let J,ge;if(C)for(ge=C.length-1;ge>=0;ge--)J=b.g=C[ge],Z=hn(J,L,!0,b)&&Z;if(J=b.g=f,Z=hn(J,L,!0,b)&&Z,Z=hn(J,L,!1,b)&&Z,C)for(ge=0;ge<C.length;ge++)J=b.g=C[ge],Z=hn(J,L,!1,b)&&Z}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const C=f.g[b];for(let L=0;L<C.length;L++)ee(C[L]);delete f.g[b],f.h--}}this.G=null},ct.prototype.J=function(f,b,C,L){return this.i.add(String(f),b,!1,C,L)},ct.prototype.K=function(f,b,C,L){return this.i.add(String(f),b,!0,C,L)};function hn(f,b,C,L){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Z=!0;for(let J=0;J<b.length;++J){const ge=b[J];if(ge&&!ge.da&&ge.capture==C){const We=ge.listener,Gt=ge.ha||ge.src;ge.fa&&me(f.i,ge),Z=We.call(Gt,L)!==!1&&Z}}return Z&&!L.defaultPrevented}function Ir(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(f,b||0)}function gs(f){f.g=Ir(()=>{f.g=null,f.i&&(f.i=!1,gs(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class ys extends U{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(f){U.call(this),this.h=f,this.g={}}g(Ar,U);var vs=[];function Kn(f){re(f.g,function(b,C){this.g.hasOwnProperty(C)&&et(b)},f),f.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),Kn(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=l.JSON.stringify,dr=l.JSON.parse,hr=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Wt(){}function Xs(){}var Rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){B.call(this,"d")}g(Oi,B);function Js(){B.call(this,"c")}g(Js,B);var tr={},ji=null;function qr(){return ji=ji||new ct}tr.Ia="serverreachability";function Vi(f){B.call(this,tr.Ia,f)}g(Vi,B);function Wr(f){const b=qr();Qe(b,new Vi(b))}tr.STAT_EVENT="statevent";function Hr(f,b){B.call(this,tr.STAT_EVENT,f),this.stat=b}g(Hr,B);function Je(f){const b=qr();Qe(b,new Hr(b,f))}tr.Ja="timingevent";function rn(f,b){B.call(this,tr.Ja,f),this.size=b}g(rn,B);function Lt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},b)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function Tn(f,b,C,L,Z,J){f.info(function(){if(f.g)if(J){var ge="",We=J.split("&");for(let pt=0;pt<We.length;pt++){var Gt=We[pt].split("=");if(Gt.length>1){const Yt=Gt[0];Gt=Gt[1];const vr=Yt.split("_");ge=vr.length>=2&&vr[1]=="type"?ge+(Yt+"="+Gt+"&"):ge+(Yt+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+L+") [attempt "+Z+"]: "+b+`
`+C+`
`+ge})}function fn(f,b,C,L,Z,J,ge){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Z+"]: "+b+`
`+C+`
`+J+" "+ge})}function Ht(f,b,C,L){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Tt(f,C)+(L?" "+L:"")})}function Gr(f,b){f.info(function(){return"TIMEOUT: "+b})}bn.prototype.info=function(){};function Tt(f,b){if(!f.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var C=J[f];if(!(C.length<2)){var L=C[1];if(Array.isArray(L)&&!(L.length<1)){var Z=L[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ge=1;ge<L.length;ge++)L[ge]=""}}}}return _n(J)}catch{return b}}var En={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nr;function Qn(){}g(Qn,Wt),Qn.prototype.g=function(){return new XMLHttpRequest},nr=new Qn;function Dn(f){return encodeURIComponent(String(f))}function Zn(f){var b=1;f=f.split(":");const C=[];for(;b>0&&f.length;)C.push(f.shift()),b--;return f.length&&C.push(f.join(":")),C}function pn(f,b,C,L){this.j=f,this.i=b,this.l=C,this.S=L||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var Jd={},Lc={};function Kr(f,b,C){f.M=1,f.A=ti(kr(b)),f.u=C,f.R=!0,Fc(f,null)}function Fc(f,b){f.F=Date.now(),Ko(f),f.B=kr(f.A);var C=f.B,L=f.S;Array.isArray(L)||(L=[String(L)]),Qc(C.i,"t",L),f.C=0,C=f.j.L,f.h=new Li,f.g=ch(f.j,C?b:null,!f.u),f.P>0&&(f.O=new ys(h(f.Y,f,f.g),f.P)),b=f.V,C=f.g,L=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(vs[0]=Z.toString()),Z=vs);for(let J=0;J<Z.length;J++){const ge=Ee(C,Z[J],L||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.J?D(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Wr(),Tn(f.i,f.v,f.B,f.l,f.S,f.u)}pn.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ss(f)==3?b.j():this.Y(f)},pn.prototype.Y=function(f){try{if(f==this.g)e:{const We=Ss(this.g),Gt=this.g.ya(),pt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||ah(this.g)))){this.K||We!=4||Gt==7||(Gt==8||pt<=0?Wr(3):Wr(2)),Wa(this);var b=this.g.ca();this.X=b;var C=eh(this);if(this.o=b==200,fn(this.i,this.v,this.B,this.l,this.S,We,b),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Z=this.g;if((L=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(L)){var J=L;break t}}J=null}if(f=J)Ht(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Et(this,f);else{this.o=!1,this.m=3,Je(12),ei(this),Qo(this);break e}}if(this.R){f=!0;let Yt;for(;!this.K&&this.C<C.length;)if(Yt=nh(this,C),Yt==Lc){We==4&&(this.m=4,Je(14),f=!1),Ht(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Jd){this.m=4,Je(15),Ht(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else Ht(this.i,this.l,Yt,null),Et(this,Yt);if(th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||C.length!=0||this.h.h||(this.m=1,Je(16),f=!1),this.o=this.o&&f,!f)Ht(this.i,this.l,C,"[Invalid Chunked Response]"),ei(this),Qo(this);else if(C.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),sa(ge),ge.P=!0,Je(11))}}else Ht(this.i,this.l,C,null),Et(this,C);We==4&&ei(this),this.o&&!this.K&&(We==4?tl(this.j,this):(this.o=!1,Ko(this)))}else Yc(this.g),b==400&&C.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),ei(this),Qo(this)}}}catch{}};function eh(f){if(!th(f))return f.g.la();const b=ah(f.g);if(b==="")return"";let C="";const L=b.length,Z=Ss(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ei(f),Qo(f),"";f.h.i=new l.TextDecoder}for(let J=0;J<L;J++)f.h.h=!0,C+=f.h.i.decode(b[J],{stream:!(Z&&J==L-1)});return b.length=0,f.h.g+=C,f.C=0,f.h.g}function th(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nh(f,b){var C=f.C,L=b.indexOf(`
`,C);return L==-1?Lc:(C=Number(b.substring(C,L)),isNaN(C)?Jd:(L+=1,L+C>b.length?Lc:(b=b.slice(L,L+C),f.C=L+C,b)))}pn.prototype.cancel=function(){this.K=!0,ei(this)};function Ko(f){f.T=Date.now()+f.H,Uc(f,f.H)}function Uc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Lt(h(f.aa,f),b)}function Wa(f){f.D&&(l.clearTimeout(f.D),f.D=null)}pn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(Wr(),Je(17)),ei(this),this.m=2,Qo(this)):Uc(this,this.T-f)};function Qo(f){f.j.I==0||f.K||tl(f.j,f)}function ei(f){Wa(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Kn(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Et(f,b){try{var C=f.j;if(C.I!=0&&(C.g==f||zc(C.h,f))){if(!f.L&&zc(C.h,f)&&C.I==3){try{var L=C.Ba.g.parse(b)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Z=L;if(Z[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)el(C),gr(C);else break e;As(C),Je(18)}}else C.xa=Z[1],0<C.xa-C.K&&Z[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Lt(h(C.Va,C),6e3));Zo(C.h)<=1&&C.ta&&(C.ta=void 0)}else yr(C,11)}else if((f.L||C.g==f)&&el(C),!F(b))for(Z=C.Ba.g.parse(b),b=0;b<Z.length;b++){let pt=Z[b];const Yt=pt[0];if(!(Yt<=C.K))if(C.K=Yt,pt=pt[1],C.I==2)if(pt[0]=="c"){C.M=pt[1],C.ba=pt[2];const vr=pt[3];vr!=null&&(C.ka=vr,C.j.info("VER="+C.ka));const oi=pt[4];oi!=null&&(C.za=oi,C.j.info("SVER="+C.za));const Rs=pt[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(L=1.5*Rs,C.O=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const ks=f.g;if(ks){const sl=ks.g?ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var J=L.h;J.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ga(J,J.h),J.h=null))}if(L.G){const eu=ks.g?ks.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(L.wa=eu,dt(L.J,L.G,eu))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),L=C;var ge=f;if(L.na=Jc(L,L.L?L.ba:null,L.W),ge.L){Yo(L.h,ge);var We=ge,Gt=L.O;Gt&&(We.H=Gt),We.D&&(Wa(We),Ko(We)),L.g=ge}else Mn(L);C.i.length>0&&ii(C)}else pt[0]!="stop"&&pt[0]!="close"||yr(C,7);else C.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?yr(C,7):Xa(C):pt[0]!="noop"&&C.l&&C.l.qa(pt),C.A=0)}}Wr(4)}catch{}}var Dm=class{constructor(f,b){this.g=f,this.map=b}};function Ha(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zo(f){return f.h?1:f.g?f.g.size:0}function zc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Ga(f,b){f.g?f.g.add(b):f.h=b}function Yo(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Ha.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const C of f.g.values())b=b.concat(C.G);return b}return S(f.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(f,b){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const L=f[C].indexOf("=");let Z,J=null;L>=0?(Z=f[C].substring(0,L),J=f[C].substring(L+1)):Z=f[C],b(Z,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function xs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof xs?(this.l=f.l,Xo(this,f.j),this.o=f.o,this.g=f.g,ws(this,f.u),this.h=f.h,Fi(this,Zc(f.i)),this.m=f.m):f&&(b=String(f).match(rh))?(this.l=!1,Xo(this,b[1]||"",!0),this.o=Jo(b[2]||""),this.g=Jo(b[3]||"",!0),ws(this,b[4]),this.h=Jo(b[5]||"",!0),Fi(this,b[6]||"",!0),this.m=Jo(b[7]||"")):(this.l=!1,this.i=new it(null,this.l))}xs.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ea(b,qc,!0),":");var C=this.g;return(C||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ea(b,qc,!0),"@"),f.push(Dn(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(ea(C,C.charAt(0)=="/"?ta:Wc,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",ea(C,Hc)),f.join("")},xs.prototype.resolve=function(f){const b=kr(this);let C=!!f.j;C?Xo(b,f.j):C=!!f.o,C?b.o=f.o:C=!!f.g,C?b.g=f.g:C=f.u!=null;var L=f.h;if(C)ws(b,f.u);else if(C=!!f.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Z=b.h.lastIndexOf("/");Z!=-1&&(L=b.h.slice(0,Z+1)+L)}if(Z=L,Z==".."||Z==".")L="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){L=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const J=[];for(let ge=0;ge<Z.length;){const We=Z[ge++];We=="."?L&&ge==Z.length&&J.push(""):We==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),L&&ge==Z.length&&J.push("")):(J.push(We),L=!0)}L=J.join("/")}else L=Z}return C?b.h=L:C=f.i.toString()!=="",C?Fi(b,Zc(f.i)):C=!!f.m,C&&(b.m=f.m),b};function kr(f){return new xs(f)}function Xo(f,b,C){f.j=C?Jo(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ws(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Fi(f,b,C){b instanceof it?(f.i=b,Qa(f.i,f.l)):(C||(b=ea(b,Mm)),f.i=new it(b,f.l))}function dt(f,b,C){f.i.set(b,C)}function ti(f){return dt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Jo(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ea(f,b,C){return typeof f=="string"?(f=encodeURI(f).replace(b,$c),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $c(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var qc=/[#\/\?@]/g,Wc=/[#\?:]/g,ta=/[#\?]/g,Mm=/[#\?@]/g,Hc=/#/g;function it(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function _s(f){f.g||(f.g=new Map,f.h=0,f.i&&pr(f.i,function(b,C){f.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}t=it.prototype,t.add=function(f,b){_s(this),this.i=null,f=bs(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(b),this.h+=1,this};function Gc(f,b){_s(f),b=bs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ka(f,b){return _s(f),b=bs(f,b),f.g.has(b)}t.forEach=function(f,b){_s(this),this.g.forEach(function(C,L){C.forEach(function(Z){f.call(b,Z,L,this)},this)},this)};function Kc(f,b){_s(f);let C=[];if(typeof b=="string")Ka(f,b)&&(C=C.concat(f.g.get(bs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)C=C.concat(f[b]);return C}t.set=function(f,b){return _s(this),this.i=null,f=bs(this,f),Ka(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Kc(this,f),f.length>0?String(f[0]):b):b};function Qc(f,b,C){Gc(f,b),C.length>0&&(f.i=null,f.g.set(bs(f,b),S(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let L=0;L<b.length;L++){var C=b[L];const Z=Dn(C);C=Kc(this,C);for(let J=0;J<C.length;J++){let ge=Z;C[J]!==""&&(ge+="="+Dn(C[J])),f.push(ge)}}return this.i=f.join("&")};function Zc(f){const b=new it;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function bs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Qa(f,b){b&&!f.j&&(_s(f),f.i=null,f.g.forEach(function(C,L){const Z=L.toLowerCase();L!=Z&&(Gc(this,L),Qc(this,Z,C))},f)),f.j=b}function Ts(f,b){const C=new bn;if(l.Image){const L=new Image;L.onload=m(Sn,C,"TestLoadImage: loaded",!0,b,L),L.onerror=m(Sn,C,"TestLoadImage: error",!1,b,L),L.onabort=m(Sn,C,"TestLoadImage: abort",!1,b,L),L.ontimeout=m(Sn,C,"TestLoadImage: timeout",!1,b,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else b(!1)}function Es(f,b){const C=new bn,L=new AbortController,Z=setTimeout(()=>{L.abort(),Sn(C,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:L.signal}).then(J=>{clearTimeout(Z),J.ok?Sn(C,"TestPingServer: ok",!0,b):Sn(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Z),Sn(C,"TestPingServer: error",!1,b)})}function Sn(f,b,C,L,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),L(C)}catch{}}function na(){this.g=new hr}function ni(f){this.i=f.Sb||null,this.h=f.ab||!1}g(ni,Wt),ni.prototype.g=function(){return new mr(this.i,this.h)};function mr(f,b){ct.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(mr,ct),t=mr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sh(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function sh(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ui(this):Qr(this),this.readyState==3&&sh(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Ui(this))},t.Na=function(f){this.g&&(this.response=f,Ui(this))},t.ga=function(){this.g&&Ui(this)};function Ui(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=b.next();return f.join(`\r
`)};function Qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ih(f){let b="";return re(f,function(C,L){b+=L,b+=":",b+=C,b+=`\r
`}),b}function Za(f,b,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=ih(C),typeof f=="string"?C!=null&&Dn(C):dt(f,b,C))}function gt(f){ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(gt,ct);var oh=/^https?$/i,Om=["POST","PUT"];t=gt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nr.g(),this.g.onreadystatechange=w(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){Bi(this,J);return}if(f=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Z in L)C.set(Z,L[Z]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())C.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),Z=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(Om,b,void 0)>=0)||L||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of C)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Bi(this,J)}};function Bi(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,zi(f),si(f)}function zi(f){f.A||(f.A=!0,Qe(f,"complete"),Qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Qe(this,"complete"),Qe(this,"abort"),si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ri(this):this.Xa())},t.Xa=function(){ri(this)};function ri(f){if(f.h&&typeof o<"u"){if(f.v&&Ss(f)==4)setTimeout(f.Ca.bind(f),0);else if(Qe(f,"readystatechange"),Ss(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var L;if(L=J===0){let ge=String(f.D).match(rh)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),L=!oh.test(ge?ge.toLowerCase():"")}C=L}if(C)Qe(f,"complete"),Qe(f,"success");else{f.o=6;try{var Z=Ss(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",zi(f)}}finally{si(f)}}}}function si(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,b||Qe(f,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),dr(b)}};function ah(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(f){const b={};f=(f.g&&Ss(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(F(f[L]))continue;var C=Zn(f[L]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=b[Z]||[];b[Z]=J,J.push(C)}W(b,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(f,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||b}function Ya(f){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,f),this.Za=Cs("retryDelaySeedMs",1e4,f),this.Ta=Cs("forwardChannelMaxRetries",2,f),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ha(f&&f.concurrentRequestLimit),this.Ba=new na,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ya.prototype,t.ka=8,t.I=1,t.connect=function(f,b,C,L){Je(0),this.W=f,this.H=b||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.J=Jc(this,null,this.W),ii(this)};function Xa(f){if(Ja(f),f.I==3){var b=f.V++,C=kr(f.J);if(dt(C,"SID",f.M),dt(C,"RID",b),dt(C,"TYPE","terminate"),Is(f,C),b=new pn(f,f.j,b),b.M=2,b.A=ti(kr(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=b.A,C=!0),C||(b.g=ch(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ko(b)}ia(f)}function gr(f){f.g&&(sa(f),f.g.cancel(),f.g=null)}function Ja(f){gr(f),f.v&&(l.clearTimeout(f.v),f.v=null),el(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function ii(f){if(!Bc(f.h)&&!f.m){f.m=!0;var b=f.Ea;M||I(),V||(M(),V=!0),A.add(b,f),f.D=0}}function lh(f,b){return Zo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Lt(h(f.Ea,f,b),nl(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new pn(this,this.j,f);let J=this.o;if(this.U&&(J?(J=D(J),ie(J,this.U)):J=this.U),this.u!==null||this.R||(Z.J=J,J=null),this.S)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(b+=L,b>4096){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Xc(this,Z,b),C=kr(this.J),dt(C,"RID",f),dt(C,"CVER",22),this.G&&dt(C,"X-HTTP-Session-Id",this.G),Is(this,C),J&&(this.R?b="headers="+Dn(ih(J))+"&"+b:this.u&&Za(C,this.u,J)),Ga(this.h,Z),this.Ra&&dt(C,"TYPE","init"),this.S?(dt(C,"$req",b),dt(C,"SID","null"),Z.U=!0,Kr(Z,C,null)):Kr(Z,C,b),this.I=2}}else this.I==3&&(f?ra(this,f):this.i.length==0||Bc(this.h)||ra(this))};function ra(f,b){var C;b?C=b.l:C=f.V++;const L=kr(f.J);dt(L,"SID",f.M),dt(L,"RID",C),dt(L,"AID",f.K),Is(f,L),f.u&&f.o&&Za(L,f.u,f.o),C=new pn(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Xc(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ga(f.h,C),Kr(C,L,b)}function Is(f,b){f.H&&re(f.H,function(C,L){dt(b,L,C)}),f.l&&re({},function(C,L){dt(b,L,C)})}function Xc(f,b,C){C=Math.min(f.i.length,C);const L=f.l?h(f.l.Ka,f.l,f):null;e:{var Z=f.i;let We=-1;for(;;){const Gt=["count="+C];We==-1?C>0?(We=Z[0].g,Gt.push("ofs="+We)):We=0:Gt.push("ofs="+We);let pt=!0;for(let Yt=0;Yt<C;Yt++){var J=Z[Yt].g;const vr=Z[Yt].map;if(J-=We,J<0)We=Math.max(0,Z[Yt].g-100),pt=!1;else try{J="req"+J+"_"||"";try{var ge=vr instanceof Map?vr:Object.entries(vr);for(const[oi,Rs]of ge){let ks=Rs;c(Rs)&&(ks=_n(Rs)),Gt.push(J+oi+"="+encodeURIComponent(ks))}}catch(oi){throw Gt.push(J+"type="+encodeURIComponent("_badmap")),oi}}catch{L&&L(vr)}}if(pt){ge=Gt.join("&");break e}}ge=void 0}return f=f.i.splice(0,C),b.G=f,ge}function Mn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;M||I(),V||(M(),V=!0),A.add(b,f),f.A=0}}function As(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Lt(h(f.Da,f),nl(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,$i(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Lt(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),gr(this),$i(this))};function sa(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function $i(f){f.g=new pn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=kr(f.na);dt(b,"RID","rpc"),dt(b,"SID",f.M),dt(b,"AID",f.K),dt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&dt(b,"TO",f.ia),dt(b,"TYPE","xmlhttp"),Is(f,b),f.u&&f.o&&Za(b,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=ti(kr(b)),C.u=null,C.R=!0,Fc(C,f)}t.Va=function(){this.C!=null&&(this.C=null,gr(this),As(this),Je(19))};function el(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function tl(f,b){var C=null;if(f.g==b){el(f),sa(f),f.g=null;var L=2}else if(zc(f.h,b))C=b.G,Yo(f.h,b),L=1;else return;if(f.I!=0){if(b.o)if(L==1){C=b.u?b.u.length:0,b=Date.now()-b.F;var Z=f.D;L=qr(),Qe(L,new rn(L,C)),ii(f)}else Mn(f);else if(Z=b.m,Z==3||Z==0&&b.X>0||!(L==1&&lh(f,b)||L==2&&As(f)))switch(C&&C.length>0&&(b=f.h,b.i=b.i.concat(C)),Z){case 1:yr(f,5);break;case 4:yr(f,10);break;case 3:yr(f,6);break;default:yr(f,2)}}}function nl(f,b){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*b}function yr(f,b){if(f.j.info("Error code "+b),b==2){var C=h(f.bb,f),L=f.Ua;const Z=!L;L=new xs(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xo(L,"https"),ti(L),Z?Ts(L.toString(),C):Es(L.toString(),C)}else Je(2);f.I=0,f.l&&f.l.pa(b),ia(f),Ja(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function ia(f){if(f.I=0,f.ja=[],f.l){const b=fr(f.h);(b.length!=0||f.i.length!=0)&&(R(f.ja,b),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function Jc(f,b,C){var L=C instanceof xs?kr(C):new xs(C);if(L.g!="")b&&(L.g=b+"."+L.g),ws(L,L.u);else{var Z=l.location;L=Z.protocol,b=b?b+"."+Z.hostname:Z.hostname,Z=+Z.port;const J=new xs(null);L&&Xo(J,L),b&&(J.g=b),Z&&ws(J,Z),C&&(J.h=C),L=J}return C=f.G,b=f.wa,C&&b&&dt(L,C,b),dt(L,"VER",f.ka),Is(f,L),L}function ch(f,b,C){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new gt(new ni({ab:C})):new gt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rl(){}rl.prototype.g=function(f,b){return new Cn(f,b)};function Cn(f,b){ct.call(this),this.g=new Ya(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!F(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!F(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new qi(this)}g(Cn,ct),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Xa(this.g)},Cn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=_n(f),f=C);b.i.push(new Dm(b.Ya++,f)),b.I==3&&ii(b)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Xa(this.g),delete this.g,Cn.Z.N.call(this)};function dh(f){Oi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const C in b){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(dh,Oi);function hh(){Js.call(this),this.status=1}g(hh,Js);function qi(f){this.g=f}g(qi,uh),qi.prototype.ra=function(){Qe(this.g,"a")},qi.prototype.qa=function(f){Qe(this.g,new dh(f))},qi.prototype.pa=function(f){Qe(this.g,new hh)},qi.prototype.oa=function(){Qe(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,oP=function(){return new rl},iP=function(){return qr()},sP=tr,n0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},En.NO_ERROR=0,En.TIMEOUT=8,En.HTTP_ERROR=6,Hf=En,sn.COMPLETE="complete",rP=sn,Xs.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Du=Xs,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,nP=gt}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let Ic="12.8.0";function WB(t){Ic=t}const Oa=new Lx("@firebase/firestore");function Al(){return Oa.logLevel}function Te(t,...e){if(Oa.logLevel<=nt.DEBUG){const n=e.map(Kx);Oa.debug(`Firestore (${Ic}): ${t}`,...n)}}function Pi(t,...e){if(Oa.logLevel<=nt.ERROR){const n=e.map(Kx);Oa.error(`Firestore (${Ic}): ${t}`,...n)}}function cc(t,...e){if(Oa.logLevel<=nt.WARN){const n=e.map(Kx);Oa.warn(`Firestore (${Ic}): ${t}`,...n)}}function Kx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aP(t,r,n)}function aP(t,e,n){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function ft(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aP(e,s,r)}function He(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class So{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Bn.UNAUTHENTICATED)))}shutdown(){}}class GB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KB{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new So;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new So,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new So)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new lP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class QB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Qx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=XB(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function r0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return qy(s)===qy(o)?rt(s,o):qy(s)?1:-1}return rt(t.length,e.length)}const JB=55296,ez=57343;function qy(t){const e=t.charCodeAt(0);return e>=JB&&e<=ez}function uc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const NE="__name__";class Os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Os.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return rt(e.length,n.length)}static compareSegments(e,n){const r=Os.isNumericId(e),s=Os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Os.extractNumericId(e).compare(Os.extractNumericId(n)):r0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class wt extends Os{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const tz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Os{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return tz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Pn([NE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new we(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new we(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new we(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(wt.fromString(e))}static fromName(e){return new De(wt.fromString(e).popFirst(5))}static empty(){return new De(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new wt(e.slice()))}}function cP(t,e,n){if(!n)throw new we(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nz(t,e,n,r){if(e===!0&&r===!0)throw new we(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DE(t){if(!De.isDocumentKey(t))throw new we(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ME(t){if(De.isDocumentKey(t))throw new we(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function _p(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new we(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $d(t,e){if(!uP(t))throw new we(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new we(ne.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,jE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new we(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($d(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:tn("string",At._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new At(0,0))}static max(){return new $e(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ad=-1;function rz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Oo(s,De.empty(),e)}function sz(t){return new Oo(t.readTime,t.key,ad)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo($e.min(),De.empty(),ad)}static max(){return new Oo($e.max(),De.empty(),ad)}}function iz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class az{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ac(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==oz)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let s=0,o=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++o,l&&o===s&&n()}),(d=>r(d)))})),l=!0,o===s&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((s=>s?se.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++c,c===o&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new se(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function lz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rc(t){return t.name==="IndexedDbTransactionError"}class gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gm.ce=-1;const Zx=-1;function ym(t){return t==null}function bp(t){return t===0&&1/t==-1/0}function cz(t){return typeof t=="number"&&Number.isInteger(t)&&!bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const dP="";function uz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VE(e)),e=dz(t.get(n),e);return VE(e)}function dz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case dP:n+="";break;default:n+=o}}return n}function VE(t){return t+dP+""}function LE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class jt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new kn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new os([])}unionWith(e){let n=new un(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class fP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fP("Invalid base64 string: "+o):o}})(e);return new Nn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const hz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=hz.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}const pP="server_timestamp",mP="__type__",gP="__previous_value__",yP="__local_write_time__";function Yx(t){return(t?.mapValue?.fields||{})[mP]?.stringValue===pP}function vm(t){const e=t.mapValue.fields[gP];return Yx(e)?vm(e):e}function ld(t){const e=jo(t.mapValue.fields[yP].timestampValue);return new At(e.seconds,e.nanos)}class fz{constructor(e,n,r,s,o,l,c,d,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m,this.apiKey=g}}const Tp="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||Tp}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===Tp}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}function pz(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new we(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(t.options.projectId,e)}const vP="__type__",mz="__max__",bf={mapValue:{}},xP="__vector__",Ep="value";function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yx(t)?4:yz(t)?9007199254740991:gz(t)?10:11:Le(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=Lo(t);if(n!==Lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=jo(s.timestampValue),c=jo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Vo(s.bytesValue).isEqual(Vo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Zt(s.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(s.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Zt(s.integerValue)===Zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Zt(s.doubleValue),c=Zt(o.doubleValue);return l===c?bp(l)===bp(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(LE(l)!==LE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Gs(l[d],c[d])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function ud(t,e){return(t.values||[]).find((n=>Gs(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=Lo(t),r=Lo(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Zt(o.integerValue||o.doubleValue),d=Zt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return UE(t.timestampValue,e.timestampValue);case 4:return UE(ld(t),ld(e));case 5:return r0(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Vo(o),d=Vo(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=rt(c[h],d[h]);if(m!==0)return m}return rt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=rt(Zt(o.latitude),Zt(l.latitude));return c!==0?c:rt(Zt(o.longitude),Zt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BE(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},d=l.fields||{},h=c[Ep]?.arrayValue,m=d[Ep]?.arrayValue,g=rt(h?.values?.length||0,m?.values?.length||0);return g!==0?g:BE(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===bf.mapValue&&l===bf.mapValue)return 0;if(o===bf.mapValue)return 1;if(l===bf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const w=r0(d[g],m[g]);if(w!==0)return w;const S=dc(c[d[g]],h[m[g]]);if(S!==0)return S}return rt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function UE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=jo(t),r=jo(e),s=rt(n.seconds,r.seconds);return s!==0?s:rt(n.nanos,r.nanos)}function BE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=dc(n[s],r[s]);if(o)return o}return rt(n.length,r.length)}function hc(t){return s0(t)}function s0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=jo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Vo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=s0(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${s0(n.fields[l])}`;return s+"}"})(t.mapValue):Le(61005,{value:t})}function Gf(t){switch(Lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vm(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return Vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Gf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ba(r.fields,((o,l)=>{s+=o.length+Gf(l)})),s})(t.mapValue);default:throw Le(13486,{value:t})}}function zE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i0(t){return!!t&&"integerValue"in t}function Xx(t){return!!t&&"arrayValue"in t}function $E(t){return!!t&&"nullValue"in t}function qE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function gz(t){return(t?.mapValue?.fields||{})[vP]?.stringValue===xP}function qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return{...t}}function yz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mz}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=Pn.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=qu(l):s.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Br(qu(this.value))}}function wP(t){const e=[];return Ba(t.fields,((n,r)=>{const s=new Pn([n]);if(Kf(r)){const o=wP(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new os(e)}class zn{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new zn(e,0,$e.min(),$e.min(),$e.min(),Br.empty(),0)}static newFoundDocument(e,n,r,s){return new zn(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new zn(e,2,n,$e.min(),$e.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,$e.min(),$e.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sp{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=dc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function vz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _P{}class en extends _P{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wz(e,n,r):n==="array-contains"?new Tz(e,r):n==="in"?new Ez(e,r):n==="not-in"?new Sz(e,r):n==="array-contains-any"?new Cz(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _z(e,r):new bz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&Lo(this.value)===Lo(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends _P{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return bP(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bP(t){return t.op==="and"}function TP(t){return xz(t)&&bP(t)}function xz(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function o0(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(TP(t))return t.filters.map((e=>o0(e))).join(",");{const e=t.filters.map((n=>o0(n))).join(",");return`${t.op}(${e})`}}function EP(t,e){return t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&Gs(r.value,s.value)})(t,e):t instanceof hs?(function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,c)=>o&&EP(l,s.filters[c])),!0):!1})(t,e):void Le(19439)}function SP(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`})(t):t instanceof hs?(function(n){return n.op.toString()+" {"+n.getFilters().map(SP).join(" ,")+"}"})(t):"Filter"}class wz extends en{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class _z extends en{constructor(e,n){super(e,"in",n),this.keys=CP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bz extends en{constructor(e,n){super(e,"not-in",n),this.keys=CP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CP(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class Tz extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xx(n)&&ud(n.arrayValue,this.value)}}class Ez extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ud(this.value.arrayValue,n)}}class Sz extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ud(this.value.arrayValue,n)}}class Cz extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ud(this.value.arrayValue,r)))}}class Iz{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function GE(t,e=null,n=[],r=[],s=null,o=null,l=null){return new Iz(t,e,n,r,s,o,l)}function Jx(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>o0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hc(r))).join(",")),e.Te=n}return e.Te}function ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HE(t.startAt,e.startAt)&&HE(t.endAt,e.endAt)}function a0(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kc{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Az(t,e,n,r,s,o,l,c){return new kc(t,e,n,r,s,o,l,c)}function IP(t){return new kc(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rz(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function AP(t){return t.collectionGroup!==null}function Wu(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new un(Pn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dd(o,r))})),n.has(Pn.keyField().canonicalString())||e.Ie.push(new dd(Pn.keyField(),r))}return e.Ie}function zs(t){const e=He(t);return e.Ee||(e.Ee=kz(e,Wu(t))),e.Ee}function kz(t,e){if(t.limitType==="F")return GE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new dd(s.field,o)}));const n=t.endAt?new Sp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sp(t.startAt.position,t.startAt.inclusive):null;return GE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l0(t,e){const n=t.filters.concat([e]);return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pz(t,e){const n=t.explicitOrderBy.concat([e]);return new kc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Cp(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return ew(zs(t),zs(e))&&t.limitType===e.limitType}function RP(t){return`${Jx(zs(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>SP(s))).join(", ")}]`),ym(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>hc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>hc(s))).join(",")),`Target(${r})`})(zs(t))}; limitType=${t.limitType})`}function wm(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Wu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const h=WE(l,c,d);return l.inclusive?h<=0:h<0})(r.startAt,Wu(r),s)||r.endAt&&!(function(l,c,d){const h=WE(l,c,d);return l.inclusive?h>=0:h>0})(r.endAt,Wu(r),s))})(t,e)}function Nz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kP(t){return(e,n)=>{let r=!1;for(const s of Wu(t)){const o=Dz(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Dz(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?dc(d,h):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return hP(this.inner)}size(){return this.innerSize}}const Mz=new jt(De.comparator);function Ni(){return Mz}const PP=new jt(De.comparator);function Mu(...t){let e=PP;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=PP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Sa(){return Hu()}function DP(){return Hu()}function Hu(){return new za((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Oz=new jt(De.comparator),jz=new un(De.comparator);function st(...t){let e=jz;for(const n of t)e=e.add(n);return e}const Vz=new un(rt);function Lz(){return Vz}function tw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function MP(t){return{integerValue:""+t}}function Fz(t,e){return cz(e)?MP(e):tw(t,e)}class _m{constructor(){this._=void 0}}function Uz(t,e,n){return t instanceof hd?(function(s,o){const l={fields:{[mP]:{stringValue:pP},[yP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Yx(o)&&(o=vm(o)),o&&(l.fields[gP]=o),{mapValue:l}})(n,e):t instanceof fd?jP(t,e):t instanceof pd?VP(t,e):(function(s,o){const l=OP(s,o),c=QE(l)+QE(s.Ae);return i0(l)&&i0(s.Ae)?MP(c):tw(s.serializer,c)})(t,e)}function Bz(t,e,n){return t instanceof fd?jP(t,e):t instanceof pd?VP(t,e):n}function OP(t,e){return t instanceof Ip?(function(r){return i0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class hd extends _m{}class fd extends _m{constructor(e){super(),this.elements=e}}function jP(t,e){const n=LP(e);for(const r of t.elements)n.some((s=>Gs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class pd extends _m{constructor(e){super(),this.elements=e}}function VP(t,e){let n=LP(e);for(const r of t.elements)n=n.filter((s=>!Gs(s,r)));return{arrayValue:{values:n}}}class Ip extends _m{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QE(t){return Zt(t.integerValue||t.doubleValue)}function LP(t){return Xx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class zz{constructor(e,n){this.field=e,this.transform=n}}function $z(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof fd&&s instanceof fd||r instanceof pd&&s instanceof pd?uc(r.elements,s.elements,Gs):r instanceof Ip&&s instanceof Ip?Gs(r.Ae,s.Ae):r instanceof hd&&s instanceof hd})(t.transform,e.transform)}class qz{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bm{}function FP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BP(t.key,Ei.none()):new qd(t.key,t.data,Ei.none());{const n=t.data,r=Br.empty();let s=new un(Pn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new $a(t.key,r,new os(s.toArray()),Ei.none())}}function Wz(t,e,n){t instanceof qd?(function(s,o,l){const c=s.value.clone(),d=YE(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof $a?(function(s,o,l){if(!Qf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=YE(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(UP(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,r){return t instanceof qd?(function(o,l,c,d){if(!Qf(o.precondition,l))return c;const h=o.value.clone(),m=XE(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof $a?(function(o,l,c,d){if(!Qf(o.precondition,l))return c;const h=XE(o.fieldTransforms,d,l),m=l.data;return m.setAll(UP(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(o,l,c){return Qf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function Hz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=OP(r.transform,s||null);o!=null&&(n===null&&(n=Br.empty()),n.set(r.field,o))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uc(r,s,((o,l)=>$z(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qd extends bm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $a extends bm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function YE(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,Bz(l,c,n[s]))}return r}function XE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,Uz(o,l,e))}return r}class BP extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gz extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Wz(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DP();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=FP(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,((n,r)=>ZE(n,r)))&&uc(this.baseMutations,e.baseMutations,((n,r)=>ZE(n,r)))}}class nw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Oz})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new nw(e,n,r,s)}}class Qz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zz{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jt,ot;function Yz(t){switch(t){case ne.OK:return Le(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function zP(t){if(t===void 0)return Pi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Jt.OK:return ne.OK;case Jt.CANCELLED:return ne.CANCELLED;case Jt.UNKNOWN:return ne.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ne.INTERNAL;case Jt.UNAVAILABLE:return ne.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ne.NOT_FOUND;case Jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Jt.ABORTED:return ne.ABORTED;case Jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Jt.DATA_LOSS:return ne.DATA_LOSS;default:return Le(39323,{code:t})}}(ot=Jt||(Jt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function Xz(){return new TextEncoder}const Jz=new Eo([4294967295,4294967295],0);function JE(t){const e=Xz().encode(t),n=new tP;return n.update(e),new Uint8Array(n.digest())}function eS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([s,o],0)]}class rw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Eo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Eo.fromNumber(r)));return s.compare(Jz)===1&&(s=new Eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JE(e),[r,s]=eS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new rw(o,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=JE(e),[r,s]=eS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tm($e.min(),s,new jt(rt),Ni(),st())}}class Wd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,st(),st(),st())}}class Zf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $P{constructor(e,n){this.targetId=e,this.Ce=n}}class qP{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class tS{constructor(){this.ve=0,this.Fe=nS(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:o})}})),new Wd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=nS()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e${constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.He=Tf(),this.Je=Tf(),this.Ze=new jt(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(a0(o))if(r===0){const l=new De(o.path);this.et(n,l,zn.newNoDocument(l,$e.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Vo(r).toUint8Array()}catch(d){if(d instanceof fP)return cc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new rw(l,s,o)}catch(d){return cc(d instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&a0(c.target)){const d=new De(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,zn.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}}));let r=st();this.Je.forEach(((o,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Tm(e,n,this.Ze,this.je,r);return this.je=Ni(),this.He=Tf(),this.Je=Tf(),this.Ze=new jt(rt),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tS,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new jt(De.comparator)}function nS(){return new jt(De.comparator)}const t$={asc:"ASCENDING",desc:"DESCENDING"},n$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r$={and:"AND",or:"OR"};class s${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c0(t,e){return t.useProto3Json||ym(e)?e:{value:e}}function Ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i$(t,e){return Ap(t,e.toTimestamp())}function $s(t){return ft(!!t,49232),$e.fromTimestamp((function(n){const r=jo(n);return new At(r.seconds,r.nanos)})(t))}function sw(t,e){return u0(t,e).canonicalString()}function u0(t,e){const n=(function(s){return new wt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HP(t){const e=wt.fromString(t);return ft(YP(e),10190,{key:e.toString()}),e}function d0(t,e){return sw(t.databaseId,e.path)}function Wy(t,e){const n=HP(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(KP(n))}function GP(t,e){return sw(t.databaseId,e)}function o$(t){const e=HP(t);return e.length===4?wt.emptyPath():KP(e)}function h0(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KP(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rS(t,e,n){return{name:d0(t,e),fields:n.value.mapValue.fields}}function a$(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Le(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(ft(m===void 0||typeof m=="string",58123),Nn.fromBase64String(m||"")):(ft(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Nn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?ne.UNKNOWN:zP(h.code);return new we(m,h.message||"")})(l);n=new qP(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wy(t,r.document.name),o=$s(r.document.updateTime),l=r.document.createTime?$s(r.document.createTime):$e.min(),c=new Br({mapValue:{fields:r.document.fields}}),d=zn.newFoundDocument(s,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Zf(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wy(t,r.document),o=r.readTime?$s(r.readTime):$e.min(),l=zn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Zf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wy(t,r.document),o=r.removedTargetIds||[];n=new Zf([],o,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new Zz(s,o),c=r.targetId;n=new $P(c,l)}}return n}function l$(t,e){let n;if(e instanceof qd)n={update:rS(t,e.key,e.value)};else if(e instanceof BP)n={delete:d0(t,e.key)};else if(e instanceof $a)n={update:rS(t,e.key,e.data),updateMask:y$(e.fieldMask)};else{if(!(e instanceof Gz))return Le(16599,{dt:e.type});n={verify:d0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof hd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ip)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:i$(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function c$(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?$s(s.updateTime):$s(o);return l.isEqual($e.min())&&(l=$s(o)),new qz(l,s.transformResults||[])})(n,e)))):[]}function u$(t,e){return{documents:[GP(t,e.path)]}}function d$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GP(t,s);const o=(function(h){if(h.length!==0)return ZP(hs.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(w){return{field:kl(w.field),direction:p$(w.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=c0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function h$(t){let e=o$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ft(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(g){const w=QP(g);return w instanceof hs&&TP(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((w=>(function(R){return new dd(Pl(R.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let w;return w=typeof g=="object"?g.value:g,ym(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(g){const w=!!g.before,S=g.values||[];return new Sp(S,w)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const w=!g.before,S=g.values||[];return new Sp(S,w)})(n.endAt)),Az(e,s,l,o,c,"F",d,h)}function f$(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pl(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pl(n.unaryFilter.field);return en.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(Pl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hs.create(n.compositeFilter.filters.map((r=>QP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function p$(t){return t$[t]}function m$(t){return n$[t]}function g$(t){return r$[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Pl(t){return Pn.fromServerFormat(t.fieldPath)}function ZP(t){return t instanceof en?(function(n){if(n.op==="=="){if(qE(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if($E(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qE(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if($E(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:m$(n.op),value:n.value}}})(t):t instanceof hs?(function(n){const r=n.getFilters().map((s=>ZP(s)));return r.length===1?r[0]:{compositeFilter:{op:g$(n.op),filters:r}}})(t):Le(54877,{filter:t})}function y$(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function XP(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class yo{constructor(e,n,r,s,o=$e.min(),l=$e.min(),c=Nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v${constructor(e){this.yt=e}}function x$(t){const e=h$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cp(e,e.limit,"L"):e}class w${constructor(){this.Sn=new _$}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Oo.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class _${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new un(wt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(wt.comparator)).toArray()}}const sS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JP=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(JP,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class fc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fc(0)}static ar(){return new fc(-1)}}const iS="LruGarbageCollector",b$=1048576;function oS([t,e],[n,r]){const s=rt(t,n);return s===0?rt(e,r):s}class T${constructor(e){this.Pr=e,this.buffer=new un(oS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(iS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rc(n)?Te(iS,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Ar(3e5)}))}}class S${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(gm.ce);const r=new T$(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(sS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Al()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:g}))))}}function C$(t,e){return new S$(t,e)}class I${constructor(){this.changes=new za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class A${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class R${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Gu(r.mutation,s,os.empty(),At.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const s=Sa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Mu();return o.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let o=Ni();const l=Hu(),c=(function(){return Hu()})();return n.forEach(((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof $a)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Gu(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,os.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new A$(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Hu();let s=new jt(((l,c)=>l-c)),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||os.empty();m=c.applyToLocalView(h,m),r.set(d,m);const g=(s.get(c.batchId)||st()).add(d);s=s.insert(c.batchId,g)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=DP();m.forEach((w=>{if(!o.has(w)){const S=FP(n.get(w),r.get(w));S!==null&&g.set(w,S),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return se.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return Rz(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):se.resolve(Sa());let c=ad,d=o;return l.next((h=>se.forEach(h,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next((w=>{d=d.insert(m,w)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,d,h,st()))).next((m=>({batchId:c,changes:NP(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let s=Mu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(e,o).next((c=>se.forEach(c,(d=>{const h=(function(g,w){return new kc(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((m=>{m.forEach(((g,w)=>{l=l.insert(g,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,zn.newInvalidDocument(m)))}));let c=Mu();return l.forEach(((d,h)=>{const m=o.get(d);m!==void 0&&Gu(m.mutation,h,os.empty(),At.now()),wm(n,h)&&(c=c.insert(d,h))})),c}))}}class k${constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:$s(s.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:x$(s.bundledQuery),readTime:$s(s.readTime)}})(n)),se.resolve()}}class P${constructor(){this.overlays=new jt(De.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return se.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.bt(e,n,o)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=Sa(),o=n.length+1,l=new De(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new jt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Sa(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Sa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=s)););return se.resolve(c)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Qz(n,r));let o=this.Lr.get(n);o===void 0&&(o=st(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}class N${constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class iw{constructor(){this.kr=new un(vn.Kr),this.qr=new un(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new vn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new De(new wt([])),r=new vn(n,e),s=new vn(n,e+1),o=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new De(new wt([])),r=new vn(n,e),s=new vn(n,e+1);let o=st();return this.qr.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new vn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return De.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}class D${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(vn.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Kz(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Jr=this.Jr.add(new vn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Zx:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(l=>{const c=this.Zr(l.Hr);o.push(c)})),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(rt);return n.forEach((s=>{const o=new vn(s,0),l=new vn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(c=>{r=r.add(c.Hr)}))})),se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const l=new vn(new De(o),0);let c=new un(rt);return this.Jr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Hr)),!0)}),l),se.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return se.forEach(n.mutations,(s=>{const o=new vn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new vn(n,0),s=this.Jr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class M${constructor(e){this.ti=e,this.docs=(function(){return new jt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():zn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ni();const l=n.path,c=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||iz(sz(m),r)<=0||(s.has(m.key)||wm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}ni(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O$(this)}getSize(e){return se.resolve(this.size)}}class O$ extends I${constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class j${constructor(e){this.persistence=e,this.ri=new za((n=>Jx(n)),ew),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ii=0,this.si=new iw,this.targetCount=0,this.oi=fc._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),se.waitFor(o).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class e2{constructor(e,n){this._i={},this.overlays={},this.ai=new gm(0),this.ui=!1,this.ui=!0,this.ci=new N$,this.referenceDelegate=e(this),this.li=new j$(this),this.indexManager=new w$,this.remoteDocumentCache=(function(s){return new M$(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new v$(n),this.Pi=new k$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new D$(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new V$(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,n){return se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class V$ extends az{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Ri=new iw,this.Ai=null}static Vi(e){return new ow(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(r=>{const s=De.fromPath(r);return this.mi(e,s).next((o=>{o||n.removeEntry(s,$e.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rp{constructor(e,n){this.persistence=e,this.fi=new za((r=>uz(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=C$(this,n)}static Vi(e,n){return new Rp(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?se.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,o.removeEntry(l,$e.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}wr(e,n,r){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class aw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=st(),s=st();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new aw(e,n.fromCache,r,s)}}class L${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F${constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return S9()?8:lz(Wn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.gs(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new L$;return this.ys(e,n,l).next((c=>{if(o.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>o.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Al()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Al()<=nt.DEBUG&&Te("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Al()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):se.resolve())}gs(e,n){if(KE(n))return se.resolve(null);let r=zs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Cp(n,null,"F"),r=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=st(...o);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.bs(n,c);return this.Ss(n,h,l,d.readTime)?this.gs(e,Cp(n,null,"F")):this.Ds(e,h,n,d)}))))})))))}ps(e,n,r,s){return KE(n)||s.isEqual($e.min())?se.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(n,o);return this.Ss(n,l,r,s)?se.resolve(null):(Al()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rl(n)),this.Ds(e,l,n,rz(s,ad)).next((c=>c)))}))}bs(e,n){let r=new un(kP(e));return n.forEach(((s,o)=>{wm(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,n,r){return Al()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.fs.getDocumentsMatchingQuery(e,n,Oo.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const lw="LocalStore",U$=3e8;class B${constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new jt(rt),this.Fs=new za((o=>Jx(o)),ew),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R$(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function z$(t,e,n,r){return new B$(t,e,n,r)}async function t2(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let d=st();for(const h of s){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ns:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function $$(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const g=h.batch,w=g.keys();let S=se.resolve();return w.forEach((R=>{S=S.next((()=>m.getEntry(d,R))).next((E=>{const T=h.docVersions.get(R);ft(T!==null,48541),E.version.compareTo(T)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),m.addEntry(E)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=st();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function n2(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function q$(t,e){const n=He(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const c=[];e.targetChanges.forEach(((m,g)=>{const w=s.get(g);if(!w)return;c.push(n.li.removeMatchingKeys(o,m.removedDocuments,g).next((()=>n.li.addMatchingKeys(o,m.addedDocuments,g))));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(Nn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(g,S),(function(E,T,N){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=U$?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(w,S,m)&&c.push(n.li.updateTargetData(o,S))}));let d=Ni(),h=st();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(W$(o,l,e.documentUpdates).next((m=>{d=m.Bs,h=m.Ls}))),!r.isEqual($e.min())){const m=n.li.getLastRemoteSnapshotVersion(o).next((g=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return se.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,h))).next((()=>d))})).then((o=>(n.vs=s,o)))}function W$(t,e,n){let r=st(),s=st();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ni();return n.forEach(((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual($e.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Te(lw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{Bs:l,Ls:s}}))}function H$(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G$(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((o=>o?(s=o,se.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new yo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function f0(t,e,n){const r=He(t),s=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Rc(l))throw l;Te(lw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function aS(t,e,n){const r=He(t);let s=$e.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const g=He(d),w=g.Fs.get(m);return w!==void 0?se.resolve(g.vs.get(w)):g.li.getTargetData(h,m)})(r,l,zs(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:$e.min(),n?o:st()))).next((c=>(K$(r,Nz(e),c),{documents:c,ks:o})))))}function K$(t,e,n){let r=t.Ms.get(e)||$e.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class lS{constructor(){this.activeTargetIds=Lz()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q${constructor(){this.vo=new lS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z${Mo(e){}shutdown(){}}const cS="ConnectivityMonitor";class uS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(cS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(cS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ef=null;function p0(){return Ef===null?Ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ef++,"0x"+Ef.toString(16)}const Hy="RestConnection",Y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X${get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Tp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,o){const l=p0(),c=this.Qo(e,n.toUriEncodedString());Te(Hy,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,o);const{host:h}=new URL(c),m=Ec(h);return this.zo(e,c,d,r,m).then((g=>(Te(Hy,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw cc(Hy,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,n,r,s,o,l){return this.Wo(e,n,r,s,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,n){const r=Y$[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class J${constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Fn="WebChannelConnection",Ru=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Ql extends X${constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ql.c_){const e=iP();Ru(e,sP.STAT_EVENT,(n=>{n.stat===n0.PROXY?Te(Fn,"STAT_EVENT: detected buffering proxy"):n.stat===n0.NOPROXY&&Te(Fn,"STAT_EVENT: detected no buffering proxy")})),Ql.c_=!0}}zo(e,n,r,s,o){const l=p0();return new Promise(((c,d)=>{const h=new nP;h.setWithCredentials(!0),h.listenOnce(rP.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Hf.NO_ERROR:const g=h.getResponseJson();Te(Fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Hf.TIMEOUT:Te(Fn,`RPC '${e}' ${l} timed out`),d(new we(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const w=h.getStatus();if(Te(Fn,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const E=(function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(O)>=0?O:ne.UNKNOWN})(R.status);d(new we(E,R.message))}else d(new we(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new we(ne.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(Fn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);Te(Fn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=p0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");Te(Fn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=l.createWebChannel(h,c);this.I_(m);let g=!1,w=!1;const S=new J$({Ho:R=>{w?Te(Fn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(Te(Fn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Te(Fn,`RPC '${e}' stream ${s} sending:`,R),m.send(R))},Jo:()=>m.close()});return Ru(m,Du.EventType.OPEN,(()=>{w||(Te(Fn,`RPC '${e}' stream ${s} transport opened.`),S.i_())})),Ru(m,Du.EventType.CLOSE,(()=>{w||(w=!0,Te(Fn,`RPC '${e}' stream ${s} transport closed`),S.o_(),this.E_(m))})),Ru(m,Du.EventType.ERROR,(R=>{w||(w=!0,cc(Fn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),S.o_(new we(ne.UNAVAILABLE,"The operation could not be completed")))})),Ru(m,Du.EventType.MESSAGE,(R=>{if(!w){const E=R.data[0];ft(!!E,16349);const T=E,N=T?.error||T[0]?.error;if(N){Te(Fn,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let j=(function(V){const A=Jt[V];if(A!==void 0)return zP(A)})(O),z=N.message;j===void 0&&(j=ne.INTERNAL,z="Unknown error status: "+O+" with message "+N.message),w=!0,S.o_(new we(j,z)),m.close()}else Te(Fn,`RPC '${e}' stream ${s} received:`,E),S.__(E)}})),Ql.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oP()}}function e7(t){return new Ql(t)}function Gy(){return typeof document<"u"?document:null}function Em(t){return new s$(t,!0)}Ql.c_=!1;class r2{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dS="PersistentStream";class s2{constructor(e,n,r,s,o,l,c,d){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new we(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(dS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(dS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t7 extends s2{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a$(this.serializer,e),r=(function(o){if(!("targetChange"in o))return $e.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?$e.min():l.readTime?$s(l.readTime):$e.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=h0(this.serializer),n.addTarget=(function(o,l){let c;const d=l.target;if(c=a0(d)?{documents:u$(o,d)}:{query:d$(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=WP(o,l.resumeToken);const h=c0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo($e.min())>0){c.readTime=Ap(o,l.snapshotVersion.toTimestamp());const h=c0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=f$(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=h0(this.serializer),n.removeTarget=e,this.K_(n)}}class n7 extends s2{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c$(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=h0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>l$(this.serializer,r)))};this.K_(n)}}class r7{}class s7 extends r7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,u0(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ne.UNKNOWN,o.toString())}))}jo(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,u0(n,r),s,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function i7(t,e,n,r){return new s7(t,e,n,r)}class o7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ja="RemoteStore";class a7{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{qa(this)&&(Te(ja,"Restarting streams for network reachability change."),await(async function(d){const h=He(d);h.Ea.add(4),await Hd(h),h.Va.set("Unknown"),h.Ea.delete(4),await Sm(h)})(this))}))})),this.Va=new o7(r,s)}}async function Sm(t){if(qa(t))for(const e of t.Ra)await e(!0)}async function Hd(t){for(const e of t.Ra)await e(!1)}function i2(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hw(n)?dw(n):Pc(n).O_()&&uw(n,e))}function cw(t,e){const n=He(t),r=Pc(n);n.Ia.delete(e),r.O_()&&o2(n,e),n.Ia.size===0&&(r.O_()?r.L_():qa(n)&&n.Va.set("Unknown"))}function uw(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).Z_(e)}function o2(t,e){t.da.$e(e),Pc(t).X_(e)}function dw(t){t.da=new e$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.Va.ua()}function hw(t){return qa(t)&&!Pc(t).x_()&&t.Ia.size>0}function qa(t){return He(t).Ea.size===0}function a2(t){t.da=void 0}async function l7(t){t.Va.set("Online")}async function c7(t){t.Ia.forEach(((e,n)=>{uw(t,e)}))}async function u7(t,e){a2(t),hw(t)?(t.Va.ha(e),dw(t)):t.Va.set("Unknown")}async function d7(t,e,n){if(t.Va.set("Online"),e instanceof qP&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.da.removeTarget(c))})(t,e)}catch(r){Te(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kp(t,r)}else if(e instanceof Zf?t.da.Xe(e):e instanceof $P?t.da.st(e):t.da.tt(e),!n.isEqual($e.min()))try{const r=await n2(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.da.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),o2(o,d);const g=new yo(m.target,d,h,m.sequenceNumber);uw(o,g)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Te(ja,"Failed to raise snapshot:",r),await kp(t,r)}}async function kp(t,e,n){if(!Rc(e))throw e;t.Ea.add(1),await Hd(t),t.Va.set("Offline"),n||(n=()=>n2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sm(t)}))}function l2(t,e){return e().catch((n=>kp(t,n,e)))}async function Cm(t){const e=He(t),n=Fo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zx;for(;h7(e);)try{const s=await H$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,f7(e,s)}catch(s){await kp(e,s)}c2(e)&&u2(e)}function h7(t){return qa(t)&&t.Ta.length<10}function f7(t,e){t.Ta.push(e);const n=Fo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function c2(t){return qa(t)&&!Fo(t).x_()&&t.Ta.length>0}function u2(t){Fo(t).start()}async function p7(t){Fo(t).ra()}async function m7(t){const e=Fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function g7(t,e,n){const r=t.Ta.shift(),s=nw.from(r,e,n);await l2(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Cm(t)}async function y7(t,e){e&&Fo(t).Y_&&await(async function(r,s){if((function(l){return Yz(l)&&l!==ne.ABORTED})(s.code)){const o=r.Ta.shift();Fo(r).B_(),await l2(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Cm(r)}})(t,e),c2(t)&&u2(t)}async function hS(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Te(ja,"RemoteStore received new credentials");const r=qa(n);n.Ea.add(3),await Hd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sm(n)}async function v7(t,e){const n=He(t);e?(n.Ea.delete(2),await Sm(n)):e||(n.Ea.add(2),await Hd(n),n.Va.set("Unknown"))}function Pc(t){return t.ma||(t.ma=(function(n,r,s){const o=He(n);return o.sa(),new t7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:l7.bind(null,t),Yo:c7.bind(null,t),t_:u7.bind(null,t),J_:d7.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),hw(t)?dw(t):t.Va.set("Unknown")):(await t.ma.stop(),a2(t))}))),t.ma}function Fo(t){return t.fa||(t.fa=(function(n,r,s){const o=He(n);return o.sa(),new n7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:p7.bind(null,t),t_:y7.bind(null,t),ta:m7.bind(null,t),na:g7.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Cm(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class fw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new fw(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pw(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Rc(t))return new we(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Mu(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fS{constructor(){this.ga=new jt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class pc{constructor(e,n,r,s,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new pc(e,n,Zl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class x7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class w7{constructor(){this.queries=pS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=He(n),o=s.queries;s.queries=pS(),o.forEach(((l,c)=>{for(const d of c.ba)d.onError(r)}))})(this,new we(ne.ABORTED,"Firestore shutting down"))}}function pS(){return new za((t=>RP(t)),xm)}async function _7(t,e){const n=He(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new x7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=pw(l,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&mw(n)}async function b7(t,e){const n=He(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T7(t,e){const n=He(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.ba)c.Fa(s)&&(r=!0);l.wa=s}}r&&mw(n)}function E7(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(n);r.queries.delete(e)}function mw(t){t.Ca.forEach((e=>{e.next()}))}var m0,mS;(mS=m0||(m0={})).Ma="default",mS.Cache="cache";class S7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==m0.Cache}}class d2{constructor(e){this.key=e}}class h2{constructor(e){this.key=e}}class C7{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.eu=kP(e),this.tu=new Zl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new fS,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const w=s.get(m),S=wm(this.query,g)?g:null,R=!!w&&this.mutatedKeys.has(w.key),E=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let T=!1;w&&S?w.data.isEqual(S.data)?R!==E&&(r.track({type:3,doc:S}),T=!0):this.su(w,S)||(r.track({type:2,doc:S}),T=!0,(d&&this.eu(S,d)>0||h&&this.eu(S,h)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),T=!0):w&&!S&&(r.track({type:1,doc:w}),T=!0,(d||h)&&(c=!0)),T&&(S?(l=l.add(S),o=E?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Ss:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(S,R){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:T})}};return E(S)-E(R)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,h=d!==this.Xa;return this.Xa=d,l.length!==0||h?{snapshot:new pc(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new h2(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new d2(r))})),n}cu(e){this.Za=e.ks,this.Ya=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gw="SyncEngine";class I7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A7{constructor(e){this.key=e,this.hu=!1}}class R7{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new za((c=>RP(c)),xm),this.Iu=new Map,this.Eu=new Set,this.Ru=new jt(De.comparator),this.Au=new Map,this.Vu=new iw,this.du={},this.mu=new Map,this.fu=fc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k7(t,e,n=!0){const r=v2(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await f2(r,e,n,!0),s}async function P7(t,e){const n=v2(t);await f2(n,e,!0,!1)}async function f2(t,e,n,r){const s=await G$(t.localStore,zs(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await N7(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&i2(t.remoteStore,s),c}async function N7(t,e,n,r,s){t.pu=(g,w,S)=>(async function(E,T,N,O){let j=T.view.ru(N);j.Ss&&(j=await aS(E.localStore,T.query,!1).then((({documents:A})=>T.view.ru(A,j))));const z=O&&O.targetChanges.get(T.targetId),M=O&&O.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(j,E.isPrimaryClient,z,M);return yS(E,T.targetId,V.au),V.snapshot})(t,g,w,S);const o=await aS(t.localStore,e,!0),l=new C7(e,o.ks),c=l.ru(o.documents),d=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);yS(t,n,h.au);const m=new I7(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function D7(t,e,n){const r=He(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!xm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await f0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&cw(r.remoteStore,s.targetId),g0(r,s.targetId)})).catch(Ac)):(g0(r,s.targetId),await f0(r.localStore,s.targetId,!0))}async function M7(t,e){const n=He(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cw(n.remoteStore,r.targetId))}async function O7(t,e,n){const r=z7(t);try{const s=await(function(l,c){const d=He(l),h=At.now(),m=c.reduce(((S,R)=>S.add(R.key)),st());let g,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=Ni(),E=st();return d.xs.getEntries(S,m).next((T=>{R=T,R.forEach(((N,O)=>{O.isValidDocument()||(E=E.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((T=>{g=T;const N=[];for(const O of c){const j=Hz(O,g.get(O.key).overlayedDocument);j!=null&&N.push(new $a(O.key,j,wP(j.value.mapValue),Ei.exists(!0)))}return d.mutationQueue.addMutationBatch(S,h,N,c)})).next((T=>{w=T;const N=T.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(S,T.batchId,N)}))})).then((()=>({batchId:w.batchId,changes:NP(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let h=l.du[l.currentUser.toKey()];h||(h=new jt(rt)),h=h.insert(c,d),l.du[l.currentUser.toKey()]=h})(r,s.batchId,n),await Gd(r,s.changes),await Cm(r.remoteStore)}catch(s){const o=pw(s,"Failed to persist write");n.reject(o)}}async function p2(t,e){const n=He(t);try{const r=await q$(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ft(l.hu,14607):s.removedDocuments.size>0&&(ft(l.hu,42227),l.hu=!1))})),await Gd(n,r,e)}catch(r){await Ac(r)}}function gS(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=He(l);d.onlineState=c;let h=!1;d.queries.forEach(((m,g)=>{for(const w of g.ba)w.va(c)&&(h=!0)})),h&&mw(d)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j7(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new jt(De.comparator);l=l.insert(o,zn.newNoDocument(o,$e.min()));const c=st().add(o),d=new Tm($e.min(),new Map,new jt(rt),l,c);await p2(r,d),r.Ru=r.Ru.remove(o),r.Au.delete(e),yw(r)}else await f0(r.localStore,e,!1).then((()=>g0(r,e,n))).catch(Ac)}async function V7(t,e){const n=He(t),r=e.batch.batchId;try{const s=await $$(n.localStore,e);g2(n,r,null),m2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(n,s)}catch(s){await Ac(s)}}async function L7(t,e,n){const r=He(t);try{const s=await(function(l,c){const d=He(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((g=>(ft(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);g2(r,e,n),m2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gd(r,s)}catch(s){await Ac(s)}}function m2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function g2(t,e,n){const r=He(t);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function g0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||y2(t,r)}))}function y2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(cw(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),yw(t))}function yS(t,e,n){for(const r of n)r instanceof d2?(t.Vu.addReference(r.key,e),F7(t,r)):r instanceof h2?(Te(gw,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||y2(t,r.key)):Le(19791,{wu:r})}function F7(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(gw,"New document in limbo: "+n),t.Eu.add(r),yw(t))}function yw(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new A7(n)),t.Ru=t.Ru.insert(n,r),i2(t.remoteStore,new yo(zs(IP(n.path)),r,"TargetPurposeLimboResolution",gm.ce))}}async function Gd(t,e,n){const r=He(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){s.push(h);const m=aw.Es(d.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(d,h){const m=He(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>se.forEach(h,(w=>se.forEach(w.Ts,(S=>m.persistence.referenceDelegate.addReference(g,w.targetId,S))).next((()=>se.forEach(w.Is,(S=>m.persistence.referenceDelegate.removeReference(g,w.targetId,S)))))))))}catch(g){if(!Rc(g))throw g;Te(lw,"Failed to update sequence numbers: "+g)}for(const g of h){const w=g.targetId;if(!g.fromCache){const S=m.vs.get(w),R=S.snapshotVersion,E=S.withLastLimboFreeSnapshotVersion(R);m.vs=m.vs.insert(w,E)}}})(r.localStore,o))}async function U7(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Te(gw,"User change. New user:",e.toKey());const r=await t2(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((d=>{d.reject(new we(ne.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(n,r.Ns)}}function B7(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let s=st();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function v2(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j7.bind(null,e),e.Pu.J_=T7.bind(null,e.eventManager),e.Pu.yu=E7.bind(null,e.eventManager),e}function z7(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L7.bind(null,e),e}class Pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z$(this.persistence,new F$,e.initialUser,this.serializer)}Cu(e){return new e2(ow.Vi,this.serializer)}Du(e){return new Q$}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pp.provider={build:()=>new Pp};class $7 extends Pp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof Rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new e2((r=>Rp.Vi(r,n)),this.serializer)}}class y0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U7.bind(null,this.syncEngine),await v7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w7})()}createDatastore(e){const n=Em(e.databaseInfo.databaseId),r=e7(e.databaseInfo);return i7(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,c){return new a7(r,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>gS(this.syncEngine,n,0)),(function(){return uS.v()?new uS:new Z$})())}createSyncEngine(e,n){return(function(s,o,l,c,d,h,m){const g=new R7(s,o,l,c,d,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);Te(ja,"RemoteStore shutting down."),r.Ea.add(5),await Hd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}y0.provider={build:()=>new y0};class q7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Uo="FirestoreClient";class W7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Bn.UNAUTHENTICATED,this.clientId=Qx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Te(Uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(Uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await t2(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function vS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H7(t);Te(Uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>hS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>hS(e.remoteStore,s))),t._onlineComponents=e}async function H7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Uo,"Using user provided OfflineComponentProvider");try{await Ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await Ky(t,new Pp)}}else Te(Uo,"Using default OfflineComponentProvider"),await Ky(t,new $7(void 0));return t._offlineComponents}async function x2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Uo,"Using user provided OnlineComponentProvider"),await vS(t,t._uninitializedComponentsProvider._online)):(Te(Uo,"Using default OnlineComponentProvider"),await vS(t,new y0))),t._onlineComponents}function G7(t){return x2(t).then((e=>e.syncEngine))}async function K7(t){const e=await x2(t),n=e.eventManager;return n.onListen=k7.bind(null,e.syncEngine),n.onUnlisten=D7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M7.bind(null,e.syncEngine),n}function Q7(t,e,n={}){const r=new So;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const m=new q7({next:w=>{m.Nu(),l.enqueueAndForget((()=>b7(o,g))),w.fromCache&&d.source==="server"?h.reject(new we(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new S7(c,m,{includeMetadataChanges:!0,Ka:!0});return _7(o,g)})(await K7(t),t.asyncQueue,e,n,r))),r.promise}function Z7(t,e){const n=new So;return t.asyncQueue.enqueueAndForget((async()=>O7(await G7(t),e,n))),n.promise}function w2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Y7="ComponentProvider",xS=new Map;function X7(t,e,n,r,s){return new fz(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,w2(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const _2="firestore.googleapis.com",wS=!0;class _S{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_2,this.ssl=wS}else this.host=e.host,this.ssl=e.ssl??wS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b$)throw new we(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HB;switch(r.type){case"firstParty":return new ZB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xS.get(n);r&&(Te(Y7,"Removing Datastore"),xS.delete(n),r.terminate())})(this),Promise.resolve()}}function J7(t,e,n,r={}){t=_p(t,Im);const s=Ec(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(mk(`https://${c}`),gk("Firestore",!0)),o.host!==_2&&o.host!==c&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:s,emulatorOptions:r};if(!Na(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Bn.MOCK_USER;else{h=g9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new we(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Bn(g)}t._authCredentials=new GB(new lP(h,m))}}class Ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}toJSON(){return{type:wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($d(n,wn._jsonSchema))return new wn(e,r||null,new De(wt.fromString(n.referencePath)))}}wn._jsonSchemaVersion="firestore/documentReference/1.0",wn._jsonSchema={type:tn("string",wn._jsonSchemaVersion),referencePath:tn("string")};class Co extends Ho{constructor(e,n,r){super(e,n,IP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new De(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function b2(t,e,...n){if(t=Cr(t),cP("collection","path",e),t instanceof Im){const r=wt.fromString(e,...n);return ME(r),new Co(t,null,r)}{if(!(t instanceof wn||t instanceof Co))throw new we(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return ME(r),new Co(t.firestore,null,r)}}function eq(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=Qx.newId()),cP("doc","path",e),t instanceof Im){const r=wt.fromString(e,...n);return DE(r),new wn(t,null,new De(r))}{if(!(t instanceof wn||t instanceof Co))throw new we(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return DE(r),new wn(t.firestore,t instanceof Co?t.converter:null,new De(r))}}const bS="AsyncQueue";class TS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r2(this,"async_queue_retry"),this._c=()=>{const r=Gy();r&&Te(bS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new So;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rc(e))throw e;Te(bS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",ES(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=fw.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Le(47125,{Pc:ES(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ES(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vw extends Im{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new TS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TS(e),this._firestoreClient=void 0,await e}}}function tq(t,e){const n=typeof t=="object"?t:wk(),r=typeof t=="string"?t:Tp,s=Ux(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=p9("firestore");o&&J7(s,...o)}return s}function T2(t){if(t._terminated)throw new we(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nq(t),t._firestoreClient}function nq(t){const e=t._freezeSettings(),n=X7(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(Nn.fromBase64String(e))}catch(n){throw new we(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zr(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($d(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:tn("string",zr._jsonSchemaVersion),bytes:tn("string")};class E2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xw{constructor(e){this._methodName=e}}class qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qs._jsonSchemaVersion}}static fromJSON(e){if($d(e,qs._jsonSchema))return new qs(e.latitude,e.longitude)}}qs._jsonSchemaVersion="firestore/geoPoint/1.0",qs._jsonSchema={type:tn("string",qs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};class ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($d(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ls(e.vectorValues);throw new we(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:tn("string",ls._jsonSchemaVersion),vectorValues:tn("object")};const rq=/^__.*__$/;class sq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,n,this.fieldTransforms):new qd(e,this.data,n,this.fieldTransforms)}}function S2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class ww{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Np(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(S2(this.dataSource)&&rq.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Em(e)}createContext(e,n,r,s=!1){return new ww({dataSource:e,methodName:n,targetDoc:r,path:Pn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C2(t){const e=t._freezeSettings(),n=Em(t._databaseId);return new iq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oq(t,e,n,r,s,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,s);R2("Data must be an object, but it was:",l,r);const c=I2(r,l);let d,h;if(o.merge)d=new os(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const w=Kd(e,g,n);if(!l.contains(w))throw new we(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uq(m,w)||m.push(w)}d=new os(m),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new sq(new Br(c),d,h)}class _w extends xw{_toFieldTransform(e){return new zz(e.path,new hd)}isEqual(e){return e instanceof _w}}function aq(t,e,n,r=!1){return bw(n,t.createContext(r?4:3,e))}function bw(t,e){if(A2(t=Cr(t)))return R2("Unsupported field value:",e,t),I2(t,e);if(t instanceof xw)return(function(r,s){if(!S2(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const c of r){let d=bw(c,s.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=Cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:Ap(s.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(s.serializer,o)}}if(r instanceof qs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zr)return{bytesValue:WP(s.serializer,r._byteString)};if(r instanceof wn){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ls)return(function(l,c){const d=l instanceof ls?l.toArray():l;return{mapValue:{fields:{[vP]:{stringValue:xP},[Ep]:{arrayValue:{values:d.map((m=>{if(typeof m!="number")throw c.createError("VectorValues must only contain numeric values.");return tw(c.serializer,m)}))}}}}}})(r,s);if(XP(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${mm(r)}`)})(t,e)}function I2(t,e){const n={};return hP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,((r,s)=>{const o=bw(s,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof qs||t instanceof zr||t instanceof wn||t instanceof xw||t instanceof ls||XP(t))}function R2(t,e,n){if(!A2(n)||!uP(n)){const r=mm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Kd(t,e,n){if((e=Cr(e))instanceof E2)return e._internalPath;if(typeof e=="string")return cq(t,e);throw Np("Field path arguments must be of type string or ",t,!1,void 0,n)}const lq=new RegExp("[~\\*/\\[\\]]");function cq(t,e,n){if(e.search(lq)>=0)throw Np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new E2(...e.split("."))._internalPath}catch{throw Np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Np(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new we(ne.INVALID_ARGUMENT,c+t+d)}function uq(t,e){return t.some((n=>n.isEqual(e)))}class dq{convertValue(e,n="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Ep].arrayValue?.values?.map((r=>Zt(r.doubleValue)));return new ls(n)}convertGeoPoint(e){return new qs(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=jo(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ft(YP(r),9688,{name:e});const s=new cd(r.get(1),r.get(3)),o=new De(r.popFirst(5));return s.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class hq extends dq{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function fq(){return new _w("serverTimestamp")}const SS="@firebase/firestore",CS="4.10.0";class k2{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Kd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pq extends k2{data(){return super.data()}}function mq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tw{}class Ew extends Tw{}function gq(t,e,...n){let r=[];e instanceof Tw&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof Sw)).length,c=o.filter((d=>d instanceof Am)).length;if(l>1||l>0&&c>0)throw new we(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Am extends Ew{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Am(e,n,r)}_apply(e){const n=this._parse(e);return P2(e._query,n),new Ho(e.firestore,e.converter,l0(e._query,n))}_parse(e){const n=C2(e.firestore);return(function(o,l,c,d,h,m,g){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){AS(g,m);const R=[];for(const E of g)R.push(IS(d,o,E));w={arrayValue:{values:R}}}else w=IS(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||AS(g,m),w=aq(c,l,g,m==="in"||m==="not-in");return en.create(h,m,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yq(t,e,n){const r=e,s=Kd("where",t);return Am._create(s,r,n)}class Sw extends Tw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sw(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)P2(l,d),l=l0(l,d)})(e._query,n),new Ho(e.firestore,e.converter,l0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cw extends Ew{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cw(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new we(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dd(o,l)})(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,Pz(e._query,n))}}function vq(t,e="asc"){const n=e,r=Kd("orderBy",t);return Cw._create(r,n)}class Iw extends Ew{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Iw(e,n,r)}_apply(e){return new Ho(e.firestore,e.converter,Cp(e._query,this._limit,this._limitType))}}function xq(t){return Iw._create("limit",t,"F")}function IS(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new we(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AP(e)&&n.indexOf("/")!==-1)throw new we(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!De.isDocumentKey(r))throw new we(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(t,new De(r))}if(n instanceof wn)return zE(t,n._key);throw new we(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function AS(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P2(t,e){const n=(function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Sf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends k2{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:tn("string",Yl._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Yf extends Yl{data(e={}){return super.data(e)}}class Xl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Yf(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Yf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const d=new Yf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:_q(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _q(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}Xl._jsonSchemaVersion="firestore/querySnapshot/1.0",Xl._jsonSchema={type:tn("string",Xl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};function bq(t){t=_p(t,Ho);const e=_p(t.firestore,vw),n=T2(e),r=new hq(e);return mq(t._query),Q7(n,t._query).then((s=>new Xl(e,r,t,s)))}function Tq(t,e){const n=_p(t.firestore,vw),r=eq(t),s=wq(t.converter,e),o=C2(t.firestore);return Eq(n,[oq(o,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then((()=>r))}function Eq(t,e){const n=T2(t);return Z7(n,e)}(function(e,n=!0){WB(Sc),lc(new Da("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new vw(new KB(r.getProvider("auth-internal")),new YB(l,r.getProvider("app-check-internal")),pz(l,s),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),bo(SS,CS,e),bo(SS,CS,"esm2020")})();const Sq={apiKey:"AIzaSyCfccug_3K7B7SOM7iU5e8mp_Qmkdd-oow",authDomain:"kids-c368a.firebaseapp.com",projectId:"kids-c368a",storageBucket:"kids-c368a.firebasestorage.app",messagingSenderId:"721834841947",appId:"1:721834841947:web:f2943b388dfaa4f8baac7e"},N2=xk(Sq),RS=$B(N2),D2=tq(N2);var at;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of o)l[c]=s[c];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},t.find=(s,o)=>{for(const l of s)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(at||(at={}));var v0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(v0||(v0={}));const be=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yi=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},ue=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cq=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Er extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return s(this),r}static assert(e){if(!(e instanceof Er))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Er.create=t=>new Er(t);const mc=(t,e)=>{let n;switch(t.code){case ue.invalid_type:t.received===be.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ue.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ue.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=e.defaultError,at.assertNever(t)}return{message:n}};let M2=mc;function Iq(t){M2=t}function Dp(){return M2}const Mp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,o=[...n,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(l,{data:e,defaultError:c}).message;return{...s,path:o,message:c}},Aq=[];function ve(t,e){const n=Dp(),r=Mp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===mc?void 0:mc].filter(s=>!!s)});t.common.issues.push(r)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ue;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const o=await s.key,l=await s.value;r.push({key:o,value:l})}return Hn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return Ue;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),Ul=t=>({status:"dirty",value:t}),er=t=>({status:"valid",value:t}),x0=t=>t.status==="aborted",w0=t=>t.status==="dirty",Va=t=>t.status==="valid",md=t=>typeof Promise<"u"&&t instanceof Promise;function Op(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function O2(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ne||(Ne={}));var ju,Vu;class Ks{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kS=(t,e)=>{if(Va(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Er(t.common.issues);return this._error=n,this._error}}};function Ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,c)=>{var d,h;const{message:m}=t;return l.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(d=m??r)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(h=m??n)!==null&&h!==void 0?h:c.defaultError}},description:s}}class Xe{get description(){return this._def.description}_getType(e){return yi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(md(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},o=this._parseSync({data:e,path:s.path,parent:s});return kS(s,o)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:s});return Va(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((r=(n=o?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(o=>Va(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(md(s)?s:Promise.resolve(s));return kS(r,o)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const l=e(s),c=()=>o.addIssue({code:ue.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new fs({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ws.create(this,this._def)}nullable(){return qo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cs.create(this)}promise(){return yc.create(this,this._def)}or(e){return xd.create([this,e],this._def)}and(e){return wd.create(this,e,this._def)}transform(e){return new fs({...Ge(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Sd({...Ge(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new Aw({typeName:Fe.ZodBranded,type:this,...Ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Cd({...Ge(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qd.create(this,e)}readonly(){return Id.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rq=/^c[^\s-]{8,}$/i,kq=/^[0-9a-z]+$/,Pq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dq=/^[a-z0-9_-]{21}$/i,Mq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Oq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qy;const Lq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Uq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$q=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,j2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qq=new RegExp(`^${j2}$`);function V2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Wq(t){return new RegExp(`^${V2(t)}$`)}function L2(t){let e=`${j2}T${V2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Hq(t,e){return!!((e==="v4"||!e)&&Lq.test(t)||(e==="v6"||!e)&&Uq.test(t))}function Gq(t,e){if(!Mq.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Kq(t,e){return!!((e==="v4"||!e)&&Fq.test(t)||(e==="v6"||!e)&&Bq.test(t))}class as extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){const o=this._getOrReturnCtx(e);return ve(o,{code:ue.invalid_type,expected:be.string,received:o.parsedType}),Ue}const r=new Hn;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(s=this._getOrReturnCtx(e,s),l?ve(s,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&ve(s,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")jq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"email",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Qy||(Qy=new RegExp(Vq,"u")),Qy.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"emoji",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Nq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"uuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Dq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"nanoid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Rq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")kq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cuid2",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Pq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ulid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ve(s,{validation:"url",code:ue.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"regex",code:ue.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?L2(o).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?qq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Wq(o).test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Oq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"duration",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Hq(e.data,o.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"ip",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Gq(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"jwt",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Kq(e.data,o.version)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"cidr",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?zq.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"base64",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?$q.test(e.data)||(s=this._getOrReturnCtx(e,s),ve(s,{validation:"base64url",code:ue.invalid_string,message:o.message}),r.dirty()):at.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ue.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new as({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Ne.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ne.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ne.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new as({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new as({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new as({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}as.create=t=>{var e;return new as({checks:[],typeName:Fe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ge(t)})};function Qq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,o=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class Bo extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){const o=this._getOrReturnCtx(e);return ve(o,{code:ue.invalid_type,expected:be.number,received:o.parsedType}),Ue}let r;const s=new Hn;for(const o of this._def.checks)o.kind==="int"?at.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?Qq(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.not_finite,message:o.message}),s.dirty()):at.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,s){return new Bo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(e){return new Bo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Bo.create=t=>new Bo({checks:[],typeName:Fe.ZodNumber,coerce:t?.coerce||!1,...Ge(t)});class zo extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==be.bigint)return this._getInvalidInput(e);let r;const s=new Hn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ve(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):at.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ve(n,{code:ue.invalid_type,expected:be.bigint,received:n.parsedType}),Ue}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,s){return new zo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zo.create=t=>{var e;return new zo({checks:[],typeName:Fe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ge(t)})};class gd extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.boolean,received:r.parsedType}),Ue}return er(e.data)}}gd.create=t=>new gd({typeName:Fe.ZodBoolean,coerce:t?.coerce||!1,...Ge(t)});class La extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){const o=this._getOrReturnCtx(e);return ve(o,{code:ue.invalid_type,expected:be.date,received:o.parsedType}),Ue}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return ve(o,{code:ue.invalid_date}),Ue}const r=new Hn;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),ve(s,{code:ue.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):at.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}La.create=t=>new La({checks:[],coerce:t?.coerce||!1,typeName:Fe.ZodDate,...Ge(t)});class jp extends Xe{_parse(e){if(this._getType(e)!==be.symbol){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.symbol,received:r.parsedType}),Ue}return er(e.data)}}jp.create=t=>new jp({typeName:Fe.ZodSymbol,...Ge(t)});class yd extends Xe{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.undefined,received:r.parsedType}),Ue}return er(e.data)}}yd.create=t=>new yd({typeName:Fe.ZodUndefined,...Ge(t)});class vd extends Xe{_parse(e){if(this._getType(e)!==be.null){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.null,received:r.parsedType}),Ue}return er(e.data)}}vd.create=t=>new vd({typeName:Fe.ZodNull,...Ge(t)});class gc extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return er(e.data)}}gc.create=t=>new gc({typeName:Fe.ZodAny,...Ge(t)});class Ia extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return er(e.data)}}Ia.create=t=>new Ia({typeName:Fe.ZodUnknown,...Ge(t)});class Di extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return ve(n,{code:ue.invalid_type,expected:be.never,received:n.parsedType}),Ue}}Di.create=t=>new Di({typeName:Fe.ZodNever,...Ge(t)});class Vp extends Xe{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.void,received:r.parsedType}),Ue}return er(e.data)}}Vp.create=t=>new Vp({typeName:Fe.ZodVoid,...Ge(t)});class cs extends Xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==be.array)return ve(n,{code:ue.invalid_type,expected:be.array,received:n.parsedType}),Ue;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(ve(n,{code:l?ue.too_big:ue.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ve(n,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ve(n,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new Ks(n,l,n.path,c)))).then(l=>Hn.mergeArray(r,l));const o=[...n.data].map((l,c)=>s.type._parseSync(new Ks(n,l,n.path,c)));return Hn.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new cs({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new cs({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new cs({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}cs.create=(t,e)=>new cs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Ge(e)});function Nl(t){if(t instanceof Mt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ws.create(Nl(r))}return new Mt({...t._def,shape:()=>e})}else return t instanceof cs?new cs({...t._def,type:Nl(t.element)}):t instanceof Ws?Ws.create(Nl(t.unwrap())):t instanceof qo?qo.create(Nl(t.unwrap())):t instanceof Qs?Qs.create(t.items.map(e=>Nl(e))):t}class Mt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=at.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==be.object){const h=this._getOrReturnCtx(e);return ve(h,{code:ue.invalid_type,expected:be.object,received:h.parsedType}),Ue}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Di&&this._def.unknownKeys==="strip"))for(const h in s.data)l.includes(h)||c.push(h);const d=[];for(const h of l){const m=o[h],g=s.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new Ks(s,g,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Di){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(h==="strict")c.length>0&&(ve(s,{code:ue.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const g=s.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new Ks(s,g,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const g=await m.key,w=await m.value;h.push({key:g,value:w,alwaysSet:m.alwaysSet})}return h}).then(h=>Hn.mergeObjectSync(r,h)):Hn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o,l,c;const d=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=Ne.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const n={};return at.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Mt({...this._def,shape:()=>n})}omit(e){const n={};return at.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Mt({...this._def,shape:()=>n})}deepPartial(){return Nl(this)}partial(e){const n={};return at.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Mt({...this._def,shape:()=>n})}required(e){const n={};return at.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ws;)o=o._def.innerType;n[r]=o}}),new Mt({...this._def,shape:()=>n})}keyof(){return F2(at.objectKeys(this.shape))}}Mt.create=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strip",catchall:Di.create(),typeName:Fe.ZodObject,...Ge(e)});Mt.strictCreate=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strict",catchall:Di.create(),typeName:Fe.ZodObject,...Ge(e)});Mt.lazycreate=(t,e)=>new Mt({shape:t,unknownKeys:"strip",catchall:Di.create(),typeName:Fe.ZodObject,...Ge(e)});class xd extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new Er(c.ctx.common.issues));return ve(n,{code:ue.invalid_union,unionErrors:l}),Ue}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(d=>new Er(d));return ve(n,{code:ue.invalid_union,unionErrors:c}),Ue}}get options(){return this._def.options}}xd.create=(t,e)=>new xd({options:t,typeName:Fe.ZodUnion,...Ge(e)});const gi=t=>t instanceof bd?gi(t.schema):t instanceof fs?gi(t.innerType()):t instanceof Td?[t.value]:t instanceof $o?t.options:t instanceof Ed?at.objectValues(t.enum):t instanceof Sd?gi(t._def.innerType):t instanceof yd?[void 0]:t instanceof vd?[null]:t instanceof Ws?[void 0,...gi(t.unwrap())]:t instanceof qo?[null,...gi(t.unwrap())]:t instanceof Aw||t instanceof Id?gi(t.unwrap()):t instanceof Cd?gi(t._def.innerType):[];class Rm extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.object)return ve(n,{code:ue.invalid_type,expected:be.object,received:n.parsedType}),Ue;const r=this.discriminator,s=n.data[r],o=this.optionsMap.get(s);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const o of n){const l=gi(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,o)}}return new Rm({typeName:Fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ge(r)})}}function _0(t,e){const n=yi(t),r=yi(e);if(t===e)return{valid:!0,data:t};if(n===be.object&&r===be.object){const s=at.objectKeys(e),o=at.objectKeys(t).filter(c=>s.indexOf(c)!==-1),l={...t,...e};for(const c of o){const d=_0(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===be.array&&r===be.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const l=t[o],c=e[o],d=_0(l,c);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===be.date&&r===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wd extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(o,l)=>{if(x0(o)||x0(l))return Ue;const c=_0(o.value,l.value);return c.valid?((w0(o)||w0(l))&&n.dirty(),{status:n.value,value:c.data}):(ve(r,{code:ue.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wd.create=(t,e,n)=>new wd({left:t,right:e,typeName:Fe.ZodIntersection,...Ge(n)});class Qs extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.array)return ve(r,{code:ue.invalid_type,expected:be.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return ve(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Ks(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>Hn.mergeArray(n,l)):Hn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Qs({...this._def,rest:e})}}Qs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qs({items:t,typeName:Fe.ZodTuple,rest:null,...Ge(e)})};class _d extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.object)return ve(r,{code:ue.invalid_type,expected:be.object,received:r.parsedType}),Ue;const s=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)s.push({key:o._parse(new Ks(r,c,r.path,c)),value:l._parse(new Ks(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Hn.mergeObjectAsync(n,s):Hn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xe?new _d({keyType:e,valueType:n,typeName:Fe.ZodRecord,...Ge(r)}):new _d({keyType:as.create(),valueType:e,typeName:Fe.ZodRecord,...Ge(n)})}}class Lp extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.map)return ve(r,{code:ue.invalid_type,expected:be.map,received:r.parsedType}),Ue;const s=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,d],h)=>({key:s._parse(new Ks(r,c,r.path,[h,"key"])),value:o._parse(new Ks(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return Ue;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return Ue;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}Lp.create=(t,e,n)=>new Lp({valueType:e,keyType:t,typeName:Fe.ZodMap,...Ge(n)});class Fa extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.set)return ve(r,{code:ue.invalid_type,expected:be.set,received:r.parsedType}),Ue;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ve(r,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ve(r,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function l(d){const h=new Set;for(const m of d){if(m.status==="aborted")return Ue;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>o._parse(new Ks(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new Fa({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new Fa({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Fa.create=(t,e)=>new Fa({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Ge(e)});class Jl extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.function)return ve(n,{code:ue.invalid_type,expected:be.function,received:n.parsedType}),Ue;function r(c,d){return Mp({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dp(),mc].filter(h=>!!h),issueData:{code:ue.invalid_arguments,argumentsError:d}})}function s(c,d){return Mp({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dp(),mc].filter(h=>!!h),issueData:{code:ue.invalid_return_type,returnTypeError:d}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof yc){const c=this;return er(async function(...d){const h=new Er([]),m=await c._def.args.parseAsync(d,o).catch(S=>{throw h.addIssue(r(d,S)),h}),g=await Reflect.apply(l,this,m);return await c._def.returns._def.type.parseAsync(g,o).catch(S=>{throw h.addIssue(s(g,S)),h})})}else{const c=this;return er(function(...d){const h=c._def.args.safeParse(d,o);if(!h.success)throw new Er([r(d,h.error)]);const m=Reflect.apply(l,this,h.data),g=c._def.returns.safeParse(m,o);if(!g.success)throw new Er([s(m,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jl({...this._def,args:Qs.create(e).rest(Ia.create())})}returns(e){return new Jl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Jl({args:e||Qs.create([]).rest(Ia.create()),returns:n||Ia.create(),typeName:Fe.ZodFunction,...Ge(r)})}}class bd extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bd.create=(t,e)=>new bd({getter:t,typeName:Fe.ZodLazy,...Ge(e)});class Td extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ve(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Td.create=(t,e)=>new Td({value:t,typeName:Fe.ZodLiteral,...Ge(e)});function F2(t,e){return new $o({values:t,typeName:Fe.ZodEnum,...Ge(e)})}class $o extends Xe{constructor(){super(...arguments),ju.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{expected:at.joinValues(r),received:n.parsedType,code:ue.invalid_type}),Ue}if(Op(this,ju)||O2(this,ju,new Set(this._def.values)),!Op(this,ju).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ve(n,{received:n.data,code:ue.invalid_enum_value,options:r}),Ue}return er(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $o.create(e,{...this._def,...n})}exclude(e,n=this._def){return $o.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ju=new WeakMap;$o.create=F2;class Ed extends Xe{constructor(){super(...arguments),Vu.set(this,void 0)}_parse(e){const n=at.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==be.string&&r.parsedType!==be.number){const s=at.objectValues(n);return ve(r,{expected:at.joinValues(s),received:r.parsedType,code:ue.invalid_type}),Ue}if(Op(this,Vu)||O2(this,Vu,new Set(at.getValidEnumValues(this._def.values))),!Op(this,Vu).has(e.data)){const s=at.objectValues(n);return ve(r,{received:r.data,code:ue.invalid_enum_value,options:s}),Ue}return er(e.data)}get enum(){return this._def.values}}Vu=new WeakMap;Ed.create=(t,e)=>new Ed({values:t,typeName:Fe.ZodNativeEnum,...Ge(e)});class yc extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.promise&&n.common.async===!1)return ve(n,{code:ue.invalid_type,expected:be.promise,received:n.parsedType}),Ue;const r=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return er(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yc.create=(t,e)=>new yc({type:t,typeName:Fe.ZodPromise,...Ge(e)});class fs extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{ve(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Ue;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Ue:d.status==="dirty"||n.value==="dirty"?Ul(d.value):d});{if(n.value==="aborted")return Ue;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ue:c.status==="dirty"||n.value==="dirty"?Ul(c.value):c}}if(s.type==="refinement"){const l=c=>{const d=s.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ue:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ue:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Va(l))return l;const c=s.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Va(l)?Promise.resolve(s.transform(l.value,o)).then(c=>({status:n.value,value:c})):l);at.assertNever(s)}}fs.create=(t,e,n)=>new fs({schema:t,typeName:Fe.ZodEffects,effect:e,...Ge(n)});fs.createWithPreprocess=(t,e,n)=>new fs({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...Ge(n)});class Ws extends Xe{_parse(e){return this._getType(e)===be.undefined?er(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ws.create=(t,e)=>new Ws({innerType:t,typeName:Fe.ZodOptional,...Ge(e)});class qo extends Xe{_parse(e){return this._getType(e)===be.null?er(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qo.create=(t,e)=>new qo({innerType:t,typeName:Fe.ZodNullable,...Ge(e)});class Sd extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sd.create=(t,e)=>new Sd({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class Cd extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return md(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Er(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Er(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cd.create=(t,e)=>new Cd({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class Fp extends Xe{_parse(e){if(this._getType(e)!==be.nan){const r=this._getOrReturnCtx(e);return ve(r,{code:ue.invalid_type,expected:be.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}Fp.create=t=>new Fp({typeName:Fe.ZodNaN,...Ge(t)});const Zq=Symbol("zod_brand");class Aw extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qd extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ue:o.status==="dirty"?(n.dirty(),Ul(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ue:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Qd({in:e,out:n,typeName:Fe.ZodPipeline})}}class Id extends Xe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Va(s)&&(s.value=Object.freeze(s.value)),s);return md(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Id.create=(t,e)=>new Id({innerType:t,typeName:Fe.ZodReadonly,...Ge(e)});function PS(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function U2(t,e={},n){return t?gc.create().superRefine((r,s)=>{var o,l;const c=t(r);if(c instanceof Promise)return c.then(d=>{var h,m;if(!d){const g=PS(e,r),w=(m=(h=g.fatal)!==null&&h!==void 0?h:n)!==null&&m!==void 0?m:!0;s.addIssue({code:"custom",...g,fatal:w})}});if(!c){const d=PS(e,r),h=(l=(o=d.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0;s.addIssue({code:"custom",...d,fatal:h})}}):gc.create()}const Yq={object:Mt.lazycreate};var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const Xq=(t,e={message:`Input not instance of ${t.name}`})=>U2(n=>n instanceof t,e),B2=as.create,z2=Bo.create,Jq=Fp.create,eW=zo.create,$2=gd.create,tW=La.create,nW=jp.create,rW=yd.create,sW=vd.create,iW=gc.create,oW=Ia.create,aW=Di.create,lW=Vp.create,cW=cs.create,uW=Mt.create,dW=Mt.strictCreate,hW=xd.create,fW=Rm.create,pW=wd.create,mW=Qs.create,gW=_d.create,yW=Lp.create,vW=Fa.create,xW=Jl.create,wW=bd.create,_W=Td.create,bW=$o.create,TW=Ed.create,EW=yc.create,NS=fs.create,SW=Ws.create,CW=qo.create,IW=fs.createWithPreprocess,AW=Qd.create,RW=()=>B2().optional(),kW=()=>z2().optional(),PW=()=>$2().optional(),NW={string:(t=>as.create({...t,coerce:!0})),number:(t=>Bo.create({...t,coerce:!0})),boolean:(t=>gd.create({...t,coerce:!0})),bigint:(t=>zo.create({...t,coerce:!0})),date:(t=>La.create({...t,coerce:!0}))},DW=Ue;var Cf=Object.freeze({__proto__:null,defaultErrorMap:mc,setErrorMap:Iq,getErrorMap:Dp,makeIssue:Mp,EMPTY_PATH:Aq,addIssueToContext:ve,ParseStatus:Hn,INVALID:Ue,DIRTY:Ul,OK:er,isAborted:x0,isDirty:w0,isValid:Va,isAsync:md,get util(){return at},get objectUtil(){return v0},ZodParsedType:be,getParsedType:yi,ZodType:Xe,datetimeRegex:L2,ZodString:as,ZodNumber:Bo,ZodBigInt:zo,ZodBoolean:gd,ZodDate:La,ZodSymbol:jp,ZodUndefined:yd,ZodNull:vd,ZodAny:gc,ZodUnknown:Ia,ZodNever:Di,ZodVoid:Vp,ZodArray:cs,ZodObject:Mt,ZodUnion:xd,ZodDiscriminatedUnion:Rm,ZodIntersection:wd,ZodTuple:Qs,ZodRecord:_d,ZodMap:Lp,ZodSet:Fa,ZodFunction:Jl,ZodLazy:bd,ZodLiteral:Td,ZodEnum:$o,ZodNativeEnum:Ed,ZodPromise:yc,ZodEffects:fs,ZodTransformer:fs,ZodOptional:Ws,ZodNullable:qo,ZodDefault:Sd,ZodCatch:Cd,ZodNaN:Fp,BRAND:Zq,ZodBranded:Aw,ZodPipeline:Qd,ZodReadonly:Id,custom:U2,Schema:Xe,ZodSchema:Xe,late:Yq,get ZodFirstPartyTypeKind(){return Fe},coerce:NW,any:iW,array:cW,bigint:eW,boolean:$2,date:tW,discriminatedUnion:fW,effect:NS,enum:bW,function:xW,instanceof:Xq,intersection:pW,lazy:wW,literal:_W,map:yW,nan:Jq,nativeEnum:TW,never:aW,null:sW,nullable:CW,number:z2,object:uW,oboolean:PW,onumber:kW,optional:SW,ostring:RW,pipeline:AW,preprocess:IW,promise:EW,record:gW,set:vW,strictObject:dW,string:B2,symbol:nW,transformer:NS,tuple:mW,undefined:rW,union:hW,unknown:oW,void:lW,NEVER:DW,ZodIssueCode:ue,quotelessJson:Cq,ZodError:Er});const MW=["color","math","english","shape","melody","clock","bopomofo","emotion","coding","garden","market","recycle","memory","animal","traffic","body","food","job","puzzle","difference","sequence","sorting"],OW=Cf.object({playerName:Cf.string().min(1,""),gameType:Cf.enum(MW),score:Cf.number()});function jW(t){return SC({queryKey:["scores",t],queryFn:async()=>{const e=gq(b2(D2,"scores"),yq("gameType","==",t),vq("score","desc"),xq(10));return(await bq(e)).docs.map(r=>({id:r.id,...r.data()}))}})}function VW(){const t=M0();return IM({mutationFn:async e=>{const n=OW.parse(e);return{id:(await Tq(b2(D2,"scores"),{...n,createdAt:fq()})).id,...n}},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["scores",n.gameType]})}})}const Zy=[{id:1,emoji:"",name:"",rarity:""},{id:2,emoji:"",name:"",rarity:""},{id:3,emoji:"",name:"",rarity:""},{id:4,emoji:"",name:"",rarity:""},{id:5,emoji:"",name:"",rarity:""},{id:6,emoji:"",name:"",rarity:""},{id:7,emoji:"",name:"",rarity:""},{id:8,emoji:"",name:"",rarity:""},{id:9,emoji:"",name:"",rarity:""},{id:10,emoji:"",name:"",rarity:""},{id:11,emoji:"",name:"",rarity:""},{id:12,emoji:"",name:"",rarity:""},{id:13,emoji:"",name:"",rarity:""},{id:14,emoji:"",name:"",rarity:""},{id:15,emoji:"",name:"",rarity:""},{id:16,emoji:"",name:"",rarity:""},{id:17,emoji:"",name:"",rarity:""},{id:18,emoji:"",name:"",rarity:""},{id:19,emoji:"",name:"",rarity:""},{id:20,emoji:"",name:"",rarity:""}],DS="kidszone_stickers";function qt({title:t,score:e,totalQuestions:n,currentQuestionIndex:r,gameType:s,isGameOver:o,onRestart:l,colorClass:c,children:d}){const{profile:h}=kR(),[m,g]=x.useState(h.name);x.useEffect(()=>{h.name&&g(h.name)},[h.name]);const[w,S]=x.useState(!1),[R,E]=x.useState(!1),[T,N]=x.useState(null),O=VW(),j=()=>{const $=localStorage.getItem(DS),F=$?JSON.parse($):[],te=Zy.filter(re=>!F.includes(re.id));if(te.length===0){const re=Zy[Math.floor(Math.random()*Zy.length)];N(re);return}const Ie=te.map(re=>re.rarity===""?1:re.rarity===""?3:10),ke=Ie.reduce((re,W)=>re+W,0);let pe=Math.random()*ke,ee=te[0];for(let re=0;re<te.length;re++)if(pe-=Ie[re],pe<=0){ee=te[re];break}F.push(ee.id),localStorage.setItem(DS,JSON.stringify(F)),N(ee)};x.useEffect(()=>{if(o){Pt({particleCount:150,spread:70,origin:{y:.6},colors:["#FFC0CB","#87CEEB","#98FB98","#DDA0DD","#F0E68C"]}),e>=50&&j();const $=setTimeout(()=>E(!0),1500);return()=>clearTimeout($)}},[o]);const[z,M]=x.useState(null),[V,A]=x.useState(!1),I=async()=>{if(m.trim()){S(!0);try{await O.mutateAsync({playerName:m,gameType:s,score:e}),M(e),A(!0),E(!1)}catch($){console.error($)}finally{S(!1)}}},k=()=>{M(null),A(!1),N(null),g(""),l()},U=()=>{E(!1),N(null)},B="/kids/".replace(/\/$/,"");return y.jsxs("div",{className:`min-h-[80vh] flex flex-col ${c} rounded-[2rem] md:rounded-[3rem] p-4 md:p-8 shadow-xl relative overflow-hidden border-4 md:border-8 border-white`,children:[y.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 pointer-events-none",children:y.jsx(tc,{className:"w-64 h-64 fill-current"})}),y.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8 relative z-10",children:[y.jsx(ho,{href:B+"/",children:y.jsx("button",{className:"bg-white/40 hover:bg-white/60 p-2 md:p-3 rounded-xl md:rounded-2xl transition-all hover:scale-105 active:scale-95 text-inherit","data-testid":"button-back",children:y.jsx(PO,{className:"w-6 h-6 md:w-8 md:h-8 stroke-[3]"})})}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("h2",{className:"font-display text-xl md:text-3xl font-bold text-shadow",children:t}),y.jsx("div",{className:"flex gap-1 mt-1",children:Array.from({length:n}).map(($,F)=>y.jsx("div",{className:`w-2 h-2 md:w-3 md:h-3 rounded-full transition-colors duration-300 ${F<r?"bg-white":"bg-black/10"}`},F))})]}),y.jsxs("div",{className:"bg-white/40 px-4 md:px-6 py-2 rounded-xl md:rounded-2xl font-display font-bold text-xl md:text-2xl flex items-center gap-2",children:[y.jsx(tc,{className:"w-5 h-5 md:w-6 md:h-6 fill-yellow-400 text-yellow-500"}),e]})]}),y.jsx("div",{className:"flex-1 flex flex-col justify-center relative z-10",children:y.jsx(Do,{mode:"wait",children:o?y.jsxs(Ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center flex flex-col items-center gap-6 py-10",children:[y.jsx("h1",{className:"font-display text-5xl md:text-6xl font-black text-white text-shadow-lg",children:""}),y.jsxs("div",{className:"bg-white/30 backdrop-blur-md p-6 md:p-8 rounded-3xl w-full max-w-md",children:[y.jsx("p",{className:"text-xl md:text-2xl font-bold mb-2",children:""}),y.jsx("div",{className:"text-6xl md:text-8xl font-black text-white text-shadow-lg mb-4",children:z!==null?z:e}),T&&y.jsxs(Ae.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.3},className:"bg-white/50 p-4 rounded-2xl mb-4",children:[y.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[y.jsx(qO,{className:"w-5 h-5"}),y.jsx("span",{className:"font-bold",children:""})]}),y.jsx("div",{className:"text-6xl",children:T.emoji}),y.jsx("div",{className:"text-sm font-medium mt-1",children:T.name})]}),V&&y.jsx("div",{className:"bg-green-100 text-green-700 px-4 py-2 rounded-xl mb-4 font-bold",children:""}),y.jsx("button",{onClick:k,className:"w-full bg-white text-current font-bold py-3 md:py-4 rounded-2xl text-lg md:text-xl shadow-lg hover:scale-105 transition-transform","data-testid":"button-play-again",children:""})]})]}):d})}),y.jsx(ak,{open:R,onOpenChange:U,children:y.jsxs(Dx,{className:"sm:max-w-md border-4 border-[hsl(var(--macaron-purple))] rounded-3xl bg-white/95 backdrop-blur-xl",children:[y.jsx(Mx,{children:y.jsx(jx,{className:"font-display text-3xl text-center text-[hsl(var(--macaron-purple-dark))]",children:T?"":""})}),y.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[y.jsxs("div",{className:"text-center text-lg text-muted-foreground",children:[" ",y.jsx("span",{className:"font-bold text-[hsl(var(--macaron-purple))] text-2xl",children:e})," "]}),T&&y.jsxs(Ae.div,{initial:{scale:0},animate:{scale:1},className:"text-center bg-gradient-to-br from-yellow-100 to-pink-100 p-4 rounded-2xl",children:[y.jsx("div",{className:"text-5xl mb-2",children:T.emoji}),y.jsxs("div",{className:"font-bold",children:["",T.name,""]}),y.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.rarity===""&&" ",T.rarity===""&&" "]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold ml-1",children:""}),y.jsx(cm,{value:m,onChange:$=>g($.target.value),placeholder:"...",className:"text-lg py-6 rounded-xl border-2 border-gray-200 focus-visible:ring-[hsl(var(--macaron-purple))]",autoFocus:!0,"data-testid":"input-player-name"})]})]}),y.jsxs(Ox,{className:"sm:justify-center gap-2",children:[y.jsx(sc,{variant:"outline",onClick:U,className:"flex-1 rounded-xl",children:""}),y.jsx(sc,{onClick:I,disabled:!m.trim()||w,className:"flex-1 btn-macaron btn-purple text-lg py-6 rounded-xl","data-testid":"button-save-score",children:w?"...":""})]})]})})]})}function Go({children:t,speakText:e,onSelect:n,className:r="","data-testid":s}){const{speak:o}=Gn(),[l,c]=x.useState(!1),[d,h]=x.useState(!1),m=x.useRef(null),g=()=>{d?n():(o(e),c(!0),h(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(!1)},1500))},w=()=>{n()};return y.jsxs(Ae.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:g,onDoubleClick:w,className:`relative ${r}`,"data-testid":s,children:[y.jsx(Ae.div,{className:`absolute -top-1 -right-1 sm:-top-2 sm:-right-2 w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center z-10 transition-colors ${l?"bg-green-500 text-white":d?"bg-green-100 text-green-600":"bg-orange-400 text-white"}`,animate:l?{scale:[1,1.2,1]}:{},transition:{repeat:l?1/0:0,duration:.5},children:y.jsx(F0,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),t,!d&&y.jsx("div",{className:"absolute -bottom-5 sm:-bottom-6 left-0 right-0 text-center",children:y.jsx("span",{className:"text-[10px] sm:text-xs text-orange-600 font-medium bg-orange-50 px-2 py-0.5 rounded-full",children:""})}),d&&!l&&y.jsx("div",{className:"absolute -bottom-5 sm:-bottom-6 left-0 right-0 text-center",children:y.jsx("span",{className:"text-[10px] sm:text-xs text-green-600 font-medium bg-green-50 px-2 py-0.5 rounded-full",children:""})})]})}const If=[{name:"",hex:"#FF6B6B",id:"red"},{name:"",hex:"#4D96FF",id:"blue"},{name:"",hex:"#6BCB77",id:"green"},{name:"",hex:"#FFD93D",id:"yellow"},{name:"",hex:"#9D4EDD",id:"purple"},{name:"",hex:"#FF9F45",id:"orange"},{name:"",hex:"#FF99CC",id:"pink"},{name:"",hex:"#8D6E63",id:"brown"}];function LW(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(If[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),w=()=>{if(t>=10){h(!0);return}const E=If[Math.floor(Math.random()*If.length)];o(E);const T=If.filter(O=>O.id!==E.id).sort(()=>.5-Math.random()).slice(0,3),N=[E,...T].sort(()=>.5-Math.random());c(N)};x.useEffect(()=>{w()},[t]);const S=E=>{E===s.id?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:[s.hex]}),r(T=>T+10),setTimeout(()=>e(T=>T+1),500)):(g(!0),setTimeout(()=>g(!1),500))},R=()=>{e(0),r(0),h(!1),w()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"color",isGameOver:d,onRestart:R,colorClass:"bg-[hsl(var(--macaron-pink))] text-[hsl(var(--macaron-pink-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-12",children:[y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"w-32 h-32 sm:w-40 sm:h-40 md:w-64 md:h-64 rounded-[2rem] md:rounded-[3rem] shadow-2xl border-4 md:border-8 border-white",style:{backgroundColor:s.hex}}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:""}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2 mt-2",children:l.map((E,T)=>y.jsx(Go,{speakText:E.name,onSelect:()=>S(E.id),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-3 sm:py-4 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-pink-dark))] hover:bg-white/90","data-testid":`button-color-${E.id}`,children:E.name},E.id+T))})]})})})}function FW(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState({a:0,b:0,op:"+",ans:0}),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),w=()=>{if(t>=10){h(!0);return}const E=Math.random()>.3;let T,N,O;E?(T=Math.floor(Math.random()*10)+1,N=Math.floor(Math.random()*10)+1,O=T+N,o({a:T,b:N,op:"+",ans:O})):(T=Math.floor(Math.random()*10)+5,N=Math.floor(Math.random()*5)+1,O=T-N,o({a:T,b:N,op:"-",ans:O}));const j=new Set;for(j.add(O);j.size<4;){const z=O+Math.floor(Math.random()*6)-3;z>=0&&z!==O&&j.add(z)}c(Array.from(j).sort(()=>.5-Math.random()))};x.useEffect(()=>{w()},[t]);const S=E=>{E===s.ans?(Pt({particleCount:30,spread:50,colors:["#4D96FF"]}),r(T=>T+10),setTimeout(()=>e(T=>T+1),500)):(g(!0),setTimeout(()=>g(!1),500))},R=()=>{e(0),r(0),h(!1),w()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"math",isGameOver:d,onRestart:R,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6 md:gap-8",children:[s.op==="+"&&s.a+s.b<=10&&y.jsxs("div",{className:"flex gap-4 sm:gap-6 md:gap-8 items-center bg-white/30 p-3 sm:p-4 rounded-2xl md:rounded-3xl",children:[y.jsx("div",{className:"flex gap-0.5 sm:gap-1 flex-wrap justify-center max-w-[80px] sm:max-w-[100px] md:max-w-[120px]",children:Array.from({length:s.a}).map((E,T)=>y.jsx(Tv,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 fill-red-400 text-red-600"},`a-${T}`))}),y.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl font-black",children:"+"}),y.jsx("div",{className:"flex gap-0.5 sm:gap-1 flex-wrap justify-center max-w-[80px] sm:max-w-[100px] md:max-w-[120px]",children:Array.from({length:s.b}).map((E,T)=>y.jsx(Tv,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 fill-red-400 text-red-600"},`b-${T}`))})]}),y.jsx(Ae.div,{animate:{x:m?[-10,10,-10,10,0]:0},className:"bg-white/80 backdrop-blur-md px-6 py-4 sm:px-8 sm:py-6 md:px-12 md:py-8 rounded-xl sm:rounded-2xl md:rounded-[2rem] shadow-lg border-b-4 md:border-b-8 border-black/5",children:y.jsxs("span",{className:"font-display text-4xl sm:text-5xl md:text-7xl font-black tracking-wider text-[hsl(var(--macaron-blue-dark))]",children:[s.a," ",s.op," ",s.b," = ?"]})}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg mt-4 sm:mt-6 px-2",children:l.map((E,T)=>y.jsx(Go,{speakText:String(E),onSelect:()=>S(E),className:"btn-macaron bg-white text-2xl sm:text-3xl md:text-4xl py-4 sm:py-6 md:py-8 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-blue-dark))] hover:bg-white/90","data-testid":`button-math-${E}`,children:E},T))})]})})})}const Af=[{word:"Apple",chinese:"",emoji:""},{word:"Dog",chinese:"",emoji:""},{word:"Cat",chinese:"",emoji:""},{word:"Car",chinese:"",emoji:""},{word:"Ball",chinese:"",emoji:""},{word:"Sun",chinese:"",emoji:""},{word:"Book",chinese:"",emoji:""},{word:"Fish",chinese:"",emoji:""},{word:"Tree",chinese:"",emoji:""},{word:"House",chinese:"",emoji:""},{word:"Star",chinese:"",emoji:""},{word:"Moon",chinese:"",emoji:""}];function UW(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(Af[0]),[l,c]=x.useState([]),[d,h]=x.useState("emoji-to-word"),[m,g]=x.useState(!1),[w,S]=x.useState(!1),R=()=>{if(t>=10){g(!0);return}const N=Af[Math.floor(Math.random()*Af.length)];o(N),h(Math.random()>.5?"emoji-to-word":"word-to-emoji");const O=Af.filter(j=>j.word!==N.word).sort(()=>.5-Math.random()).slice(0,3);c([N,...O].sort(()=>.5-Math.random()))};x.useEffect(()=>{R()},[t]);const E=N=>{N===s.word?(Pt({particleCount:30,spread:50,colors:["#6BCB77"]}),r(O=>O+10),setTimeout(()=>e(O=>O+1),500)):(S(!0),setTimeout(()=>S(!1),500))},T=()=>{e(0),r(0),g(!1),R()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"english",isGameOver:m,onRestart:T,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 sm:gap-8 md:gap-10",children:[y.jsx(Ae.div,{animate:{rotate:w?[-5,5,-5,5,0]:0},className:"bg-white/80 backdrop-blur-md p-6 sm:p-8 md:p-10 rounded-full shadow-lg w-36 h-36 sm:w-44 sm:h-44 md:w-56 md:h-56 flex items-center justify-center border-4 sm:border-6 md:border-8 border-white",children:d==="emoji-to-word"?y.jsx("span",{className:"text-6xl sm:text-7xl md:text-9xl filter drop-shadow-md",children:s.emoji}):y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"font-display text-2xl sm:text-3xl md:text-4xl font-bold block",children:s.word}),y.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground",children:["(",s.chinese,")"]})]})}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold opacity-90",children:d==="emoji-to-word"?"":""}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:l.map((N,O)=>y.jsx(Go,{speakText:d==="emoji-to-word"?`${N.word}${N.chinese}`:N.chinese,onSelect:()=>E(N.word),className:"btn-macaron bg-white py-3 sm:py-4 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-green-dark))] hover:bg-white/90","data-testid":`button-english-${N.word.toLowerCase()}`,children:d==="emoji-to-word"?y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-lg sm:text-xl md:text-2xl font-bold font-display block",children:N.word}),y.jsxs("span",{className:"text-sm sm:text-base md:text-lg text-muted-foreground",children:["(",N.chinese,")"]})]}):y.jsx("span",{className:"text-4xl sm:text-5xl md:text-6xl",children:N.emoji})},O))})]})})})}function BW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const km=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Rw(t){return"nodeType"in t}function ur(t){var e,n;return t?Nc(t)?t:Rw(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function kw(t){const{Document:e}=ur(t);return t instanceof e}function Zd(t){return Nc(t)?!1:t instanceof ur(t).HTMLElement}function q2(t){return t instanceof ur(t).SVGElement}function Dc(t){return t?Nc(t)?t.document:Rw(t)?kw(t)?t:Zd(t)||q2(t)?t.ownerDocument:document:document:document}const Zs=km?x.useLayoutEffect:x.useEffect;function Pw(t){const e=x.useRef(t);return Zs(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function zW(){const t=x.useRef(null),e=x.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Ad(t,e){e===void 0&&(e=[t]);const n=x.useRef(t);return Zs(()=>{n.current!==t&&(n.current=t)},e),n}function Yd(t,e){const n=x.useRef();return x.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Up(t){const e=Pw(t),n=x.useRef(null),r=x.useCallback(s=>{s!==n.current&&e?.(s,n.current),n.current=s},[]);return[n,r]}function b0(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let Yy={};function Xd(t,e){return x.useMemo(()=>{if(e)return e;const n=Yy[t]==null?0:Yy[t]+1;return Yy[t]=n,t+"-"+n},[t,e])}function W2(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,l)=>{const c=Object.entries(l);for(const[d,h]of c){const m=o[d];m!=null&&(o[d]=m+t*h)}return o},{...e})}}const ec=W2(1),Bp=W2(-1);function $W(t){return"clientX"in t&&"clientY"in t}function Nw(t){if(!t)return!1;const{KeyboardEvent:e}=ur(t.target);return e&&t instanceof e}function qW(t){if(!t)return!1;const{TouchEvent:e}=ur(t.target);return e&&t instanceof e}function T0(t){if(qW(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return $W(t)?{x:t.clientX,y:t.clientY}:null}const Rd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Rd.Translate.toString(t),Rd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),MS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function WW(t){return t.matches(MS)?t:t.querySelector(MS)}const HW={display:"none"};function GW(t){let{id:e,value:n}=t;return zt.createElement("div",{id:e,style:HW},n)}function KW(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return zt.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function QW(){const[t,e]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const H2=x.createContext(null);function ZW(t){const e=x.useContext(H2);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function YW(){const[t]=x.useState(()=>new Set),e=x.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[x.useCallback(r=>{let{type:s,event:o}=r;t.forEach(l=>{var c;return(c=l[s])==null?void 0:c.call(l,o)})},[t]),e]}const XW={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JW={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function eH(t){let{announcements:e=JW,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=XW}=t;const{announce:o,announcement:l}=QW(),c=Xd("DndLiveRegion"),[d,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),ZW(x.useMemo(()=>({onDragStart(g){let{active:w}=g;o(e.onDragStart({active:w}))},onDragMove(g){let{active:w,over:S}=g;e.onDragMove&&o(e.onDragMove({active:w,over:S}))},onDragOver(g){let{active:w,over:S}=g;o(e.onDragOver({active:w,over:S}))},onDragEnd(g){let{active:w,over:S}=g;o(e.onDragEnd({active:w,over:S}))},onDragCancel(g){let{active:w,over:S}=g;o(e.onDragCancel({active:w,over:S}))}}),[o,e])),!d)return null;const m=zt.createElement(zt.Fragment,null,zt.createElement(GW,{id:r,value:s.draggable}),zt.createElement(KW,{id:c,announcement:l}));return n?vi.createPortal(m,n):m}var ln;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ln||(ln={}));function zp(){}const ps=Object.freeze({x:0,y:0});function tH(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nH(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function rH(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function sH(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function OS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const iH=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=OS(e,e.left,e.top),o=[];for(const l of r){const{id:c}=l,d=n.get(c);if(d){const h=tH(OS(d),s);o.push({id:c,data:{droppableContainer:l,value:h}})}}return o.sort(nH)};function oH(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),l=s-r,c=o-n;if(r<s&&n<o){const d=e.width*e.height,h=t.width*t.height,m=l*c,g=m/(d+h-m);return Number(g.toFixed(4))}return 0}const aH=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const d=oH(c,e);d>0&&s.push({id:l,data:{droppableContainer:o,value:d}})}}return s.sort(rH)};function lH(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function G2(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ps}function cH(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>({...l,top:l.top+t*c.y,bottom:l.bottom+t*c.y,left:l.left+t*c.x,right:l.right+t*c.x}),{...n})}}const uH=cH(1);function dH(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function hH(t,e,n){const r=dH(e);if(!r)return t;const{scaleX:s,scaleY:o,x:l,y:c}=r,d=t.left-l-(1-s)*parseFloat(n),h=t.top-c-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),m=s?t.width/s:t.width,g=o?t.height/o:t.height;return{width:m,height:g,top:h,right:d+m,bottom:h+g,left:d}}const fH={ignoreTransform:!1};function Mc(t,e){e===void 0&&(e=fH);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:m}=ur(t).getComputedStyle(t);h&&(n=hH(n,h,m))}const{top:r,left:s,width:o,height:l,bottom:c,right:d}=n;return{top:r,left:s,width:o,height:l,bottom:c,right:d}}function jS(t){return Mc(t,{ignoreTransform:!0})}function pH(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function mH(t,e){return e===void 0&&(e=ur(t).getComputedStyle(t)),e.position==="fixed"}function gH(t,e){e===void 0&&(e=ur(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function Dw(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(kw(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Zd(s)||q2(s)||n.includes(s))return n;const o=ur(t).getComputedStyle(s);return s!==t&&gH(s,o)&&n.push(s),mH(s,o)?n:r(s.parentNode)}return t?r(t):n}function K2(t){const[e]=Dw(t,1);return e??null}function Xy(t){return!km||!t?null:Nc(t)?t:Rw(t)?kw(t)||t===Dc(t).scrollingElement?window:Zd(t)?t:null:null}function Q2(t){return Nc(t)?t.scrollX:t.scrollLeft}function Z2(t){return Nc(t)?t.scrollY:t.scrollTop}function E0(t){return{x:Q2(t),y:Z2(t)}}var xn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(xn||(xn={}));function Y2(t){return!km||!t?!1:t===document.scrollingElement}function X2(t){const e={x:0,y:0},n=Y2(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const yH={x:.2,y:.2};function vH(t,e,n,r,s){let{top:o,left:l,right:c,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=yH);const{isTop:h,isBottom:m,isLeft:g,isRight:w}=X2(t),S={x:0,y:0},R={x:0,y:0},E={height:e.height*s.y,width:e.width*s.x};return!h&&o<=e.top+E.height?(S.y=xn.Backward,R.y=r*Math.abs((e.top+E.height-o)/E.height)):!m&&d>=e.bottom-E.height&&(S.y=xn.Forward,R.y=r*Math.abs((e.bottom-E.height-d)/E.height)),!w&&c>=e.right-E.width?(S.x=xn.Forward,R.x=r*Math.abs((e.right-E.width-c)/E.width)):!g&&l<=e.left+E.width&&(S.x=xn.Backward,R.x=r*Math.abs((e.left+E.width-l)/E.width)),{direction:S,speed:R}}function xH(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function J2(t){return t.reduce((e,n)=>ec(e,E0(n)),ps)}function wH(t){return t.reduce((e,n)=>e+Q2(n),0)}function _H(t){return t.reduce((e,n)=>e+Z2(n),0)}function bH(t,e){if(e===void 0&&(e=Mc),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);K2(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const TH=[["x",["left","right"],wH],["y",["top","bottom"],_H]];class Mw{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Dw(n),s=J2(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,l,c]of TH)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(r),m=s[o]-h;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ku{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function EH(t){const{EventTarget:e}=ur(t);return t instanceof e?t:Dc(t)}function Jy(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ur;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ur||(Ur={}));function VS(t){t.preventDefault()}function SH(t){t.stopPropagation()}var ht;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ht||(ht={}));const eN={start:[ht.Space,ht.Enter],cancel:[ht.Esc],end:[ht.Space,ht.Enter,ht.Tab]},CH=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ht.Right:return{...n,x:n.x+25};case ht.Left:return{...n,x:n.x-25};case ht.Down:return{...n,y:n.y+25};case ht.Up:return{...n,y:n.y-25}}};class tN{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ku(Dc(n)),this.windowListeners=new Ku(ur(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ur.Resize,this.handleCancel),this.windowListeners.add(Ur.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ur.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&bH(r),n(ps)}handleKeyDown(e){if(Nw(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=eN,coordinateGetter:l=CH,scrollBehavior:c="smooth"}=s,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:h}=r.current,m=h?{x:h.left,y:h.top}:ps;this.referenceCoordinates||(this.referenceCoordinates=m);const g=l(e,{active:n,context:r.current,currentCoordinates:m});if(g){const w=Bp(g,m),S={x:0,y:0},{scrollableAncestors:R}=r.current;for(const E of R){const T=e.code,{isTop:N,isRight:O,isLeft:j,isBottom:z,maxScroll:M,minScroll:V}=X2(E),A=xH(E),I={x:Math.min(T===ht.Right?A.right-A.width/2:A.right,Math.max(T===ht.Right?A.left:A.left+A.width/2,g.x)),y:Math.min(T===ht.Down?A.bottom-A.height/2:A.bottom,Math.max(T===ht.Down?A.top:A.top+A.height/2,g.y))},k=T===ht.Right&&!O||T===ht.Left&&!j,U=T===ht.Down&&!z||T===ht.Up&&!N;if(k&&I.x!==g.x){const B=E.scrollLeft+w.x,$=T===ht.Right&&B<=M.x||T===ht.Left&&B>=V.x;if($&&!w.y){E.scrollTo({left:B,behavior:c});return}$?S.x=E.scrollLeft-B:S.x=T===ht.Right?E.scrollLeft-M.x:E.scrollLeft-V.x,S.x&&E.scrollBy({left:-S.x,behavior:c});break}else if(U&&I.y!==g.y){const B=E.scrollTop+w.y,$=T===ht.Down&&B<=M.y||T===ht.Up&&B>=V.y;if($&&!w.x){E.scrollTo({top:B,behavior:c});return}$?S.y=E.scrollTop-B:S.y=T===ht.Down?E.scrollTop-M.y:E.scrollTop-V.y,S.y&&E.scrollBy({top:-S.y,behavior:c});break}}this.handleMove(e,ec(Bp(g,this.referenceCoordinates),S))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}tN.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=eN,onActivation:s}=e,{active:o}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),s?.({event:t.nativeEvent}),!0)}return!1}}];function LS(t){return!!(t&&"distance"in t)}function FS(t){return!!(t&&"delay"in t)}class Ow{constructor(e,n,r){var s;r===void 0&&(r=EH(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:l}=o;this.props=e,this.events=n,this.document=Dc(l),this.documentListeners=new Ku(this.document),this.listeners=new Ku(r),this.windowListeners=new Ku(ur(l)),this.initialCoordinates=(s=T0(o))!=null?s:ps,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ur.Resize,this.handleCancel),this.windowListeners.add(Ur.DragStart,VS),this.windowListeners.add(Ur.VisibilityChange,this.handleCancel),this.windowListeners.add(Ur.ContextMenu,VS),this.documentListeners.add(Ur.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(FS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(LS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ur.Click,SH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ur.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:l,options:{activationConstraint:c}}=o;if(!s)return;const d=(n=T0(e))!=null?n:ps,h=Bp(s,d);if(!r&&c){if(LS(c)){if(c.tolerance!=null&&Jy(h,c.tolerance))return this.handleCancel();if(Jy(h,c.distance))return this.handleStart()}if(FS(c)&&Jy(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ht.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const IH={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class nN extends Ow{constructor(e){const{event:n}=e,r=Dc(n.target);super(e,IH,r)}}nN.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const AH={move:{name:"mousemove"},end:{name:"mouseup"}};var S0;(function(t){t[t.RightClick=2]="RightClick"})(S0||(S0={}));class RH extends Ow{constructor(e){super(e,AH,Dc(e.event.target))}}RH.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===S0.RightClick?!1:(r?.({event:n}),!0)}}];const ev={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kH extends Ow{constructor(e){super(e,ev)}static setup(){return window.addEventListener(ev.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ev.move.name,e)};function e(){}}}kH.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var Qu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Qu||(Qu={}));var $p;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})($p||($p={}));function PH(t){let{acceleration:e,activator:n=Qu.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:l=5,order:c=$p.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:m,delta:g,threshold:w}=t;const S=DH({delta:g,disabled:!o}),[R,E]=zW(),T=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),O=x.useMemo(()=>{switch(n){case Qu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Qu.DraggableRect:return s}},[n,s,d]),j=x.useRef(null),z=x.useCallback(()=>{const V=j.current;if(!V)return;const A=T.current.x*N.current.x,I=T.current.y*N.current.y;V.scrollBy(A,I)},[]),M=x.useMemo(()=>c===$p.TreeOrder?[...h].reverse():h,[c,h]);x.useEffect(()=>{if(!o||!h.length||!O){E();return}for(const V of M){if(r?.(V)===!1)continue;const A=h.indexOf(V),I=m[A];if(!I)continue;const{direction:k,speed:U}=vH(V,I,O,e,w);for(const B of["x","y"])S[B][k[B]]||(U[B]=0,k[B]=0);if(U.x>0||U.y>0){E(),j.current=V,R(z,l),T.current=U,N.current=k;return}}T.current={x:0,y:0},N.current={x:0,y:0},E()},[e,z,r,E,o,l,JSON.stringify(O),JSON.stringify(S),R,h,M,m,JSON.stringify(w)])}const NH={x:{[xn.Backward]:!1,[xn.Forward]:!1},y:{[xn.Backward]:!1,[xn.Forward]:!1}};function DH(t){let{delta:e,disabled:n}=t;const r=b0(e);return Yd(s=>{if(n||!r||!s)return NH;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[xn.Backward]:s.x[xn.Backward]||o.x===-1,[xn.Forward]:s.x[xn.Forward]||o.x===1},y:{[xn.Backward]:s.y[xn.Backward]||o.y===-1,[xn.Forward]:s.y[xn.Forward]||o.y===1}}},[n,e,r])}function MH(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Yd(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function OH(t,e){return x.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...o]},[]),[t,e])}var kd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(kd||(kd={}));var C0;(function(t){t.Optimized="optimized"})(C0||(C0={}));const US=new Map;function jH(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,l]=x.useState(null),{frequency:c,measure:d,strategy:h}=s,m=x.useRef(t),g=T(),w=Ad(g),S=x.useCallback(function(N){N===void 0&&(N=[]),!w.current&&l(O=>O===null?N:O.concat(N.filter(j=>!O.includes(j))))},[w]),R=x.useRef(null),E=Yd(N=>{if(g&&!n)return US;if(!N||N===US||m.current!==t||o!=null){const O=new Map;for(let j of t){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){O.set(j.id,j.rect.current);continue}const z=j.node.current,M=z?new Mw(d(z),z):null;j.rect.current=M,M&&O.set(j.id,M)}return O}return N},[t,o,n,g,d]);return x.useEffect(()=>{m.current=t},[t]),x.useEffect(()=>{g||S()},[n,g]),x.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),x.useEffect(()=>{g||typeof c!="number"||R.current!==null||(R.current=setTimeout(()=>{S(),R.current=null},c))},[c,g,S,...r]),{droppableRects:E,measureDroppableContainers:S,measuringScheduled:o!=null};function T(){switch(h){case kd.Always:return!1;case kd.BeforeDragging:return n;default:return!n}}}function rN(t,e){return Yd(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function VH(t,e){return rN(t,e)}function LH(t){let{callback:e,disabled:n}=t;const r=Pw(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function Pm(t){let{callback:e,disabled:n}=t;const r=Pw(e),s=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return x.useEffect(()=>()=>s?.disconnect(),[s]),s}function FH(t){return new Mw(Mc(t),t)}function BS(t,e,n){e===void 0&&(e=FH);const[r,s]=x.useState(null);function o(){s(d=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=d??n)!=null?h:null}const m=e(t);return JSON.stringify(d)===JSON.stringify(m)?d:m})}const l=LH({callback(d){if(t)for(const h of d){const{type:m,target:g}=h;if(m==="childList"&&g instanceof HTMLElement&&g.contains(t)){o();break}}}}),c=Pm({callback:o});return Zs(()=>{o(),t?(c?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[t]),r}function UH(t){const e=rN(t);return G2(t,e)}const zS=[];function BH(t){const e=x.useRef(t),n=Yd(r=>t?r&&r!==zS&&t&&e.current&&t.parentNode===e.current.parentNode?r:Dw(t):zS,[t]);return x.useEffect(()=>{e.current=t},[t]),n}function zH(t){const[e,n]=x.useState(null),r=x.useRef(t),s=x.useCallback(o=>{const l=Xy(o.target);l&&n(c=>c?(c.set(l,E0(l)),new Map(c)):null)},[]);return x.useEffect(()=>{const o=r.current;if(t!==o){l(o);const c=t.map(d=>{const h=Xy(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,E0(h)]):null}).filter(d=>d!=null);n(c.length?new Map(c):null),r.current=t}return()=>{l(t),l(o)};function l(c){c.forEach(d=>{const h=Xy(d);h?.removeEventListener("scroll",s)})}},[s,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,l)=>ec(o,l),ps):J2(t):ps,[t,e])}function $S(t,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const r=t!==ps;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Bp(t,n.current):ps}function $H(t){x.useEffect(()=>{if(!km)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function qH(t,e){return x.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=l=>{o(l,e)},n},{}),[t,e])}function sN(t){return x.useMemo(()=>t?pH(t):null,[t])}const qS=[];function WH(t,e){e===void 0&&(e=Mc);const[n]=t,r=sN(n?ur(n):null),[s,o]=x.useState(qS);function l(){o(()=>t.length?t.map(d=>Y2(d)?r:new Mw(e(d),d)):qS)}const c=Pm({callback:l});return Zs(()=>{c?.disconnect(),l(),t.forEach(d=>c?.observe(d))},[t]),s}function HH(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zd(e)?e:t}function GH(t){let{measure:e}=t;const[n,r]=x.useState(null),s=x.useCallback(h=>{for(const{target:m}of h)if(Zd(m)){r(g=>{const w=e(m);return g?{...g,width:w.width,height:w.height}:w});break}},[e]),o=Pm({callback:s}),l=x.useCallback(h=>{const m=HH(h);o?.disconnect(),m&&o?.observe(m),r(m?e(m):null)},[e,o]),[c,d]=Up(l);return x.useMemo(()=>({nodeRef:c,rect:n,setRef:d}),[n,c,d])}const KH=[{sensor:nN,options:{}},{sensor:tN,options:{}}],QH={current:{}},Xf={draggable:{measure:jS},droppable:{measure:jS,strategy:kd.WhileDragging,frequency:C0.Optimized},dragOverlay:{measure:Mc}};class Zu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const ZH={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xf,measureDroppableContainers:zp,windowRect:null,measuringScheduled:!1},YH={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zp,draggableNodes:new Map,over:null,measureDroppableContainers:zp},Nm=x.createContext(YH),iN=x.createContext(ZH);function XH(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zu}}}function JH(t,e){switch(e.type){case ln.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ln.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ln.DragEnd:case ln.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ln.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Zu(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case ln.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const l=new Zu(t.droppable.containers);return l.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:l}}}case ln.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Zu(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function eG(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=x.useContext(Nm),o=b0(r),l=b0(n?.id);return x.useEffect(()=>{if(!e&&!r&&o&&l!=null){if(!Nw(o)||document.activeElement===o.target)return;const c=s.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const m of[d.current,h.current]){if(!m)continue;const g=WW(m);if(g){g.focus();break}}})}},[r,e,s,l,o]),null}function tG(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function nG(t){return x.useMemo(()=>({draggable:{...Xf.draggable,...t?.draggable},droppable:{...Xf.droppable,...t?.droppable},dragOverlay:{...Xf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function rG(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=x.useRef(!1),{x:l,y:c}=typeof s=="boolean"?{x:s,y:s}:s;Zs(()=>{if(!l&&!c||!e){o.current=!1;return}if(o.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const m=n(h),g=G2(m,r);if(l||(g.x=0),c||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const w=K2(h);w&&w.scrollBy({top:g.y,left:g.x})}},[e,l,c,r,n])}const oN=x.createContext({...ps,scaleX:1,scaleY:1});var uo;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(uo||(uo={}));const Oc=x.memo(function(e){var n,r,s,o;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:m=KH,collisionDetection:g=aH,measuring:w,modifiers:S,...R}=e;const E=x.useReducer(JH,void 0,XH),[T,N]=E,[O,j]=YW(),[z,M]=x.useState(uo.Uninitialized),V=z===uo.Initialized,{draggable:{active:A,nodes:I,translate:k},droppable:{containers:U}}=T,B=A!=null?I.get(A):null,$=x.useRef({initial:null,translated:null}),F=x.useMemo(()=>{var Je;return A!=null?{id:A,data:(Je=B?.data)!=null?Je:QH,rect:$}:null},[A,B]),te=x.useRef(null),[Ie,ke]=x.useState(null),[pe,ee]=x.useState(null),re=Ad(R,Object.values(R)),W=Xd("DndDescribedBy",l),D=x.useMemo(()=>U.getEnabled(),[U]),K=nG(w),{droppableRects:ie,measureDroppableContainers:ce,measuringScheduled:me}=jH(D,{dragging:V,dependencies:[k.x,k.y],config:K.droppable}),fe=MH(I,A),de=x.useMemo(()=>pe?T0(pe):null,[pe]),ye=Hr(),Ee=VH(fe,K.draggable.measure);rG({activeNode:A!=null?I.get(A):null,config:ye.layoutShiftCompensation,initialRect:Ee,measure:K.draggable.measure});const _e=BS(fe,K.draggable.measure,Ee),Ye=BS(fe?fe.parentElement:null),Ke=x.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=U.getNodeFor((n=Ke.current.over)==null?void 0:n.id),je=GH({measure:K.dragOverlay.measure}),vt=(r=je.nodeRef.current)!=null?r:fe,bt=V?(s=je.rect)!=null?s:_e:null,Vt=!!(je.nodeRef.current&&je.rect),dn=UH(Vt?null:_e),ct=sN(vt?ur(vt):null),Qe=BH(V?et??fe:null),hn=WH(Qe),Ir=tG(S,{transform:{x:k.x-dn.x,y:k.y-dn.y,scaleX:1,scaleY:1},activatorEvent:pe,active:F,activeNodeRect:_e,containerNodeRect:Ye,draggingNodeRect:bt,over:Ke.current.over,overlayNodeRect:je.rect,scrollableAncestors:Qe,scrollableAncestorRects:hn,windowRect:ct}),gs=de?ec(de,k):null,ys=zH(Qe),Ar=$S(ys),vs=$S(ys,[_e]),Kn=ec(Ir,Ar),_n=bt?uH(bt,Ir):null,dr=F&&_n?g({active:F,collisionRect:_n,droppableRects:ie,droppableContainers:D,pointerCoordinates:gs}):null,hr=sH(dr,"id"),[Wt,Xs]=x.useState(null),Rr=Vt?Ir:ec(Ir,vs),Oi=lH(Rr,(o=Wt?.rect)!=null?o:null,_e),Js=x.useRef(null),tr=x.useCallback((Je,rn)=>{let{sensor:Lt,options:bn}=rn;if(te.current==null)return;const Tn=I.get(te.current);if(!Tn)return;const fn=Je.nativeEvent,Ht=new Lt({active:te.current,activeNode:Tn,event:fn,options:bn,context:Ke,onAbort(Tt){if(!I.get(Tt))return;const{onDragAbort:sn}=re.current,nr={id:Tt};sn?.(nr),O({type:"onDragAbort",event:nr})},onPending(Tt,En,sn,nr){if(!I.get(Tt))return;const{onDragPending:Dn}=re.current,Zn={id:Tt,constraint:En,initialCoordinates:sn,offset:nr};Dn?.(Zn),O({type:"onDragPending",event:Zn})},onStart(Tt){const En=te.current;if(En==null)return;const sn=I.get(En);if(!sn)return;const{onDragStart:nr}=re.current,Qn={activatorEvent:fn,active:{id:En,data:sn.data,rect:$}};vi.unstable_batchedUpdates(()=>{nr?.(Qn),M(uo.Initializing),N({type:ln.DragStart,initialCoordinates:Tt,active:En}),O({type:"onDragStart",event:Qn}),ke(Js.current),ee(fn)})},onMove(Tt){N({type:ln.DragMove,coordinates:Tt})},onEnd:Gr(ln.DragEnd),onCancel:Gr(ln.DragCancel)});Js.current=Ht;function Gr(Tt){return async function(){const{active:sn,collisions:nr,over:Qn,scrollAdjustedTranslate:Dn}=Ke.current;let Zn=null;if(sn&&Dn){const{cancelDrop:pn}=re.current;Zn={activatorEvent:fn,active:sn,collisions:nr,delta:Dn,over:Qn},Tt===ln.DragEnd&&typeof pn=="function"&&await Promise.resolve(pn(Zn))&&(Tt=ln.DragCancel)}te.current=null,vi.unstable_batchedUpdates(()=>{N({type:Tt}),M(uo.Uninitialized),Xs(null),ke(null),ee(null),Js.current=null;const pn=Tt===ln.DragEnd?"onDragEnd":"onDragCancel";if(Zn){const Li=re.current[pn];Li?.(Zn),O({type:pn,event:Zn})}})}}},[I]),ji=x.useCallback((Je,rn)=>(Lt,bn)=>{const Tn=Lt.nativeEvent,fn=I.get(bn);if(te.current!==null||!fn||Tn.dndKit||Tn.defaultPrevented)return;const Ht={active:fn};Je(Lt,rn.options,Ht)===!0&&(Tn.dndKit={capturedBy:rn.sensor},te.current=bn,tr(Lt,rn))},[I,tr]),qr=OH(m,ji);$H(m),Zs(()=>{_e&&z===uo.Initializing&&M(uo.Initialized)},[_e,z]),x.useEffect(()=>{const{onDragMove:Je}=re.current,{active:rn,activatorEvent:Lt,collisions:bn,over:Tn}=Ke.current;if(!rn||!Lt)return;const fn={active:rn,activatorEvent:Lt,collisions:bn,delta:{x:Kn.x,y:Kn.y},over:Tn};vi.unstable_batchedUpdates(()=>{Je?.(fn),O({type:"onDragMove",event:fn})})},[Kn.x,Kn.y]),x.useEffect(()=>{const{active:Je,activatorEvent:rn,collisions:Lt,droppableContainers:bn,scrollAdjustedTranslate:Tn}=Ke.current;if(!Je||te.current==null||!rn||!Tn)return;const{onDragOver:fn}=re.current,Ht=bn.get(hr),Gr=Ht&&Ht.rect.current?{id:Ht.id,rect:Ht.rect.current,data:Ht.data,disabled:Ht.disabled}:null,Tt={active:Je,activatorEvent:rn,collisions:Lt,delta:{x:Tn.x,y:Tn.y},over:Gr};vi.unstable_batchedUpdates(()=>{Xs(Gr),fn?.(Tt),O({type:"onDragOver",event:Tt})})},[hr]),Zs(()=>{Ke.current={activatorEvent:pe,active:F,activeNode:fe,collisionRect:_n,collisions:dr,droppableRects:ie,draggableNodes:I,draggingNode:vt,draggingNodeRect:bt,droppableContainers:U,over:Wt,scrollableAncestors:Qe,scrollAdjustedTranslate:Kn},$.current={initial:bt,translated:_n}},[F,fe,dr,_n,I,vt,bt,ie,U,Wt,Qe,Kn]),PH({...ye,delta:k,draggingRect:_n,pointerCoordinates:gs,scrollableAncestors:Qe,scrollableAncestorRects:hn});const Vi=x.useMemo(()=>({active:F,activeNode:fe,activeNodeRect:_e,activatorEvent:pe,collisions:dr,containerNodeRect:Ye,dragOverlay:je,draggableNodes:I,droppableContainers:U,droppableRects:ie,over:Wt,measureDroppableContainers:ce,scrollableAncestors:Qe,scrollableAncestorRects:hn,measuringConfiguration:K,measuringScheduled:me,windowRect:ct}),[F,fe,_e,pe,dr,Ye,je,I,U,ie,Wt,ce,Qe,hn,K,me,ct]),Wr=x.useMemo(()=>({activatorEvent:pe,activators:qr,active:F,activeNodeRect:_e,ariaDescribedById:{draggable:W},dispatch:N,draggableNodes:I,over:Wt,measureDroppableContainers:ce}),[pe,qr,F,_e,N,W,I,Wt,ce]);return zt.createElement(H2.Provider,{value:j},zt.createElement(Nm.Provider,{value:Wr},zt.createElement(iN.Provider,{value:Vi},zt.createElement(oN.Provider,{value:Oi},h)),zt.createElement(eG,{disabled:c?.restoreFocus===!1})),zt.createElement(eH,{...c,hiddenTextDescribedById:W}));function Hr(){const Je=Ie?.autoScrollEnabled===!1,rn=typeof d=="object"?d.enabled===!1:d===!1,Lt=V&&!Je&&!rn;return typeof d=="object"?{...d,enabled:Lt}:{enabled:Lt}}}),sG=x.createContext(null),WS="button",iG="Draggable";function jc(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=Xd(iG),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:m,draggableNodes:g,over:w}=x.useContext(Nm),{role:S=WS,roleDescription:R="draggable",tabIndex:E=0}=s??{},T=d?.id===e,N=x.useContext(T?oN:sG),[O,j]=Up(),[z,M]=Up(),V=qH(l,e),A=Ad(n);Zs(()=>(g.set(e,{id:e,key:o,node:O,activatorNode:z,data:A}),()=>{const k=g.get(e);k&&k.key===o&&g.delete(e)}),[g,e]);const I=x.useMemo(()=>({role:S,tabIndex:E,"aria-disabled":r,"aria-pressed":T&&S===WS?!0:void 0,"aria-roledescription":R,"aria-describedby":m.draggable}),[r,S,E,T,R,m.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:T,listeners:r?void 0:V,node:O,over:w,setNodeRef:j,setActivatorNodeRef:M,transform:N}}function oG(){return x.useContext(iN)}const aG="Droppable",lG={timeout:25};function Vc(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=Xd(aG),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=x.useContext(Nm),m=x.useRef({disabled:n}),g=x.useRef(!1),w=x.useRef(null),S=x.useRef(null),{disabled:R,updateMeasurementsFor:E,timeout:T}={...lG,...s},N=Ad(E??r),O=x.useCallback(()=>{if(!g.current){g.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{h(Array.isArray(N.current)?N.current:[N.current]),S.current=null},T)},[T]),j=Pm({callback:O,disabled:R||!l}),z=x.useCallback((I,k)=>{j&&(k&&(j.unobserve(k),g.current=!1),I&&j.observe(I))},[j]),[M,V]=Up(z),A=Ad(e);return x.useEffect(()=>{!j||!M.current||(j.disconnect(),g.current=!1,j.observe(M.current))},[M,j]),x.useEffect(()=>(c({type:ln.RegisterDroppable,element:{id:r,key:o,disabled:n,node:M,rect:w,data:A}}),()=>c({type:ln.UnregisterDroppable,key:o,id:r})),[r]),x.useEffect(()=>{n!==m.current.disabled&&(c({type:ln.SetDroppableDisabled,id:r,key:o,disabled:n}),m.current.disabled=n)},[r,o,n,c]),{active:l,rect:w,isOver:d?.id===r,node:M,over:d,setNodeRef:V}}const HS=[{id:"circle",name:"",color:"hsl(var(--macaron-pink))"},{id:"square",name:"",color:"hsl(var(--macaron-blue))"},{id:"triangle",name:"",color:"hsl(var(--macaron-green))"},{id:"star",name:"",color:"hsl(var(--macaron-yellow))"}];function Bl({shape:t,size:e=60,filled:n=!0,className:r=""}){const s={width:e,height:e};switch(t){case"circle":return y.jsx("div",{style:s,className:`rounded-full ${n?"bg-[hsl(var(--macaron-pink))]":"border-2 sm:border-4 border-dashed border-[hsl(var(--macaron-pink-dark))]"} ${r}`});case"square":return y.jsx("div",{style:s,className:`rounded-lg ${n?"bg-[hsl(var(--macaron-blue))]":"border-2 sm:border-4 border-dashed border-[hsl(var(--macaron-blue-dark))]"} ${r}`});case"triangle":return y.jsx("div",{style:{width:e,height:e*.866},className:`relative ${r}`,children:y.jsx("div",{className:n?"":"opacity-50",style:{width:0,height:0,borderLeft:`${e/2}px solid transparent`,borderRight:`${e/2}px solid transparent`,borderBottom:`${e*.866}px solid ${n?"hsl(var(--macaron-green))":"hsl(var(--macaron-green-dark))"}`}})});case"star":return y.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:n?"hsl(var(--macaron-yellow))":"none",stroke:n?"none":"hsl(var(--macaron-yellow-dark))",strokeWidth:"2",strokeDasharray:n?"0":"4",className:r,children:y.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})});default:return null}}function cG({id:t,shape:e}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,isDragging:l}=jc({id:t}),{speak:c}=Gn(),d=o?{transform:`translate(${o.x}px, ${o.y}px)`,zIndex:l?100:1,opacity:l?.8:1}:void 0;return y.jsxs(Ae.div,{ref:s,style:d,...r,...n,whileHover:{scale:1.1},whileTap:{scale:.95},className:"cursor-grab active:cursor-grabbing p-1.5 sm:p-2 bg-white/50 rounded-xl sm:rounded-2xl shadow-lg",onMouseEnter:()=>c(e.name),"data-testid":`draggable-${t}`,children:[y.jsx("div",{className:"hidden sm:block",children:y.jsx(Bl,{shape:t,size:70})}),y.jsx("div",{className:"sm:hidden",children:y.jsx(Bl,{shape:t,size:50})})]})}function uG({id:t,isCorrect:e,hasShape:n}){const{isOver:r,setNodeRef:s}=Vc({id:t});return y.jsxs("div",{ref:s,className:`
        w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all
        ${r?"scale-110 bg-white/60":"bg-white/30"}
        ${e===!0?"ring-2 sm:ring-4 ring-green-400 bg-green-100":""}
        ${e===!1?"ring-2 sm:ring-4 ring-red-400 animate-shake":""}
      `,"data-testid":`droppable-${t}`,children:[y.jsxs("div",{className:"hidden sm:block",children:[!n&&y.jsx(Bl,{shape:t,size:60,filled:!1}),n&&y.jsx(Bl,{shape:t,size:60,filled:!0})]}),y.jsxs("div",{className:"sm:hidden",children:[!n&&y.jsx(Bl,{shape:t,size:40,filled:!1}),n&&y.jsx(Bl,{shape:t,size:40,filled:!0})]})]})}function dG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,h]=x.useState({}),[m,g]=x.useState({}),[w,S]=x.useState(!1),{speak:R}=Gn(),E=()=>{if(t>=10){S(!0);return}const j=[...HS].sort(()=>.5-Math.random()).slice(0,3).map(M=>M.id),z=[...j].sort(()=>.5-Math.random());o(j),c(z),h({}),g({}),R("")};x.useEffect(()=>{E()},[t]);const T=O=>{const{active:j,over:z}=O;if(!z)return;const M=j.id,V=z.id;if(M===V){Pt({particleCount:20,spread:40,origin:{y:.6}}),R(""),h(I=>({...I,[V]:!0})),g(I=>({...I,[V]:!0})),c(I=>I.filter(k=>k!==M)),r(I=>I+10);const A={...d,[V]:!0};Object.keys(A).length===s.length&&setTimeout(()=>e(I=>I+1),800)}else R(""),g(A=>({...A,[V]:!1})),setTimeout(()=>g(A=>({...A,[V]:null})),500)},N=()=>{e(0),r(0),S(!1)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"shape",isGameOver:w,onRestart:N,colorClass:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))]",children:y.jsx(Oc,{onDragEnd:T,children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6 md:gap-8",children:[y.jsx("h3",{className:"font-display text-lg sm:text-xl md:text-2xl font-bold text-center",children:""}),y.jsx("div",{className:"bg-amber-100 p-3 sm:p-4 md:p-6 rounded-xl sm:rounded-2xl md:rounded-[2rem] shadow-inner border-2 sm:border-4 border-amber-200",children:y.jsx("div",{className:"flex gap-2 sm:gap-3 md:gap-4",children:s.map(O=>y.jsx(uG,{id:O,isCorrect:m[O],hasShape:d[O]||!1},O))})}),y.jsx("div",{className:"flex gap-2 sm:gap-3 md:gap-4 mt-2 sm:mt-4",children:l.map(O=>{const j=HS.find(z=>z.id===O);return y.jsx(cG,{id:O,shape:j},O)})})]})})})})}const tv=[{id:"do",name:"Do",frequency:261.63,animal:"",color:"hsl(var(--macaron-pink))"},{id:"re",name:"Re",frequency:293.66,animal:"",color:"hsl(var(--macaron-blue))"},{id:"mi",name:"Mi",frequency:329.63,animal:"",color:"hsl(var(--macaron-yellow))"},{id:"fa",name:"Fa",frequency:349.23,animal:"",color:"hsl(var(--macaron-green))"},{id:"sol",name:"Sol",frequency:392,animal:"",color:"hsl(var(--macaron-purple))"}],nv=[{name:"",notes:["do","do","sol","sol"]},{name:"",notes:["do","re","mi"]},{name:"",notes:["mi","re","do"]},{name:"",notes:["do","mi","sol"]},{name:"",notes:["do","re","do"]}];function GS(t,e=.3){const n=new(window.AudioContext||window.webkitAudioContext),r=n.createOscillator(),s=n.createGain();r.connect(s),s.connect(n.destination),r.frequency.value=t,r.type="sine",s.gain.setValueAtTime(.3,n.currentTime),s.gain.exponentialRampToValueAtTime(.01,n.currentTime+e),r.start(n.currentTime),r.stop(n.currentTime+e)}function hG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(nv[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(null),[w,S]=x.useState(!1),[R,E]=x.useState(null),{speak:T}=Gn(),N=x.useCallback(async()=>{h(!0),T("");for(let M=0;M<s.notes.length;M++){const V=s.notes[M],A=tv.find(I=>I.id===V);g(V),GS(A.frequency,.4),await new Promise(I=>setTimeout(I,600)),g(null),await new Promise(I=>setTimeout(I,200))}h(!1),T("")},[s,T]),O=()=>{if(t>=10){S(!0);return}const M=nv[Math.floor(Math.random()*nv.length)];o(M),c([]),E(null)};x.useEffect(()=>{O()},[t]),x.useEffect(()=>{if(s&&!w){const M=setTimeout(()=>N(),500);return()=>clearTimeout(M)}},[s,w]);const j=M=>{if(d)return;const V=tv.find(k=>k.id===M);GS(V.frequency),g(M),setTimeout(()=>g(null),200);const A=[...l,M];c(A);const I=s.notes[l.length];if(M!==I){T(""),E("wrong"),setTimeout(()=>{c([]),E(null)},1e3);return}A.length===s.notes.length&&(Pt({particleCount:40,spread:60,colors:["#FFC0CB","#87CEEB","#98FB98"]}),T(""),E("correct"),r(k=>k+10),setTimeout(()=>e(k=>k+1),1e3))},z=()=>{e(0),r(0),S(!1),c([])};return y.jsx(_t,{children:y.jsx(qt,{title:"DoReMi ",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"melody",isGameOver:w,onRestart:z,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6",children:[y.jsx("h3",{className:"font-display text-lg sm:text-xl md:text-2xl font-bold text-center px-2",children:d?"...":""}),y.jsx("div",{className:"flex gap-1.5 sm:gap-2 mb-2 sm:mb-4",children:s.notes.map((M,V)=>y.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full transition-all ${V<l.length?R==="wrong"?"bg-red-400":"bg-white":"bg-white/30"}`},V))}),y.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center px-2",children:tv.map(M=>y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},animate:{scale:m===M.id?1.2:1,boxShadow:m===M.id?"0 0 30px rgba(255,255,255,0.8)":"none"},onClick:()=>j(M.id),disabled:d,className:`
                  w-14 h-16 sm:w-18 sm:h-22 md:w-24 md:h-28 rounded-xl sm:rounded-2xl flex flex-col items-center justify-center gap-0.5 sm:gap-1
                  shadow-lg border-2 sm:border-4 border-white transition-all
                  ${d?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                `,style:{backgroundColor:M.color},"data-testid":`note-${M.id}`,children:[y.jsx("span",{className:"text-2xl sm:text-3xl md:text-5xl",children:M.animal}),y.jsx("span",{className:"font-display font-bold text-xs sm:text-sm text-white/80",children:M.name})]},M.id))}),y.jsx(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,disabled:d,className:"mt-2 sm:mt-4 bg-white/40 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-bold text-base sm:text-lg disabled:opacity-50","data-testid":"button-replay",children:d?"...":""})]})})})}const rv=[{hour:1,display:"1 ",scenario:""},{hour:2,display:"2 ",scenario:""},{hour:3,display:"3 ",scenario:""},{hour:4,display:"4 ",scenario:""},{hour:5,display:"5 ",scenario:""},{hour:6,display:"6 ",scenario:""},{hour:7,display:"7 ",scenario:""},{hour:8,display:"8 ",scenario:""},{hour:9,display:"9 ",scenario:""},{hour:10,display:"10 ",scenario:""},{hour:11,display:"11 ",scenario:""},{hour:12,display:"12 ",scenario:""}];function fG({hour:t,onHourChange:e,interactive:n=!0}){const r=t%12*30-90,s=o=>{if(!n||!e)return;const c=o.currentTarget.getBoundingClientRect(),d=c.width/2,h=c.height/2,m=o.clientX-c.left-d,g=o.clientY-c.top-h;let w=Math.atan2(g,m)*(180/Math.PI)+90;w<0&&(w+=360);const S=Math.round(w/30)||12;e(S)};return y.jsxs("svg",{viewBox:"0 0 200 200",className:`w-56 h-56 md:w-72 md:h-72 ${n?"cursor-pointer":""}`,onClick:s,children:[y.jsx("circle",{cx:"100",cy:"100",r:"95",fill:"white",stroke:"hsl(var(--macaron-blue))",strokeWidth:"8"}),[...Array(12)].map((o,l)=>{const c=(l*30-90)*(Math.PI/180),d=100+75*Math.cos(c),h=100+75*Math.sin(c),m=100+85*Math.cos(c),g=100+85*Math.sin(c),w=100+65*Math.cos(c),S=100+65*Math.sin(c);return y.jsxs("g",{children:[y.jsx("line",{x1:d,y1:h,x2:m,y2:g,stroke:"hsl(var(--macaron-purple-dark))",strokeWidth:"3"}),y.jsx("text",{x:w,y:S,textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fontWeight:"bold",fill:"hsl(var(--macaron-purple-dark))",children:l===0?12:l})]},l)}),y.jsx("circle",{cx:"100",cy:"100",r:"8",fill:"hsl(var(--macaron-pink))"}),y.jsx(Ae.line,{x1:"100",y1:"100",x2:100+50*Math.cos(r*Math.PI/180),y2:100+50*Math.sin(r*Math.PI/180),stroke:"hsl(var(--macaron-pink))",strokeWidth:"8",strokeLinecap:"round",animate:{x2:100+50*Math.cos(r*Math.PI/180),y2:100+50*Math.sin(r*Math.PI/180)},transition:{type:"spring",stiffness:100}}),y.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"30",stroke:"hsl(var(--macaron-blue))",strokeWidth:"4",strokeLinecap:"round"})]})}function pG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(rv[0]),[l,c]=x.useState(12),[d,h]=x.useState(!1),[m,g]=x.useState(!1),{speak:w}=Gn(),S=()=>{if(t>=10){h(!0);return}const T=rv[Math.floor(Math.random()*rv.length)];o(T),c(12),w(` ${T.display}`)};x.useEffect(()=>{S()},[t]);const R=()=>{l===s.hour?(Pt({particleCount:40,spread:60,colors:["#87CEEB","#FFC0CB"]}),w(""),r(T=>T+10),setTimeout(()=>e(T=>T+1),800)):(w(""),g(!0),setTimeout(()=>g(!1),500))},E=()=>{e(0),r(0),h(!1)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"clock",isGameOver:d,onRestart:E,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6",children:[y.jsxs("div",{className:"bg-white/40 px-4 sm:px-6 py-2 sm:py-3 rounded-xl sm:rounded-2xl",children:[y.jsxs("h3",{className:"font-display text-xl sm:text-2xl font-bold text-center",children:[" ",s.display]}),y.jsx("p",{className:"text-center text-base sm:text-lg opacity-80",children:s.scenario})]}),y.jsx(Ae.div,{animate:{rotate:m?[-5,5,-5,5,0]:0},className:"bg-white/20 p-2 sm:p-4 rounded-full",children:y.jsx(fG,{hour:l,onHourChange:c,interactive:!0})}),y.jsx("p",{className:"text-base sm:text-lg font-medium opacity-80 text-center px-4",children:""}),y.jsx(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,className:"bg-white text-[hsl(var(--macaron-blue-dark))] font-bold text-lg sm:text-xl px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg","data-testid":"button-check",children:""})]})})})}const sv=[{word:"",emoji:"",initial:"",pinyin:"png gu"},{word:"",emoji:"",initial:"",pinyin:"xing jio"},{word:"",emoji:"",initial:"",pinyin:"mo m"},{word:"",emoji:"",initial:"",pinyin:"gu gu"},{word:"",emoji:"",initial:"",pinyin:"t zi"},{word:"",emoji:"",initial:"",pinyin:"ti yng"},{word:"",emoji:"",initial:"",pinyin:"yu ling"},{word:"",emoji:"",initial:"",pinyin:"xng xng"},{word:"",emoji:"",initial:"",pinyin:"hu du"},{word:"",emoji:"",initial:"",pinyin:"h di"},{word:"",emoji:"",initial:"",pinyin:"nio r"},{word:"",emoji:"",initial:"",pinyin:"y r"}],mG=["","","","","","","","","","","","","","","","","","","","","","","",""];function gG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(sv[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState([]),[w,S]=x.useState(-100),[R,E]=x.useState([]),{speak:T}=Gn(),N=()=>{if(t>=10){h(!0);return}const M=sv[Math.floor(Math.random()*sv.length)];o(M);const V=mG.filter(A=>A!==M.initial).sort(()=>.5-Math.random()).slice(0,2);c([M.initial,...V].sort(()=>.5-Math.random())),g([]),E([]),S(-100),setTimeout(()=>{S(50),T(`${M.word}`)},100)};x.useEffect(()=>{N()},[t]);const O=M=>{if(!m.includes(M)){if(!R.includes(M)){T(M),E(V=>[...V,M]);return}g(V=>[...V,M]),M===s.initial?(Pt({particleCount:50,spread:70,colors:["#FFC0CB","#87CEEB","#98FB98","#DDA0DD"],origin:{y:.3}}),T(""),r(V=>V+10),setTimeout(()=>e(V=>V+1),1e3)):T("")}},j=()=>{e(0),r(0),h(!1)},z=["bg-[hsl(var(--macaron-pink))]","bg-[hsl(var(--macaron-blue))]","bg-[hsl(var(--macaron-green))]"];return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"bopomofo",isGameOver:d,onRestart:j,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6 relative overflow-hidden min-h-[350px] sm:min-h-[400px]",children:[y.jsx("div",{className:"flex gap-3 sm:gap-4 md:gap-6 justify-center",children:l.map((M,V)=>y.jsx(Do,{children:!m.includes(M)&&y.jsxs(Ae.button,{initial:{scale:0,y:-50},animate:{scale:1,y:0},exit:{scale:0,opacity:0,y:-100},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(M),className:`
                      w-16 h-20 sm:w-20 sm:h-24 md:w-24 md:h-28 rounded-full relative
                      ${z[V%3]}
                      shadow-lg flex items-center justify-center
                      cursor-pointer
                    `,"data-testid":`balloon-${M}`,children:[y.jsx("span",{className:"font-display text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:M}),y.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center ${R.includes(M)?"bg-green-500":"bg-orange-400"}`,children:y.jsx(F0,{className:"w-3 h-3 text-white"})}),y.jsx("div",{className:"absolute -bottom-4 sm:-bottom-6 w-0.5 h-4 sm:h-6 bg-gray-400"})]})},M))}),y.jsxs("div",{className:"bg-white/40 px-4 sm:px-6 py-2 sm:py-3 rounded-xl sm:rounded-2xl mt-2 sm:mt-4",children:[y.jsxs("h3",{className:"font-display text-lg sm:text-xl font-bold text-center",children:["",s.word,""]}),y.jsx("p",{className:"text-center text-xs sm:text-sm opacity-70",children:""})]}),y.jsxs(Ae.div,{animate:{x:w},transition:{type:"spring",stiffness:50},className:"absolute bottom-0 flex items-end scale-75 sm:scale-90 md:scale-100 origin-bottom",children:[y.jsxs("div",{className:"bg-[hsl(var(--macaron-pink))] w-24 h-16 rounded-t-2xl relative",children:[y.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 bg-white rounded-full"}),y.jsx("div",{className:"absolute bottom-0 left-2 w-8 h-8 bg-gray-700 rounded-full"}),y.jsx("div",{className:"absolute bottom-0 right-2 w-8 h-8 bg-gray-700 rounded-full"}),y.jsx("div",{className:"absolute -top-4 right-2 w-4 h-6 bg-gray-600 rounded-t-full"})]}),y.jsxs("div",{className:"bg-[hsl(var(--macaron-yellow))] w-20 h-14 rounded-t-xl ml-1 flex items-center justify-center relative",children:[y.jsx("span",{className:"text-4xl",children:s.emoji}),y.jsx("div",{className:"absolute bottom-0 left-2 w-6 h-6 bg-gray-700 rounded-full"}),y.jsx("div",{className:"absolute bottom-0 right-2 w-6 h-6 bg-gray-700 rounded-full"})]})]}),y.jsx("div",{className:"absolute bottom-0 w-full h-3 sm:h-4 bg-amber-800 flex items-center overflow-hidden",children:[...Array(20)].map((M,V)=>y.jsx("div",{className:"w-6 sm:w-8 h-1.5 sm:h-2 bg-amber-600 mx-1 sm:mx-2 flex-shrink-0"},V))})]})})})}const I0=[{id:"happy",name:"",weather:"",color:"hsl(var(--macaron-yellow))",face:""},{id:"sad",name:"",weather:"",color:"hsl(var(--macaron-blue))",face:""},{id:"angry",name:"",weather:"",color:"hsl(var(--macaron-pink))",face:""},{id:"scared",name:"",weather:"",color:"hsl(var(--macaron-purple))",face:""},{id:"surprised",name:"",weather:"",color:"hsl(var(--macaron-green))",face:""}],iv=[{text:"",emotion:"happy"},{text:"",emotion:"sad"},{text:"",emotion:"angry"},{text:"",emotion:"scared"},{text:"",emotion:"surprised"},{text:"",emotion:"happy"},{text:"",emotion:"sad"},{text:"",emotion:"angry"},{text:"",emotion:"scared"},{text:"",emotion:"surprised"}];function yG({emotion:t}){const{attributes:e,listeners:n,setNodeRef:r,transform:s,isDragging:o}=jc({id:t.id}),{speak:l}=Gn(),c=s?{transform:`translate(${s.x}px, ${s.y}px)`,zIndex:o?100:1}:void 0;return y.jsxs(Ae.div,{ref:r,style:c,...n,...e,whileHover:{scale:1.1},className:"flex flex-col items-center gap-0.5 sm:gap-1 cursor-grab active:cursor-grabbing",onMouseEnter:()=>l(t.name),"data-testid":`emotion-${t.id}`,children:[y.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-20 md:h-20 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg border-2 sm:border-4 border-white",style:{backgroundColor:t.color},children:y.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl",children:t.weather})}),y.jsx("span",{className:"text-xs sm:text-sm font-bold",children:t.name})]})}function vG({currentEmotion:t,isCorrect:e}){const{isOver:n,setNodeRef:r}=Vc({id:"face"}),s=I0.find(o=>o.id===t);return y.jsx(Ae.div,{ref:r,animate:{scale:n?1.1:1,rotate:e===!1?[-5,5,-5,5,0]:0},className:`
        w-28 h-28 sm:w-36 sm:h-36 md:w-48 md:h-48 rounded-full bg-[hsl(var(--macaron-yellow)/0.3)] 
        flex items-center justify-center border-4 sm:border-6 md:border-8 border-white shadow-xl
        ${n?"ring-2 sm:ring-4 ring-white/50":""}
        ${e===!0?"ring-2 sm:ring-4 ring-green-400":""}
        ${e===!1?"ring-2 sm:ring-4 ring-red-400":""}
      `,"data-testid":"face-dropzone",children:t?y.jsx("span",{className:"text-5xl sm:text-7xl md:text-9xl",children:s?.face}):y.jsxs("div",{className:"text-center text-gray-400",children:[y.jsx("div",{className:"text-4xl sm:text-5xl md:text-6xl mb-1 sm:mb-2",children:""}),y.jsx("span",{className:"text-xs sm:text-sm",children:""})]})})}function xG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(iv[0]),[l,c]=x.useState(null),[d,h]=x.useState(null),[m,g]=x.useState(!1),{speak:w}=Gn(),S=()=>{if(t>=10){g(!0);return}const T=iv[Math.floor(Math.random()*iv.length)];o(T),c(null),h(null),w(T.text)};x.useEffect(()=>{S()},[t]);const R=T=>{const{active:N,over:O}=T;if(!O||O.id!=="face")return;const j=N.id;if(c(j),j===s.emotion){h(!0),Pt({particleCount:40,spread:60});const z=I0.find(M=>M.id===j);w(`${z?.name}`),r(M=>M+10),setTimeout(()=>e(M=>M+1),1500)}else h(!1),w(""),setTimeout(()=>{c(null),h(null)},1e3)},E=()=>{e(0),r(0),g(!1)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"emotion",isGameOver:m,onRestart:E,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:y.jsx(Oc,{onDragEnd:R,children:y.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 md:gap-6",children:[y.jsxs("div",{className:"bg-white/40 px-4 sm:px-6 py-3 sm:py-4 rounded-xl sm:rounded-2xl max-w-md mx-2",children:[y.jsx("h3",{className:"font-display text-base sm:text-lg md:text-2xl font-bold text-center",children:s.text}),y.jsx("p",{className:"text-center text-xs sm:text-sm opacity-70 mt-1 sm:mt-2",children:""})]}),y.jsx(vG,{currentEmotion:l,isCorrect:d}),y.jsx("div",{className:"flex gap-2 sm:gap-3 md:gap-4 flex-wrap justify-center mt-2 sm:mt-4 px-2",children:I0.map(T=>y.jsx(yG,{emotion:T},T.id))})]})})})})}const KS=[{grid:[[0,0,0,0],[0,1,1,0],[0,1,2,0],[0,0,0,0]],start:{x:1,y:1,direction:"right"},goal:{x:2,y:2},maxCommands:3},{grid:[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,2,0]],start:{x:1,y:1,direction:"down"},goal:{x:2,y:3},maxCommands:4},{grid:[[0,0,0,0,0],[0,1,1,1,0],[0,0,0,1,0],[0,0,0,2,0],[0,0,0,0,0]],start:{x:1,y:1,direction:"right"},goal:{x:3,y:3},maxCommands:5},{grid:[[0,0,0,0,0],[0,1,0,1,0],[0,1,1,1,0],[0,0,0,2,0],[0,0,0,0,0]],start:{x:1,y:1,direction:"down"},goal:{x:3,y:3},maxCommands:6},{grid:[[0,0,0,0,0],[0,1,1,1,0],[0,1,0,1,0],[0,1,1,2,0],[0,0,0,0,0]],start:{x:1,y:1,direction:"down"},goal:{x:3,y:3},maxCommands:7}],ov={forward:{name:"",icon:NO,color:"bg-[hsl(var(--macaron-green))]"},left:{name:"",icon:uI,color:"bg-[hsl(var(--macaron-blue))]"},right:{name:"",icon:JO,color:"bg-[hsl(var(--macaron-pink))]"}};function QS(t,e){const n=["up","right","down","left"],r=n.indexOf(t);return e==="left"?n[(r+3)%4]:n[(r+1)%4]}function wG(t){switch(t.direction){case"up":return{x:t.x,y:t.y-1};case"down":return{x:t.x,y:t.y+1};case"left":return{x:t.x-1,y:t.y};case"right":return{x:t.x+1,y:t.y}}}function _G(t){switch(t){case"up":return 0;case"right":return 90;case"down":return 180;case"left":return 270}}function bG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState([]),[l,c]=x.useState(!1),[d,h]=x.useState(null),[m,g]=x.useState(null),[w,S]=x.useState(!1),{speak:R}=Gn(),E=KS[Math.min(t,KS.length-1)];x.useEffect(()=>{if(t>=5){S(!0);return}h(E.start),o([]),g(null),R("")},[t]);const T=V=>{s.length<E.maxCommands&&!l&&o([...s,V])},N=V=>{l||o(s.filter((A,I)=>I!==V))},O=()=>{l||o([])},j=x.useCallback(async()=>{if(s.length===0){R("");return}c(!0);let V={...E.start};for(const A of s){if(await new Promise(I=>setTimeout(I,600)),A==="forward"){const I=wG(V);I.x>=0&&I.x<E.grid[0].length&&I.y>=0&&I.y<E.grid.length&&E.grid[I.y][I.x]!==0&&(V={...V,x:I.x,y:I.y})}else A==="left"?V={...V,direction:QS(V.direction,"left")}:A==="right"&&(V={...V,direction:QS(V.direction,"right")});h({...V})}await new Promise(A=>setTimeout(A,400)),V.x===E.goal.x&&V.y===E.goal.y?(Pt({particleCount:100,spread:70,origin:{y:.6}}),R(""),g("success"),r(A=>A+20),setTimeout(()=>{e(A=>A+1)},1500)):(R(""),g("fail"),setTimeout(()=>{h(E.start),o([]),g(null)},1500)),c(!1)},[s,E,R]),z=()=>{e(0),r(0),S(!1),o([]),g(null)},M=48;return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:5,currentQuestionIndex:t,gameType:"coding",isGameOver:w,onRestart:z,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 md:gap-6",children:[y.jsxs("h3",{className:"font-display text-base sm:text-lg md:text-xl font-bold text-center px-2",children:[" ",t+1," "]}),y.jsxs("div",{className:"relative bg-green-100 rounded-xl sm:rounded-2xl p-2 sm:p-3 shadow-inner border-2 sm:border-4 border-green-200",style:{width:E.grid[0].length*M+24,height:E.grid.length*M+24},children:[E.grid.map((V,A)=>V.map((I,k)=>y.jsx("div",{className:`absolute rounded-lg transition-all ${I===0?"bg-green-800/30":"bg-amber-100 border-2 border-amber-200"}`,style:{left:k*M+12,top:A*M+12,width:M-4,height:M-4},children:I===2&&y.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xl sm:text-2xl",children:""})},`${k}-${A}`))),d&&y.jsx(Ae.div,{className:"absolute flex items-center justify-center text-2xl sm:text-3xl",animate:{left:d.x*M+12+(M-4)/2-16,top:d.y*M+12+(M-4)/2-16,rotate:_G(d.direction)},transition:{type:"spring",stiffness:200,damping:20},style:{width:32,height:32},children:""})]}),y.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center",children:Object.keys(ov).map(V=>{const A=ov[V],I=A.icon;return y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(V),disabled:l||s.length>=E.maxCommands,className:`
                    ${A.color} text-white px-3 sm:px-4 py-2 sm:py-3 rounded-xl sm:rounded-2xl font-bold text-sm sm:text-base
                    shadow-lg border-2 border-white/50 disabled:opacity-50 flex items-center gap-1 sm:gap-2
                  `,"data-testid":`cmd-${V}`,children:[y.jsx(I,{className:"w-4 h-4 sm:w-5 sm:h-5"}),y.jsx("span",{className:"hidden sm:inline",children:A.name})]},V)})}),y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsxs("span",{className:"text-sm font-medium",children:[" (",s.length,"/",E.maxCommands,")"]}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 flex-wrap justify-center min-h-[44px] bg-white/40 rounded-xl px-3 py-2",children:[y.jsx(Do,{children:s.map((V,A)=>{const I=ov[V],k=I.icon;return y.jsx(Ae.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},onClick:()=>N(A),disabled:l,className:`
                        ${I.color} text-white w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex items-center justify-center
                        shadow-md border-2 border-white/50 disabled:opacity-50
                      `,title:"",children:y.jsx(k,{className:"w-4 h-4 sm:w-5 sm:h-5"})},A)})}),s.length===0&&y.jsx("span",{className:"text-gray-400 text-sm py-1",children:""})]})]}),y.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,disabled:l||s.length===0,className:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))] px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-bold text-sm sm:text-base shadow-lg disabled:opacity-50 flex items-center gap-2","data-testid":"button-run",children:[y.jsx(ZO,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]}),y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,disabled:l,className:"bg-white/50 px-4 sm:px-6 py-2.5 sm:py-3 rounded-full font-bold text-sm sm:text-base shadow-lg disabled:opacity-50 flex items-center gap-2","data-testid":"button-clear",children:[y.jsx(uI,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]})]}),y.jsx(Do,{children:m&&y.jsx(Ae.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:`
                  px-6 py-3 rounded-full font-bold text-lg
                  ${m==="success"?"bg-green-400 text-white":"bg-red-400 text-white"}
                `,children:m==="success"?"":""})})]})})})}const ZS=[{id:"sunflower",name:"",seed:"",sprout:"",flower:""},{id:"tulip",name:"",seed:"",sprout:"",flower:""},{id:"rose",name:"",seed:"",sprout:"",flower:""},{id:"cherry",name:"",seed:"",sprout:"",flower:""},{id:"hibiscus",name:"",seed:"",sprout:"",flower:""}],xa=[{id:"seed",name:"",icon:"",action:""},{id:"water",name:"",icon:"",action:""},{id:"sun",name:"",icon:"",action:""},{id:"fertilize",name:"",icon:"",action:""}];function TG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(null),[l,c]=x.useState([]),[d,h]=x.useState(0),[m,g]=x.useState("empty"),[w,S]=x.useState(!1),[R,E]=x.useState(!1),{speak:T}=Gn();x.useEffect(()=>{if(t>=10){E(!0);return}const j=ZS[t%ZS.length];o(j),c([]),h(0),g("empty"),S(!1),T(`${j.name}`)},[t]);const N=j=>{if(!s)return;const z=xa[d].id;if(j===z){const M=[...l,j];c(M),j==="seed"?(g("seed"),T("")):j==="water"?T(""):j==="sun"?(g("sprout"),T("")):j==="fertilize"&&(T(`${s.name}`),g("flower"),S(!0),Pt({particleCount:100,spread:70,origin:{y:.6}}),r(V=>V+10),setTimeout(()=>{e(V=>V+1)},2e3)),h(V=>V+1)}else T("")},O=()=>{e(0),r(0),E(!1),c([]),h(0),g("empty"),S(!1)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"garden",isGameOver:R,onRestart:O,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6",children:[y.jsxs("h3",{className:"font-display text-base sm:text-lg md:text-xl font-bold text-center px-2",children:["",s?.name||"",""]}),y.jsx("div",{className:"flex gap-1 sm:gap-2 items-center",children:xa.map((j,z)=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:`
                    w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-base sm:text-lg
                    transition-all ${l.includes(j.id)?"bg-green-400 text-white":z===d?"bg-white border-2 border-green-400 animate-pulse":"bg-white/50"}
                  `,children:j.icon}),z<xa.length-1&&y.jsx("div",{className:`w-4 sm:w-6 h-1 ${l.includes(j.id)?"bg-green-400":"bg-white/30"}`})]},j.id))}),y.jsxs("div",{className:"relative w-48 h-48 sm:w-56 sm:h-56 md:w-64 md:h-64",children:[y.jsxs("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-32 sm:w-40 h-20 sm:h-24 bg-amber-600 rounded-b-3xl border-4 border-amber-700",children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-4 bg-amber-700 rounded-t-lg"}),y.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 w-24 sm:w-32 h-8 sm:h-10 bg-amber-900 rounded-full opacity-50"})]}),y.jsx(Do,{mode:"wait",children:m!=="empty"&&y.jsxs(Ae.div,{initial:{scale:0,y:20},animate:{scale:1,y:0},exit:{scale:0},className:"absolute bottom-16 sm:bottom-20 left-1/2 -translate-x-1/2 text-5xl sm:text-6xl md:text-7xl",children:[m==="seed"&&s?.seed,m==="sprout"&&s?.sprout,m==="flower"&&y.jsx(Ae.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:.5,repeat:2},children:s?.flower})]},m)}),w&&y.jsx(Ae.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1,repeat:3},className:"absolute top-8 left-1/2 -translate-x-1/2",children:y.jsx(tj,{className:"w-8 h-8 text-yellow-400"})})]}),y.jsx("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center",children:xa.map(j=>{const z=l.includes(j.id),M=d===xa.findIndex(V=>V.id===j.id);return y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(j.id),disabled:z||w,className:`
                    px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl sm:rounded-2xl font-bold text-sm sm:text-base
                    shadow-lg border-2 border-white/50 flex items-center gap-1 sm:gap-2
                    transition-all min-w-[80px] sm:min-w-[100px] justify-center
                    ${z?"bg-gray-300 text-gray-500":M?"bg-[hsl(var(--macaron-green))] text-white ring-2 ring-white animate-pulse":"bg-white/80 text-gray-700"}
                    disabled:cursor-not-allowed
                  `,"data-testid":`step-${j.id}`,children:[y.jsx("span",{className:"text-lg sm:text-xl",children:j.icon}),y.jsx("span",{className:"hidden sm:inline",children:j.name})]},j.id)})}),y.jsx("div",{className:"bg-white/40 px-4 py-2 rounded-full text-sm sm:text-base font-medium",children:d<xa.length?`${xa[d].action}`:"..."})]})})})}const EG=[{id:"apple",name:"",emoji:"",price:10},{id:"milk",name:"",emoji:"",price:20},{id:"bread",name:"",emoji:"",price:15},{id:"banana",name:"",emoji:"",price:5},{id:"egg",name:"",emoji:"",price:8},{id:"cheese",name:"",emoji:"",price:25},{id:"carrot",name:"",emoji:"",price:6},{id:"cookie",name:"",emoji:"",price:12}],SG=[{value:10,emoji:"",color:"bg-red-400"},{value:5,emoji:"",color:"bg-yellow-400"},{value:1,emoji:"",color:"bg-amber-600"}];function CG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,h]=x.useState(0),[m,g]=x.useState("shopping"),[w,S]=x.useState(null),[R,E]=x.useState(!1),{speak:T}=Gn(),N=s.reduce((k,U)=>k+U.product.price*U.quantity,0),O=()=>{const k=[...EG].sort(()=>.5-Math.random()),U=Math.min(2+Math.floor(t/3),3);return k.slice(0,U).map($=>({product:$,quantity:1}))};x.useEffect(()=>{if(t>=10){E(!0);return}const k=O();o(k),c([]),h(0),g("shopping"),S(null);const U=k.map(B=>`${B.quantity}${B.product.name}`).join("");T(`${U}`)},[t]);const j=k=>{const U=s.find(F=>F.product.id===k.id);if(!U)return;const B=l.find(F=>F.product.id===k.id);(B?.quantity||0)<U.quantity&&(c(B?l.map(F=>F.product.id===k.id?{...F,quantity:F.quantity+1}:F):[...l,{product:k,quantity:1}]),T(k.name))},z=()=>s.every(k=>{const U=l.find(B=>B.product.id===k.product.id);return U&&U.quantity>=k.quantity}),M=()=>{z()?(g("payment"),T(`${N}`)):T("")},V=k=>{h(U=>U+k.value)},A=()=>{d===N?(Pt({particleCount:100,spread:70,origin:{y:.6}}),T(""),S("success"),r(k=>k+10),setTimeout(()=>{e(k=>k+1)},1500)):d>N?(T(""),S("fail"),setTimeout(()=>{h(0),S(null)},1e3)):T("")},I=()=>{e(0),r(0),E(!1),c([]),h(0),g("shopping"),S(null)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"market",isGameOver:R,onRestart:I,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 md:gap-6",children:[y.jsxs("div",{className:"bg-white/60 px-3 sm:px-4 py-2 sm:py-3 rounded-xl sm:rounded-2xl shadow-md",children:[y.jsx("h4",{className:"font-bold text-sm sm:text-base mb-2 text-center",children:""}),y.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center",children:[s.map(k=>{const B=(l.find($=>$.product.id===k.product.id)?.quantity||0)>=k.quantity;return y.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${B?"bg-green-100":"bg-gray-100"}`,children:[y.jsx("span",{className:"text-lg sm:text-xl",children:k.product.emoji}),y.jsxs("span",{className:"text-xs sm:text-sm",children:[k.quantity,""]}),y.jsxs("span",{className:"text-xs text-gray-500",children:["$",k.product.price]}),B&&y.jsx(VO,{className:"w-3 h-3 text-green-500"})]},k.product.id)}),y.jsxs("div",{className:"w-full text-center text-xs sm:text-sm font-bold text-gray-600 mt-1",children:["$",N]})]})]}),m==="shopping"?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"bg-amber-100 p-3 sm:p-4 rounded-xl sm:rounded-2xl border-2 border-amber-200",children:y.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-3",children:s.map(k=>y.jsxs(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(k.product),className:"bg-white p-2 sm:p-3 rounded-xl shadow-md flex flex-col items-center gap-1","data-testid":`product-${k.product.id}`,children:[y.jsx("span",{className:"text-2xl sm:text-3xl",children:k.product.emoji}),y.jsx("span",{className:"text-xs font-medium",children:k.product.name}),y.jsxs("span",{className:"text-xs text-gray-500",children:["$",k.product.price]})]},k.product.id))})}),y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-white/50 px-4 py-2 rounded-full",children:[y.jsx(hI,{className:"w-5 h-5 sm:w-6 sm:h-6"}),y.jsxs("div",{className:"flex gap-1",children:[l.map((k,U)=>y.jsx("span",{className:"text-lg sm:text-xl",children:k.product.emoji},U)),l.length===0&&y.jsx("span",{className:"text-gray-400 text-sm",children:""})]})]}),y.jsx(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,disabled:!z(),className:"bg-[hsl(var(--macaron-green))] text-white px-6 py-3 rounded-full font-bold text-sm sm:text-base shadow-lg disabled:opacity-50","data-testid":"button-checkout",children:""})]}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-white/60 p-4 sm:p-6 rounded-xl sm:rounded-2xl shadow-md text-center",children:[y.jsxs("h4",{className:"font-bold text-base sm:text-lg mb-3",children:[" $",N]}),y.jsxs("div",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["",y.jsxs("span",{className:d===N?"text-green-500":d>N?"text-red-500":"",children:["$",d]})]}),y.jsx("div",{className:"flex gap-2 sm:gap-3 justify-center mb-4",children:SG.map(k=>y.jsxs(Ae.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>V(k),disabled:w!==null,className:`
                        ${k.color} w-12 h-12 sm:w-14 sm:h-14 rounded-full 
                        flex items-center justify-center font-bold text-white text-sm sm:text-base
                        shadow-lg border-4 border-white
                      `,"data-testid":`coin-${k.value}`,children:["$",k.value]},k.value))}),y.jsx(Ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,disabled:w!==null,className:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))] px-6 py-3 rounded-full font-bold shadow-lg","data-testid":"button-pay",children:""})]})}),y.jsx(Do,{children:w&&y.jsx(Ae.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:`
                  px-6 py-3 rounded-full font-bold text-lg
                  ${w==="success"?"bg-green-400 text-white":"bg-red-400 text-white"}
                `,children:w==="success"?"":""})})]})})})}const IG=[{id:"fishbone",name:"",emoji:"",type:"general"},{id:"banana",name:"",emoji:"",type:"general"},{id:"eggshell",name:"",emoji:"",type:"general"},{id:"newspaper",name:"",emoji:"",type:"paper"},{id:"cardboard",name:"",emoji:"",type:"paper"},{id:"paper",name:"",emoji:"",type:"paper"},{id:"bottle",name:"",emoji:"",type:"plastic"},{id:"bag",name:"",emoji:"",type:"plastic"},{id:"cup",name:"",emoji:"",type:"plastic"}],AG=[{id:"general",name:"",emoji:"",color:"bg-gray-400",happyEmoji:""},{id:"paper",name:"",emoji:"",color:"bg-blue-400",happyEmoji:""},{id:"plastic",name:"",emoji:"",color:"bg-green-400",happyEmoji:""}];function RG({item:t,onSpeak:e}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,isDragging:l}=jc({id:t.id}),c=o?{transform:`translate(${o.x}px, ${o.y}px)`,zIndex:l?100:1}:void 0;return y.jsxs(Ae.div,{ref:s,style:c,...r,...n,initial:{x:-200},animate:{x:0},className:"bg-white p-2 sm:p-3 rounded-xl sm:rounded-2xl shadow-lg cursor-grab active:cursor-grabbing flex flex-col items-center gap-1",onMouseEnter:()=>e(t.name),"data-testid":`trash-${t.id}`,children:[y.jsx("span",{className:"text-3xl sm:text-4xl",children:t.emoji}),y.jsx("span",{className:"text-xs sm:text-sm font-medium",children:t.name})]})}function kG({bin:t,isHappy:e,isWrong:n}){const{isOver:r,setNodeRef:s}=Vc({id:t.id});return y.jsxs(Ae.div,{ref:s,animate:{scale:r?1.1:1,rotate:n?[-5,5,-5,5,0]:0},className:`
        ${t.color} w-20 h-24 sm:w-24 sm:h-28 md:w-28 md:h-32 rounded-xl sm:rounded-2xl 
        flex flex-col items-center justify-center gap-1 shadow-lg
        border-4 ${r?"border-white":"border-white/50"}
        ${e?"ring-4 ring-green-400":""}
        ${n?"ring-4 ring-red-400":""}
      `,"data-testid":`bin-${t.id}`,children:[y.jsx(Ae.span,{className:"text-3xl sm:text-4xl",animate:{scale:e?[1,1.3,1]:1},children:e?t.happyEmoji:t.emoji}),y.jsx("span",{className:"text-xs sm:text-sm font-bold text-white text-center px-1",children:t.name})]})}function PG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(null),[l,c]=x.useState(null),[d,h]=x.useState(null),[m,g]=x.useState(!1),[w,S]=x.useState([]),{speak:R}=Gn();x.useEffect(()=>{if(t>=10){g(!0);return}if(w.length===0||t===0){const N=[...IG].sort(()=>.5-Math.random());S(N),o(N[0])}else o(w[t%w.length]);c(null),h(null)},[t]),x.useEffect(()=>{s&&R(`${s.name}`)},[s]);const E=N=>{const{active:O,over:j}=N;if(!j||!s)return;const z=j.id;z===s.type?(Pt({particleCount:30,spread:50,origin:{y:.6}}),R(""),c(z),r(M=>M+10),setTimeout(()=>{e(M=>M+1)},1e3)):(R(""),h(z),setTimeout(()=>h(null),500))},T=()=>{e(0),r(0),g(!1),S([]),c(null),h(null)};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"recycle",isGameOver:m,onRestart:T,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsx(Oc,{onDragEnd:E,children:y.jsxs("div",{className:"flex flex-col items-center gap-4 sm:gap-6",children:[y.jsx("h3",{className:"font-display text-base sm:text-lg md:text-xl font-bold text-center px-2",children:""}),y.jsxs("div",{className:"relative w-full max-w-xs sm:max-w-sm",children:[y.jsxs("div",{className:"bg-gray-300 h-20 sm:h-24 rounded-xl flex items-center justify-center border-4 border-gray-400",children:[y.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-2 bg-gray-500 rounded-full mx-4"}),y.jsx(Do,{mode:"wait",children:s&&!l&&y.jsx(RG,{item:s,onSpeak:R},s.id+t)})]}),y.jsx("div",{className:"absolute left-2 right-2 -bottom-2 flex justify-between",children:[...Array(5)].map((N,O)=>y.jsx("div",{className:"w-3 h-4 bg-gray-500 rounded-b-full"},O))})]}),y.jsx("p",{className:"text-sm sm:text-base text-center opacity-80",children:""}),y.jsx("div",{className:"flex gap-2 sm:gap-4 md:gap-6",children:AG.map(N=>y.jsx(kG,{bin:N,isHappy:l===N.id,isWrong:d===N.id},N.id))}),y.jsx("div",{className:"bg-white/40 px-3 sm:px-4 py-2 sm:py-3 rounded-xl text-xs sm:text-sm",children:y.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 justify-center",children:[y.jsx("span",{children:" /"}),y.jsx("span",{children:" "}),y.jsx("span",{children:" "})]})})]})})})})}const NG=[{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""},{emoji:"",name:""}];function DG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(0),[w,S]=x.useState(6),[R,E]=x.useState(!1),{speak:T}=Gn(),N=()=>{const V=t<3?6:8;return S(V),[...NG].sort(()=>.5-Math.random()).slice(0,V).flatMap((k,U)=>[{id:U*2,...k,isFlipped:!1,isMatched:!1},{id:U*2+1,...k,isFlipped:!1,isMatched:!1}]).sort(()=>.5-Math.random())};x.useEffect(()=>{if(t>=5){E(!0);return}o(N()),c([]),g(0),h(!1),T("")},[t]);const O=V=>{if(d)return;const A=s.find(k=>k.id===V);if(!A||A.isFlipped||A.isMatched)return;const I=[...l,V];if(c(I),o(s.map(k=>k.id===V?{...k,isFlipped:!0}:k)),T(A.name),I.length===2){h(!0);const[k,U]=I,B=s.find(F=>F.id===k),$=s.find(F=>F.id===U);setTimeout(()=>{if(B.emoji===$.emoji){Pt({particleCount:30,spread:40,origin:{y:.6}}),T(""),o(te=>te.map(Ie=>Ie.id===k||Ie.id===U?{...Ie,isMatched:!0}:Ie));const F=m+1;g(F),r(te=>te+10),F===w&&(Pt({particleCount:100,spread:70,origin:{y:.6}}),T(""),setTimeout(()=>e(te=>te+1),1500))}else T(""),o(F=>F.map(te=>te.id===k||te.id===U?{...te,isFlipped:!1}:te));c([]),h(!1)},1e3)}},j=()=>{e(0),r(0),E(!1),g(0)},z="grid-cols-4",M=w===6?"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20":"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16";return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:5,currentQuestionIndex:t,gameType:"memory",isGameOver:R,onRestart:j,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 md:gap-6",children:[y.jsx("h3",{className:"font-display text-base sm:text-lg md:text-xl font-bold text-center px-2",children:""}),y.jsxs("div",{className:"text-sm sm:text-base font-medium",children:["",m," / ",w]}),y.jsx("div",{className:`grid ${z} gap-2 sm:gap-3`,children:s.map(V=>y.jsx(Ae.button,{onClick:()=>O(V.id),disabled:V.isFlipped||V.isMatched||d,className:`
                  ${M} rounded-xl sm:rounded-2xl shadow-lg relative
                  ${V.isMatched?"opacity-0 pointer-events-none":""}
                `,whileHover:{scale:V.isFlipped||V.isMatched?1:1.05},whileTap:{scale:.95},"data-testid":`card-${V.id}`,children:y.jsxs(Ae.div,{className:"w-full h-full relative",initial:!1,animate:{rotateY:V.isFlipped?180:0},transition:{duration:.4},style:{transformStyle:"preserve-3d"},children:[y.jsx("div",{className:"absolute inset-0 bg-[hsl(var(--macaron-purple))] rounded-xl sm:rounded-2xl flex items-center justify-center border-4 border-white",style:{backfaceVisibility:"hidden"},children:y.jsx("span",{className:"text-xl sm:text-2xl md:text-3xl text-white",children:"?"})}),y.jsx("div",{className:"absolute inset-0 bg-white rounded-xl sm:rounded-2xl flex items-center justify-center border-4 border-[hsl(var(--macaron-purple))]",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:y.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl",children:V.emoji})})]})},V.id))}),y.jsx("p",{className:"text-xs sm:text-sm text-center opacity-70 px-4",children:""})]})})})}const Rf=[{id:"dog",emoji:"",name:"",sound:"",habitat:""},{id:"cat",emoji:"",name:"",sound:"",habitat:""},{id:"cow",emoji:"",name:"",sound:"",habitat:""},{id:"pig",emoji:"",name:"",sound:"",habitat:""},{id:"chicken",emoji:"",name:"",sound:"",habitat:""},{id:"duck",emoji:"",name:"",sound:"",habitat:""},{id:"lion",emoji:"",name:"",sound:"",habitat:""},{id:"elephant",emoji:"",name:"",sound:"",habitat:""},{id:"monkey",emoji:"",name:"",sound:"",habitat:""},{id:"bird",emoji:"",name:"",sound:"",habitat:""},{id:"fish",emoji:"",name:"",sound:"",habitat:""},{id:"rabbit",emoji:"",name:"",sound:"",habitat:""}];function MG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(Rf[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[w,S]=x.useState("name"),{speak:R}=Gn(),E=()=>{if(t>=10){h(!0);return}const V=["name","sound","habitat"][t%3];S(V);const A=Rf[Math.floor(Math.random()*Rf.length)];o(A);const I=Rf.filter(U=>U.id!==A.id).sort(()=>.5-Math.random()).slice(0,3),k=[A,...I].sort(()=>.5-Math.random());c(k)};x.useEffect(()=>{E()},[t]);const T=M=>{M===s.id?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:["#FFD93D","#6BCB77","#4D96FF"]}),r(V=>V+10),setTimeout(()=>e(V=>V+1),500)):(g(!0),setTimeout(()=>g(!1),500))},N=()=>{R(`${s.name}${s.sound}`)},O=()=>{e(0),r(0),h(!1),E()},j=()=>{switch(w){case"name":return"";case"sound":return`${s.sound}`;case"habitat":return`${s.habitat}`}},z=M=>`${M.emoji} ${M.name}`;return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"animal",isGameOver:d,onRestart:O,colorClass:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[w==="name"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem] cursor-pointer",onClick:N,"data-testid":"animal-emoji",children:s.emoji}),w==="sound"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:y.jsxs("div",{className:"text-4xl md:text-6xl font-bold text-center",children:["",s.sound,""]})}),w==="habitat"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:y.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:[" ",s.habitat]})}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:j()}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:l.map((M,V)=>y.jsx(Go,{speakText:M.name,onSelect:()=>T(M.id),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-yellow-dark))] hover:bg-white/90","data-testid":`button-animal-${M.id}`,children:z(M)},M.id+V))})]})})})}const kf=[{id:"car",emoji:"",name:"",where:""},{id:"bus",emoji:"",name:"",where:""},{id:"taxi",emoji:"",name:"",where:""},{id:"truck",emoji:"",name:"",where:""},{id:"motorcycle",emoji:"",name:"",where:""},{id:"bicycle",emoji:"",name:"",where:""},{id:"train",emoji:"",name:"",where:""},{id:"airplane",emoji:"",name:"",where:""},{id:"ship",emoji:"",name:"",where:""},{id:"helicopter",emoji:"",name:"",where:""},{id:"ambulance",emoji:"",name:"",where:""},{id:"firetruck",emoji:"",name:"",where:""}],av=[{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]}];function OG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(kf[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[w,S]=x.useState("vehicle"),[R,E]=x.useState(av[0]),[T,N]=x.useState(""),O=()=>{if(t>=10){h(!0);return}const M=t<6;if(S(M?"vehicle":"rule"),M){const V=kf[Math.floor(Math.random()*kf.length)];o(V);const A=kf.filter(k=>k.id!==V.id).sort(()=>.5-Math.random()).slice(0,3),I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),N(V.name)}else{const V=av[(t-6)%av.length];E(V);const A=[V.correct,...V.wrong].sort(()=>.5-Math.random());c(A),N(V.correct)}};x.useEffect(()=>{O()},[t]);const j=M=>{M===T?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:["#4D96FF","#6BCB77","#FFD93D"]}),r(V=>V+10),setTimeout(()=>e(V=>V+1),500)):(g(!0),setTimeout(()=>g(!1),500))},z=()=>{e(0),r(0),h(!1),O()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"traffic",isGameOver:d,onRestart:z,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[w==="vehicle"?y.jsxs(y.Fragment,{children:[y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:s.emoji}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:""})]}):y.jsx(y.Fragment,{children:y.jsxs(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl flex items-center gap-4",children:[y.jsx("span",{className:"text-5xl md:text-6xl",children:""}),y.jsx("span",{className:"text-xl md:text-2xl font-bold",children:R.question})]})}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:l.map((M,V)=>y.jsx(Go,{speakText:M,onSelect:()=>j(M),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-blue-dark))] hover:bg-white/90","data-testid":`button-traffic-${V}`,children:M},M+V))})]})})})}const wa=[{id:"head",name:"",function:"",emoji:""},{id:"eye",name:"",function:"",emoji:""},{id:"ear",name:"",function:"",emoji:""},{id:"nose",name:"",function:"",emoji:""},{id:"mouth",name:"",function:"",emoji:""},{id:"hand",name:"",function:"",emoji:""},{id:"foot",name:"",function:"",emoji:""},{id:"heart",name:"",function:"",emoji:""}],lv=[{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]},{question:"",correct:"",wrong:["","",""]}];function jG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(wa[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[w,S]=x.useState("part"),[R,E]=x.useState(lv[0]),[T,N]=x.useState(""),O=()=>{if(t>=10){h(!0);return}if(t<4){S("part");const V=wa[t%wa.length];o(V);const A=wa.filter(k=>k.id!==V.id).sort(()=>.5-Math.random()).slice(0,3),I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),N(V.name)}else if(t<7){S("function");const V=wa[(t-4)%wa.length];o(V);const A=wa.filter(k=>k.id!==V.id).sort(()=>.5-Math.random()).slice(0,3),I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),N(V.name)}else{S("habit");const V=lv[(t-7)%lv.length];E(V);const A=[V.correct,...V.wrong].sort(()=>.5-Math.random());c(A),N(V.correct)}};x.useEffect(()=>{O()},[t]);const j=V=>{V===T?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:["#FF99CC","#6BCB77","#4D96FF"]}),r(A=>A+10),setTimeout(()=>e(A=>A+1),500)):(g(!0),setTimeout(()=>g(!1),500))},z=()=>{e(0),r(0),h(!1),O()},M=()=>{switch(w){case"part":return"";case"function":return`${s.function}`;case"habit":return R.question}};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"body",isGameOver:d,onRestart:z,colorClass:"bg-[hsl(var(--macaron-pink))] text-[hsl(var(--macaron-pink-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[w==="part"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:s.emoji}),w==="function"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:y.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["",s.function,""]})}),w==="habit"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl flex items-center gap-4",children:y.jsx("span",{className:"text-5xl md:text-6xl",children:""})}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center px-4",children:M()}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:l.map((V,A)=>y.jsx(Go,{speakText:V,onSelect:()=>j(V),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-pink-dark))] hover:bg-white/90","data-testid":`button-body-${A}`,children:V},V+A))})]})})})}const ku=[{id:"apple",emoji:"",name:"",type:"",color:""},{id:"banana",emoji:"",name:"",type:"",color:""},{id:"grape",emoji:"",name:"",type:"",color:""},{id:"orange",emoji:"",name:"",type:"",color:""},{id:"watermelon",emoji:"",name:"",type:"",color:""},{id:"strawberry",emoji:"",name:"",type:"",color:""},{id:"carrot",emoji:"",name:"",type:"",color:""},{id:"broccoli",emoji:"",name:"",type:"",color:""},{id:"corn",emoji:"",name:"",type:"",color:""},{id:"tomato",emoji:"",name:"",type:"",color:""},{id:"eggplant",emoji:"",name:"",type:"",color:""},{id:"cucumber",emoji:"",name:"",type:"",color:""}];function VG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(ku[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[w,S]=x.useState("name"),[R,E]=x.useState(""),T=()=>{if(t>=10){h(!0);return}const M=["name","name","type","type","name","color","name","type","color","name"][t];S(M);const V=ku[Math.floor(Math.random()*ku.length)];if(o(V),M==="name"){const A=ku.filter(k=>k.id!==V.id).sort(()=>.5-Math.random()).slice(0,3),I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),E(V.name)}else if(M==="type")c(["",""]),E(V.type);else{const A=Array.from(new Set(ku.map(I=>I.color))).sort(()=>.5-Math.random()).slice(0,4);A.includes(V.color)||(A[0]=V.color),c(A.sort(()=>.5-Math.random())),E(V.color)}};x.useEffect(()=>{T()},[t]);const N=z=>{z===R?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:["#6BCB77","#FFD93D","#FF6B6B"]}),r(M=>M+10),setTimeout(()=>e(M=>M+1),500)):(g(!0),setTimeout(()=>g(!1),500))},O=()=>{e(0),r(0),h(!1),T()},j=()=>{switch(w){case"name":return"";case"type":return`${s.emoji} ${s.name} `;case"color":return`${s.emoji} ${s.name} `}};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"food",isGameOver:d,onRestart:O,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:s.emoji}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:j()}),y.jsx("div",{className:`grid gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2 ${l.length===2,"grid-cols-2"}`,children:l.map((z,M)=>y.jsx(Go,{speakText:z,onSelect:()=>N(z),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-green-dark))] hover:bg-white/90","data-testid":`button-food-${M}`,children:z},z+M))})]})})})}const Pf=[{id:"doctor",emoji:"",name:"",tool:"",action:""},{id:"firefighter",emoji:"",name:"",tool:"",action:""},{id:"police",emoji:"",name:"",tool:"",action:""},{id:"teacher",emoji:"",name:"",tool:"",action:""},{id:"chef",emoji:"",name:"",tool:"",action:""},{id:"farmer",emoji:"",name:"",tool:"",action:""},{id:"pilot",emoji:"",name:"",tool:"",action:""},{id:"astronaut",emoji:"",name:"",tool:"",action:""},{id:"artist",emoji:"",name:"",tool:"",action:""},{id:"scientist",emoji:"",name:"",tool:"",action:""}];function LG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(Pf[0]),[l,c]=x.useState([]),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[w,S]=x.useState("name"),[R,E]=x.useState(""),T=()=>{if(t>=10){h(!0);return}const M=["name","action","name","tool","name","action","name","tool","action","name"][t];S(M);const V=Pf[Math.floor(Math.random()*Pf.length)];o(V);const A=Pf.filter(I=>I.id!==V.id).sort(()=>.5-Math.random()).slice(0,3);if(M==="name"){const I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),E(V.name)}else if(M==="action"){const I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),E(V.name)}else{const I=[V.name,...A.map(k=>k.name)].sort(()=>.5-Math.random());c(I),E(V.name)}};x.useEffect(()=>{T()},[t]);const N=z=>{z===R?(Pt({particleCount:30,spread:50,origin:{y:.7},colors:["#9D4EDD","#4D96FF","#FFD93D"]}),r(M=>M+10),setTimeout(()=>e(M=>M+1),500)):(g(!0),setTimeout(()=>g(!1),500))},O=()=>{e(0),r(0),h(!1),T()},j=()=>{switch(w){case"name":return"";case"action":return`${s.action}`;case"tool":return`${s.tool}`}};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"job",isGameOver:d,onRestart:O,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[w==="name"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1],rotate:m?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:s.emoji}),w==="action"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:y.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:["",s.action,""]})}),w==="tool"&&y.jsx(Ae.div,{animate:{scale:[.9,1.1,1]},className:"bg-white/50 p-6 md:p-8 rounded-3xl",children:y.jsxs("div",{className:"text-3xl md:text-5xl font-bold text-center",children:[" ",s.tool]})}),y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:j()}),y.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2",children:l.map((z,M)=>y.jsx(Go,{speakText:z,onSelect:()=>N(z),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-purple-dark))] hover:bg-white/90","data-testid":`button-job-${M}`,children:z},z+M))})]})})})}const cv=[{id:1,emoji:"",name:""},{id:2,emoji:"",name:""},{id:3,emoji:"",name:""},{id:4,emoji:"",name:""},{id:5,emoji:"",name:""},{id:6,emoji:"",name:""},{id:7,emoji:"",name:""},{id:8,emoji:"",name:""},{id:9,emoji:"",name:""},{id:10,emoji:"",name:""}],jw=["","","",""],FG=["bg-red-100 border-red-300","bg-blue-100 border-blue-300","bg-green-100 border-green-300","bg-yellow-100 border-yellow-300"];function UG({id:t,pieceIndex:e,emoji:n}){const{attributes:r,listeners:s,setNodeRef:o,transform:l,isDragging:c}=jc({id:t}),d=l?{transform:`translate3d(${l.x}px, ${l.y}px, 0)`,zIndex:c?100:1}:void 0;return y.jsxs(Ae.div,{ref:o,style:d,...s,...r,className:`w-20 h-20 md:w-24 md:h-24 rounded-xl shadow-lg flex flex-col items-center justify-center cursor-grab active:cursor-grabbing border-2 ${FG[e]} ${c?"opacity-80":""}`,whileHover:{scale:1.05},"data-testid":`puzzle-piece-${e}`,children:[y.jsx("span",{className:"text-3xl md:text-4xl",children:n}),y.jsx("span",{className:"text-lg font-bold",children:jw[e]})]})}function BG({id:t,slotIndex:e,children:n,isCorrect:r}){const{setNodeRef:s,isOver:o}=Vc({id:t});return y.jsx("div",{ref:s,className:`w-20 h-20 md:w-24 md:h-24 rounded-xl border-2 border-dashed flex flex-col items-center justify-center transition-colors ${o?"border-green-400 bg-green-50":r?"border-green-400 bg-green-100":"border-gray-300 bg-gray-50"}`,"data-testid":`puzzle-slot-${t}`,children:n||y.jsx("span",{className:"text-2xl font-bold text-gray-400",children:jw[e]})})}function zG(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(!1),[l,c]=x.useState(cv[0]),[d,h]=x.useState([]),[m,g]=x.useState([]),w=()=>{if(t>=10){o(!0);return}const T=cv[t%cv.length];c(T);const O=[...[{id:"piece-0",pieceIndex:0,placed:!1},{id:"piece-1",pieceIndex:1,placed:!1},{id:"piece-2",pieceIndex:2,placed:!1},{id:"piece-3",pieceIndex:3,placed:!1}]].sort(()=>.5-Math.random());h(O),g([{id:"slot-0",slotIndex:0,pieceId:null},{id:"slot-1",slotIndex:1,pieceId:null},{id:"slot-2",slotIndex:2,pieceId:null},{id:"slot-3",slotIndex:3,pieceId:null}])};x.useEffect(()=>{w()},[t]);const S=T=>{T.every(O=>O.pieceId?parseInt(O.pieceId.split("-")[1])===O.slotIndex:!1)&&(Pt({particleCount:50,spread:60,origin:{y:.6},colors:["#FFD93D","#6BCB77","#4D96FF","#FF6B6B"]}),r(O=>O+10),setTimeout(()=>e(O=>O+1),800))},R=T=>{const{active:N,over:O}=T;if(!O)return;const j=N.id,z=O.id;if(!z.startsWith("slot-"))return;const M=parseInt(z.split("-")[1]),V=parseInt(j.split("-")[1]);if(M===V){const A=m.map(k=>k.id===z?{...k,pieceId:j}:k);g(A);const I=d.map(k=>k.id===j?{...k,placed:!0}:k);h(I),S(A)}},E=()=>{e(0),r(0),o(!1),w()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"puzzle",isGameOver:s,onRestart:E,colorClass:"bg-[hsl(var(--macaron-yellow))] text-[hsl(var(--macaron-yellow-dark))]",children:y.jsx(Oc,{onDragEnd:R,children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-8",children:[y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:""}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 md:gap-8",children:[y.jsx("div",{className:"grid grid-cols-2 gap-2 p-4 bg-white/50 rounded-2xl",children:m.map(T=>y.jsx(BG,{id:T.id,slotIndex:T.slotIndex,isCorrect:T.pieceId!==null&&parseInt(T.pieceId.split("-")[1])===T.slotIndex,children:T.pieceId&&y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-3xl md:text-4xl",children:l.emoji}),y.jsx("span",{className:"text-lg font-bold",children:jw[T.slotIndex]})]})},T.id))}),y.jsx("div",{className:"text-4xl md:text-6xl font-bold text-white/50",children:"="}),y.jsx("div",{className:"text-[5rem] md:text-[7rem] bg-white/30 p-4 rounded-2xl",children:l.emoji})]}),y.jsxs("div",{className:"flex gap-3 flex-wrap justify-center p-4 bg-white/30 rounded-2xl min-h-[100px]",children:[d.filter(T=>!T.placed).map(T=>y.jsx(UG,{id:T.id,pieceIndex:T.pieceIndex,emoji:l.emoji},T.id)),d.every(T=>T.placed)&&y.jsx("div",{className:"flex items-center text-green-600 font-bold",children:""})]}),y.jsx("p",{className:"text-sm md:text-base text-center opacity-70",children:"  "})]})})})})}const YS=[{base:["","","",""],different:{idx:2,emoji:""},hint:""},{base:["","","",""],different:{idx:1,emoji:""},hint:""},{base:["","","",""],different:{idx:3,emoji:""},hint:""},{base:["","","",""],different:{idx:0,emoji:""},hint:""},{base:["","","",""],different:{idx:2,emoji:""},hint:""},{base:["","","",""],different:{idx:1,emoji:""},hint:""},{base:["","","",""],different:{idx:0,emoji:""},hint:""},{base:["","","",""],different:{idx:3,emoji:""},hint:""},{base:["","","",""],different:{idx:1,emoji:""},hint:""},{base:["","","",""],different:{idx:2,emoji:""},hint:""}],XS=[{items:["","","","","",""],differentIdx:2,hint:""},{items:["","","","","",""],differentIdx:3,hint:""},{items:["","","","","",""],differentIdx:2,hint:""},{items:["","","","","",""],differentIdx:4,hint:""},{items:["","","","","",""],differentIdx:3,hint:""}];function $G(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(null),[m,g]=x.useState(!1),w=()=>{if(t>=10){o(!0);return}if(g(!1),t<5){const E=YS[t%YS.length],T=[...E.base];T[E.different.idx]=E.different.emoji,h({items:T,differentIdx:E.different.idx,hint:E.hint})}else{const E=XS[(t-5)%XS.length];h({items:E.items,differentIdx:E.differentIdx,hint:E.hint})}};x.useEffect(()=>{w()},[t]);const S=E=>{m||!d||(E===d.differentIdx?(g(!0),Pt({particleCount:40,spread:60,origin:{y:.6},colors:["#FFD93D","#6BCB77","#4D96FF"]}),r(T=>T+10),setTimeout(()=>e(T=>T+1),800)):(c(!0),setTimeout(()=>c(!1),500)))},R=()=>{e(0),r(0),o(!1),w()};return d?y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"difference",isGameOver:s,onRestart:R,colorClass:"bg-[hsl(var(--macaron-blue))] text-[hsl(var(--macaron-blue-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[y.jsx(Ae.h3,{animate:{rotate:l?[-3,3,-3,3,0]:0},className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:d.hint}),y.jsx("div",{className:`grid gap-4 md:gap-6 ${d.items.length>4?"grid-cols-3":"grid-cols-2"}`,children:d.items.map((E,T)=>y.jsx(Ae.button,{onClick:()=>S(T),whileHover:{scale:1.1},whileTap:{scale:.95},animate:m&&T===d.differentIdx?{scale:[1,1.2,1],rotate:[0,10,-10,0]}:{},className:`w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 bg-white rounded-2xl shadow-lg flex items-center justify-center text-4xl sm:text-5xl md:text-6xl cursor-pointer transition-all ${m&&T===d.differentIdx?"ring-4 ring-green-400 bg-green-50":"hover:bg-gray-50"}`,"data-testid":`difference-item-${T}`,children:E},T))}),y.jsx("p",{className:"text-sm md:text-base text-center opacity-70",children:""})]})})}):null}function Vw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function qG(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function Nf(t){return t!==null&&t>=0}function WG(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function HG(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Df={scaleX:1,scaleY:1},GG=t=>{var e;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:o,index:l}=t;const c=(e=n[s])!=null?e:r;if(!c)return null;const d=KG(n,l,s);if(l===s){const h=n[o];return h?{x:s<o?h.left+h.width-(c.left+c.width):h.left-c.left,y:0,...Df}:null}return l>s&&l<=o?{x:-c.width-d,y:0,...Df}:l<s&&l>=o?{x:c.width+d,y:0,...Df}:{x:0,y:0,...Df}};function KG(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return!r||!s&&!o?0:n<e?s?r.left-(s.left+s.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(s.left+s.width)}const aN=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=Vw(e,r,n),l=e[s],c=o[s];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},lN="Sortable",cN=zt.createContext({activeIndex:-1,containerId:lN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aN,disabled:{draggable:!1,droppable:!1}});function QG(t){let{children:e,id:n,items:r,strategy:s=aN,disabled:o=!1}=t;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:m}=oG(),g=Xd(lN,n),w=c.rect!==null,S=x.useMemo(()=>r.map(V=>typeof V=="object"&&"id"in V?V.id:V),[r]),R=l!=null,E=l?S.indexOf(l.id):-1,T=h?S.indexOf(h.id):-1,N=x.useRef(S),O=!WG(S,N.current),j=T!==-1&&E===-1||O,z=HG(o);Zs(()=>{O&&R&&m(S)},[O,S,R,m]),x.useEffect(()=>{N.current=S},[S]);const M=x.useMemo(()=>({activeIndex:E,containerId:g,disabled:z,disableTransforms:j,items:S,overIndex:T,useDragOverlay:w,sortedRects:qG(S,d),strategy:s}),[E,g,z.draggable,z.droppable,j,S,T,d,w,s]);return zt.createElement(cN.Provider,{value:M},e)}const ZG=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Vw(n,r,s).indexOf(e)},YG=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=t;return!h||!r||c!==o&&s===l?!1:n?!0:l!==s&&e===d},XG={duration:200,easing:"ease"},uN="transform",JG=Rd.Transition.toString({property:uN,duration:0,easing:"linear"}),eK={roleDescription:"sortable"};function tK(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,l]=x.useState(null),c=x.useRef(n);return Zs(()=>{if(!e&&n!==c.current&&r.current){const d=s.current;if(d){const h=Mc(r.current,{ignoreTransform:!0}),m={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(m.x||m.y)&&l(m)}}n!==c.current&&(c.current=n)},[e,n,r,s]),x.useEffect(()=>{o&&l(null)},[o]),o}function nK(t){let{animateLayoutChanges:e=YG,attributes:n,disabled:r,data:s,getNewIndex:o=ZG,id:l,strategy:c,resizeObserverConfig:d,transition:h=XG}=t;const{items:m,containerId:g,activeIndex:w,disabled:S,disableTransforms:R,sortedRects:E,overIndex:T,useDragOverlay:N,strategy:O}=x.useContext(cN),j=rK(r,S),z=m.indexOf(l),M=x.useMemo(()=>({sortable:{containerId:g,index:z,items:m},...s}),[g,s,z,m]),V=x.useMemo(()=>m.slice(m.indexOf(l)),[m,l]),{rect:A,node:I,isOver:k,setNodeRef:U}=Vc({id:l,data:M,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:V,...d}}),{active:B,activatorEvent:$,activeNodeRect:F,attributes:te,setNodeRef:Ie,listeners:ke,isDragging:pe,over:ee,setActivatorNodeRef:re,transform:W}=jc({id:l,data:M,attributes:{...eK,...n},disabled:j.draggable}),D=BW(U,Ie),K=!!B,ie=K&&!R&&Nf(w)&&Nf(T),ce=!N&&pe,me=ce&&ie?W:null,de=ie?me??(c??O)({rects:E,activeNodeRect:F,activeIndex:w,overIndex:T,index:z}):null,ye=Nf(w)&&Nf(T)?o({id:l,items:m,activeIndex:w,overIndex:T}):z,Ee=B?.id,_e=x.useRef({activeId:Ee,items:m,newIndex:ye,containerId:g}),Ye=m!==_e.current.items,Ke=e({active:B,containerId:g,isDragging:pe,isSorting:K,id:l,index:z,items:m,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:h,wasDragging:_e.current.activeId!=null}),et=tK({disabled:!Ke,index:z,node:I,rect:A});return x.useEffect(()=>{K&&_e.current.newIndex!==ye&&(_e.current.newIndex=ye),g!==_e.current.containerId&&(_e.current.containerId=g),m!==_e.current.items&&(_e.current.items=m)},[K,ye,g,m]),x.useEffect(()=>{if(Ee===_e.current.activeId)return;if(Ee!=null&&_e.current.activeId==null){_e.current.activeId=Ee;return}const vt=setTimeout(()=>{_e.current.activeId=Ee},50);return()=>clearTimeout(vt)},[Ee]),{active:B,activeIndex:w,attributes:te,data:M,rect:A,index:z,newIndex:ye,items:m,isOver:k,isSorting:K,isDragging:pe,listeners:ke,node:I,overIndex:T,over:ee,setNodeRef:D,setActivatorNodeRef:re,setDroppableNodeRef:U,setDraggableNodeRef:Ie,transform:et??de,transition:je()};function je(){if(et||Ye&&_e.current.newIndex===z)return JG;if(!(ce&&!Nw($)||!h)&&(K||Ke))return Rd.Transition.toString({...h,property:uN})}}function rK(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}ht.Down,ht.Right,ht.Up,ht.Left;const uv=[{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","",""],correct:[0,1,2]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["1","2","3","4"],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]},{title:"",items:["","","",""],correct:[0,1,2,3]}];function sK({id:t,emoji:e,index:n}){const{attributes:r,listeners:s,setNodeRef:o,transform:l,transition:c,isDragging:d}=nK({id:t}),h={transform:Rd.Transform.toString(l),transition:c,zIndex:d?100:1};return y.jsx(Ae.div,{ref:o,style:h,...r,...s,className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 bg-white rounded-xl shadow-lg flex items-center justify-center text-3xl sm:text-4xl md:text-5xl cursor-grab active:cursor-grabbing border-2 border-gray-200 ${d?"opacity-70 shadow-2xl":""}`,whileHover:{scale:1.05},"data-testid":`sequence-item-${n}`,children:e})}function iK(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(!1),[l,c]=x.useState(uv[0]),[d,h]=x.useState([]),m=()=>{if(t>=10){o(!0);return}const R=uv[t%uv.length];c(R);const E=R.items.map((T,N)=>({id:`item-${N}`,emoji:T,originalIndex:N})).sort(()=>.5-Math.random());h(E)};x.useEffect(()=>{m()},[t]);const g=R=>{R.every((T,N)=>T.originalIndex===N)&&(Pt({particleCount:50,spread:60,origin:{y:.6},colors:["#6BCB77","#FFD93D","#4D96FF"]}),r(T=>T+10),setTimeout(()=>e(T=>T+1),800))},w=R=>{const{active:E,over:T}=R;if(!T||E.id===T.id)return;const N=d.findIndex(z=>z.id===E.id),O=d.findIndex(z=>z.id===T.id),j=Vw(d,N,O);h(j),g(j)},S=()=>{e(0),r(0),o(!1),m()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"sequence",isGameOver:s,onRestart:S,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:y.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[y.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:l.title}),y.jsx("p",{className:"text-base md:text-lg text-center opacity-80",children:""}),y.jsx(Oc,{collisionDetection:iH,onDragEnd:w,children:y.jsx(QG,{items:d.map(R=>R.id),strategy:GG,children:y.jsx("div",{className:"flex gap-2 sm:gap-3 md:gap-4 p-4 bg-white/30 rounded-2xl flex-wrap justify-center",children:d.map((R,E)=>y.jsx(sK,{id:R.id,emoji:R.emoji,index:E},R.id))})})}),y.jsxs("div",{className:"flex items-center gap-2 text-lg md:text-xl opacity-70",children:[y.jsx("span",{children:""}),y.jsx("span",{className:"text-2xl",children:""}),y.jsx("span",{children:""})]}),y.jsx("p",{className:"text-sm md:text-base text-center opacity-60",children:""})]})})})}const dv=[{title:" vs ",categories:[{id:"food",name:"",emoji:""},{id:"toy",name:"",emoji:""}],items:[{id:"apple",emoji:"",category:"food"},{id:"ball",emoji:"",category:"toy"},{id:"banana",emoji:"",category:"food"},{id:"car",emoji:"",category:"toy"}]},{title:" vs ",categories:[{id:"sky",name:"",emoji:""},{id:"ground",name:"",emoji:""}],items:[{id:"bird",emoji:"",category:"sky"},{id:"dog",emoji:"",category:"ground"},{id:"plane",emoji:"",category:"sky"},{id:"car",emoji:"",category:"ground"}]},{title:" vs ",categories:[{id:"fruit",name:"",emoji:""},{id:"vegetable",name:"",emoji:""}],items:[{id:"grape",emoji:"",category:"fruit"},{id:"carrot",emoji:"",category:"vegetable"},{id:"orange",emoji:"",category:"fruit"},{id:"broccoli",emoji:"",category:"vegetable"}]},{title:" vs ",categories:[{id:"big",name:"",emoji:""},{id:"small",name:"",emoji:""}],items:[{id:"elephant",emoji:"",category:"big"},{id:"ant",emoji:"",category:"small"},{id:"whale",emoji:"",category:"big"},{id:"mouse",emoji:"",category:"small"}]},{title:" vs ",categories:[{id:"cold",name:"",emoji:""},{id:"hot",name:"",emoji:""}],items:[{id:"ice",emoji:"",category:"cold"},{id:"sun",emoji:"",category:"hot"},{id:"snow",emoji:"",category:"cold"},{id:"fire",emoji:"",category:"hot"}]},{title:" vs ",categories:[{id:"animal",name:"",emoji:""},{id:"plant",name:"",emoji:""}],items:[{id:"cat",emoji:"",category:"animal"},{id:"tree",emoji:"",category:"plant"},{id:"fish",emoji:"",category:"animal"},{id:"flower",emoji:"",category:"plant"}]},{title:" vs ",categories:[{id:"clothes",name:"",emoji:""},{id:"shoes",name:"",emoji:""}],items:[{id:"shirt",emoji:"",category:"clothes"},{id:"sneaker",emoji:"",category:"shoes"},{id:"dress",emoji:"",category:"clothes"},{id:"boot",emoji:"",category:"shoes"}]},{title:" vs ",categories:[{id:"day",name:"",emoji:""},{id:"night",name:"",emoji:""}],items:[{id:"sun",emoji:"",category:"day"},{id:"moon",emoji:"",category:"night"},{id:"cloud",emoji:"",category:"day"},{id:"star",emoji:"",category:"night"}]},{title:" vs ",categories:[{id:"round",name:"",emoji:""},{id:"square",name:"",emoji:""}],items:[{id:"ball",emoji:"",category:"round"},{id:"box",emoji:"",category:"square"},{id:"cookie",emoji:"",category:"round"},{id:"book",emoji:"",category:"square"}]},{title:" vs ",categories:[{id:"sea",name:"",emoji:""},{id:"land",name:"",emoji:""}],items:[{id:"fish",emoji:"",category:"sea"},{id:"lion",emoji:"",category:"land"},{id:"octopus",emoji:"",category:"sea"},{id:"rabbit",emoji:"",category:"land"}]}];function oK({id:t,emoji:e,placed:n}){const{attributes:r,listeners:s,setNodeRef:o,transform:l,isDragging:c}=jc({id:t,disabled:n}),d=l?{transform:`translate3d(${l.x}px, ${l.y}px, 0)`,zIndex:c?100:1}:void 0;return n?null:y.jsx(Ae.div,{ref:o,style:d,...s,...r,className:`w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-white rounded-xl shadow-lg flex items-center justify-center text-3xl sm:text-4xl md:text-5xl cursor-grab active:cursor-grabbing border-2 border-gray-200 ${c?"opacity-70":""}`,whileHover:{scale:1.1},"data-testid":`sorting-item-${t}`,children:e})}function aK({id:t,name:e,emoji:n,items:r,isOver:s}){const{setNodeRef:o}=Vc({id:t});return y.jsxs("div",{ref:o,className:`flex-1 min-h-[120px] md:min-h-[150px] p-3 md:p-4 rounded-2xl border-2 border-dashed transition-colors ${s?"border-green-400 bg-green-50":"border-white/50 bg-white/20"}`,"data-testid":`sorting-category-${t}`,children:[y.jsxs("div",{className:"text-center mb-2",children:[y.jsx("span",{className:"text-3xl md:text-4xl",children:n}),y.jsx("div",{className:"font-bold text-sm md:text-base",children:e})]}),y.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:r.map(l=>y.jsx("div",{className:"text-2xl md:text-3xl bg-white/50 p-2 rounded-lg",children:l.emoji},l.id))})]})}function lK(){const[t,e]=x.useState(0),[n,r]=x.useState(0),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,h]=x.useState(dv[0]),[m,g]=x.useState([]),[w,S]=x.useState({}),[R,E]=x.useState(null),T=()=>{if(t>=10){o(!0);return}const M=dv[t%dv.length];h(M),g(M.items.map(V=>({...V,placed:!1})).sort(()=>.5-Math.random())),S({}),E(null)};x.useEffect(()=>{T()},[t]);const N=(M,V)=>{M.every(I=>I.placed)&&(Pt({particleCount:50,spread:60,origin:{y:.6},colors:["#9D4EDD","#4D96FF","#FFD93D"]}),r(I=>I+10),setTimeout(()=>e(I=>I+1),800))},O=M=>{E(null);const{active:V,over:A}=M;if(!A)return;const I=V.id,k=A.id,U=m.find(B=>B.id===I);if(U)if(U.category===k){const B=m.map(F=>F.id===I?{...F,placed:!0}:F);g(B);const $={...w};$[k]||($[k]=[]),$[k].push({id:U.id,emoji:U.emoji}),S($),N(B)}else c(!0),setTimeout(()=>c(!1),500)},j=M=>{E(M.over?.id||null)},z=()=>{e(0),r(0),o(!1),T()};return y.jsx(_t,{children:y.jsx(qt,{title:"",score:n,totalQuestions:10,currentQuestionIndex:t,gameType:"sorting",isGameOver:s,onRestart:z,colorClass:"bg-[hsl(var(--macaron-purple))] text-[hsl(var(--macaron-purple-dark))]",children:y.jsx(Oc,{onDragEnd:O,onDragOver:j,children:y.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[y.jsx(Ae.h3,{animate:{rotate:l?[-3,3,-3,3,0]:0},className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:d.title}),y.jsx("div",{className:"flex gap-3 md:gap-4 w-full max-w-lg",children:d.categories.map(M=>y.jsx(aK,{id:M.id,name:M.name,emoji:M.emoji,items:w[M.id]||[],isOver:R===M.id},M.id))}),y.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap justify-center p-4 bg-white/30 rounded-2xl min-h-[80px]",children:[m.filter(M=>!M.placed).map(M=>y.jsx(oK,{id:M.id,emoji:M.emoji,placed:M.placed},M.id)),m.every(M=>M.placed)&&y.jsx("div",{className:"text-green-600 font-bold flex items-center gap-2",children:" "})]}),y.jsx("p",{className:"text-sm md:text-base text-center opacity-70",children:""})]})})})})}function cK({className:t,...e}){return y.jsx("div",{className:$t("animate-pulse rounded-md bg-muted",t),...e})}function uK(){const[t,e]=x.useState("color"),{data:n,isLoading:r}=jW(t),s=[{id:"color",label:"",icon:cI,color:"text-[hsl(var(--macaron-pink-dark))]",bg:"bg-[hsl(var(--macaron-pink))]"},{id:"math",label:"",icon:rI,color:"text-[hsl(var(--macaron-blue-dark))]",bg:"bg-[hsl(var(--macaron-blue))]"},{id:"english",label:"",icon:nI,color:"text-[hsl(var(--macaron-green-dark))]",bg:"bg-[hsl(var(--macaron-green))]"},{id:"shape",label:"",icon:dI,color:"text-[hsl(var(--macaron-yellow-dark))]",bg:"bg-[hsl(var(--macaron-yellow))]"},{id:"melody",label:"",icon:lI,color:"text-[hsl(var(--macaron-purple-dark))]",bg:"bg-[hsl(var(--macaron-purple))]"},{id:"clock",label:"",icon:sI,color:"text-[hsl(var(--macaron-blue-dark))]",bg:"bg-[hsl(var(--macaron-blue))]"},{id:"bopomofo",label:"",icon:oI,color:"text-[hsl(var(--macaron-green-dark))]",bg:"bg-[hsl(var(--macaron-green))]"},{id:"emotion",label:"",icon:iI,color:"text-[hsl(var(--macaron-purple-dark))]",bg:"bg-[hsl(var(--macaron-purple))]"}];return y.jsx(_t,{children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"font-display text-4xl md:text-5xl font-bold text-[hsl(var(--macaron-purple-dark))]",children:""}),y.jsx("p",{className:"text-muted-foreground font-medium",children:""})]}),y.jsx("div",{className:"flex justify-center gap-1 sm:gap-2 flex-wrap",children:s.map(o=>y.jsxs("button",{onClick:()=>e(o.id),className:`
                flex items-center gap-1 px-3 sm:px-3 md:px-4 h-11 rounded-full font-bold text-sm md:text-base transition-all shadow-sm justify-center
                ${t===o.id?`${o.bg} ${o.color} shadow-md scale-105`:"bg-white text-gray-500 hover:bg-gray-50"}
              `,"data-testid":`tab-${o.id}`,children:[y.jsx(o.icon,{className:"w-5 h-5"}),y.jsx("span",{className:"hidden md:inline",children:o.label})]},o.id))}),y.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-[2rem] p-6 md:p-8 shadow-xl border-4 border-white min-h-[400px]",children:r?y.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(o=>y.jsx(cK,{className:"h-16 w-full rounded-2xl bg-white/50"},o))}):n&&n.length>0?y.jsx("div",{className:"space-y-3",children:n.map((o,l)=>y.jsxs(Ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:`
                    flex items-center justify-between p-4 rounded-2xl border-2
                    ${l===0?"bg-yellow-100 border-yellow-200 shadow-md":"bg-white border-transparent hover:border-gray-100"}
                  `,"data-testid":`score-row-${l}`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center font-black text-lg
                      ${l===0?"bg-yellow-400 text-yellow-900":l===1?"bg-gray-300 text-gray-700":l===2?"bg-orange-200 text-orange-800":"bg-gray-100 text-gray-500"}
                    `,children:l+1}),y.jsx("span",{className:"font-display font-bold text-xl text-foreground",children:o.playerName})]}),y.jsxs("div",{className:"flex items-center gap-2 font-bold text-2xl text-[hsl(var(--macaron-purple-dark))]",children:[o.score," ",y.jsx("span",{className:"text-sm opacity-50 font-normal self-end mb-1",children:""})]})]},o.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center opacity-50",children:[y.jsx(Zp,{className:"w-16 h-16 mb-4 text-gray-300"}),y.jsx("p",{className:"font-display text-xl",children:""}),y.jsx("p",{className:"text-sm",children:""})]})})]})})}const JS=[{id:1,emoji:"",name:"",rarity:""},{id:2,emoji:"",name:"",rarity:""},{id:3,emoji:"",name:"",rarity:""},{id:4,emoji:"",name:"",rarity:""},{id:5,emoji:"",name:"",rarity:""},{id:6,emoji:"",name:"",rarity:""},{id:7,emoji:"",name:"",rarity:""},{id:8,emoji:"",name:"",rarity:""},{id:9,emoji:"",name:"",rarity:""},{id:10,emoji:"",name:"",rarity:""},{id:11,emoji:"",name:"",rarity:""},{id:12,emoji:"",name:"",rarity:""},{id:13,emoji:"",name:"",rarity:""},{id:14,emoji:"",name:"",rarity:""},{id:15,emoji:"",name:"",rarity:""},{id:16,emoji:"",name:"",rarity:""},{id:17,emoji:"",name:"",rarity:""},{id:18,emoji:"",name:"",rarity:""},{id:19,emoji:"",name:"",rarity:""},{id:20,emoji:"",name:"",rarity:""}],dK="kidszone_stickers";function hK(){const[t,e]=x.useState([]);x.useEffect(()=>{const l=localStorage.getItem(dK);l&&e(JSON.parse(l))},[]);const n=l=>{switch(l){case"":return"from-yellow-300 to-orange-400";case"":return"from-purple-300 to-pink-400";default:return"from-blue-200 to-green-200"}},r=l=>{switch(l){case"":return"border-yellow-400 ring-2 ring-yellow-300";case"":return"border-purple-300";default:return"border-white"}},s=t.length,o=JS.length;return y.jsx(_t,{children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"font-display text-3xl sm:text-4xl md:text-5xl font-bold text-[hsl(var(--macaron-purple-dark))]",children:""}),y.jsx("p",{className:"text-sm sm:text-base text-muted-foreground font-medium",children:""}),y.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-full px-4 sm:px-6 py-2 sm:py-3 inline-flex items-center gap-2 sm:gap-3 shadow-md",children:[y.jsx(tc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500 fill-yellow-400"}),y.jsxs("span",{className:"font-display font-bold text-lg sm:text-xl",children:[s," / ",o]}),y.jsx("span",{className:"text-sm sm:text-base text-muted-foreground",children:""})]})]}),y.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-xl sm:rounded-2xl md:rounded-[2rem] p-4 sm:p-6 md:p-8 shadow-xl border-2 sm:border-4 border-white",children:y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:JS.map((l,c)=>{const d=t.includes(l.id);return y.jsx(Ae.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:c*.05},className:`
                    aspect-square rounded-xl sm:rounded-2xl flex flex-col items-center justify-center gap-0.5 sm:gap-1
                    border-2 sm:border-4 transition-all relative overflow-hidden
                    ${d?`bg-gradient-to-br ${n(l.rarity)} ${r(l.rarity)} shadow-lg`:"bg-gray-100 border-gray-200"}
                  `,"data-testid":`sticker-${l.id}`,children:d?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-2xl sm:text-3xl md:text-5xl",children:l.emoji}),y.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-white/80 hidden sm:block",children:l.name}),l.rarity===""&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-yellow-400/20 to-transparent pointer-events-none animate-pulse"})]}):y.jsxs("div",{className:"flex flex-col items-center text-gray-300",children:[y.jsx(aI,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8"}),y.jsx("span",{className:"text-[10px] sm:text-xs mt-0.5 sm:mt-1",children:"???"})]})},l.id)})})}),y.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4 flex-wrap",children:[y.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/60 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full",children:[y.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-br from-blue-200 to-green-200"}),y.jsx("span",{className:"text-xs sm:text-sm font-medium",children:""})]}),y.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/60 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full",children:[y.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-br from-purple-300 to-pink-400"}),y.jsx("span",{className:"text-xs sm:text-sm font-medium",children:""})]}),y.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/60 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full",children:[y.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-gradient-to-br from-yellow-300 to-orange-400"}),y.jsx("span",{className:"text-xs sm:text-sm font-medium",children:""})]})]})]})})}const eC=[{id:"math_master",title:"",description:" 100 ",icon:Zp,color:"text-yellow-500",bgColor:"bg-yellow-100",requirement:{type:"score",value:100}},{id:"word_explorer",title:"",description:" 100 ",icon:KO,color:"text-blue-500",bgColor:"bg-blue-100",requirement:{type:"score",value:100}},{id:"sticker_collector",title:"",description:" 10 ",icon:tc,color:"text-pink-500",bgColor:"bg-pink-100",requirement:{type:"stickers",value:10}},{id:"super_kid",title:"",description:" 20 ",icon:UO,color:"text-purple-500",bgColor:"bg-purple-100",requirement:{type:"stickers",value:20}}],fK="kidszone_stickers",hv="kidszone_achievements";function pK(){const[t,e]=x.useState(""),[n,r]=x.useState([]),[s,o]=x.useState(null),l=x.useRef(null),{speak:c}=Gn(),{data:d}=SC({queryKey:["/api/scores"]});x.useEffect(()=>{const g=localStorage.getItem(hv);g&&r(JSON.parse(g)),h()},[d]);const h=()=>{const g=localStorage.getItem(fK),w=g?JSON.parse(g).length:0,S=[];if(eC.forEach(R=>{R.requirement.type==="stickers"?w>=R.requirement.value&&S.push(R.id):R.requirement.type==="score"&&d&&d.some(T=>T.score>=R.requirement.value)&&S.push(R.id)}),S.length>0){const R=localStorage.getItem(hv),E=R?JSON.parse(R):[],T=[...new Set([...E,...S])];localStorage.setItem(hv,JSON.stringify(T)),r(T)}},m=()=>{if(!s||!t.trim()){c("");return}const g=window.open("","_blank");if(!g)return;s.icon;const w=new Date().toLocaleDateString("zh-TW");g.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title> - ${t}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Noto Sans TC', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #f0f0f0;
          }
          .certificate {
            width: 800px;
            height: 600px;
            background: linear-gradient(135deg, #fff9e6 0%, #fff 50%, #e6f3ff 100%);
            border: 8px solid #ffd700;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
          }
          .corner { position: absolute; font-size: 40px; }
          .corner-tl { top: 20px; left: 20px; }
          .corner-tr { top: 20px; right: 20px; }
          .corner-bl { bottom: 20px; left: 20px; }
          .corner-br { bottom: 20px; right: 20px; }
          .header { font-size: 48px; color: #ff6b6b; margin-bottom: 20px; }
          .award-icon { font-size: 80px; margin: 20px 0; }
          .title { font-size: 36px; color: #4a4a4a; margin: 20px 0; }
          .name { font-size: 48px; color: #6b5ce7; font-weight: bold; margin: 30px 0; }
          .achievement { font-size: 24px; color: #666; margin: 20px 0; }
          .date { font-size: 18px; color: #888; margin-top: 40px; }
          .footer { font-size: 20px; color: #ff9f43; margin-top: 20px; }
          @media print {
            body { background: white; }
            .certificate { box-shadow: none; }
          }
        </style>
      </head>
      <body>
        <div class="certificate">
          <span class="corner corner-tl"></span>
          <span class="corner corner-tr"></span>
          <span class="corner corner-bl"></span>
          <span class="corner corner-br"></span>
          
          <div class="header">  </div>
          <div class="award-icon"></div>
          <div class="title"></div>
          <div class="name">${t}</div>
          <div class="achievement">${s.title}</div>
          <div class="achievement" style="font-size: 18px; color: #888;">${s.description}</div>
          <div class="date">${w}</div>
          <div class="footer"> KidsZone</div>
        </div>
        <script>
          window.onload = function() {
            window.print();
          }
        <\/script>
      </body>
      </html>
    `),g.document.close()};return y.jsx(_t,{children:y.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8 py-4",children:[y.jsxs("div",{className:"text-center space-y-2 sm:space-y-4",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 sm:gap-3",children:[y.jsx(Ev,{className:"w-8 h-8 sm:w-12 sm:h-12 text-[hsl(var(--macaron-yellow))]"}),y.jsx("h1",{className:"font-display text-2xl sm:text-4xl md:text-5xl font-black text-[hsl(var(--macaron-purple-dark))]",children:""}),y.jsx(Ev,{className:"w-8 h-8 sm:w-12 sm:h-12 text-[hsl(var(--macaron-yellow))]"})]}),y.jsx("p",{className:"text-sm sm:text-base text-muted-foreground font-medium",children:""})]}),y.jsxs("div",{className:"bg-white/60 backdrop-blur-md rounded-2xl sm:rounded-[2rem] p-4 sm:p-6 md:p-8 shadow-xl border-4 border-white",children:[y.jsx("h2",{className:"font-display text-lg sm:text-xl md:text-2xl font-bold text-center mb-4 sm:mb-6",children:""}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:eC.map(g=>{const w=n.includes(g.id),S=g.icon;return y.jsxs(Ae.button,{whileHover:{scale:w?1.05:1},whileTap:{scale:w?.95:1},onClick:()=>{w?(o(g),c(g.title)):c("")},className:`
                    p-3 sm:p-4 rounded-xl sm:rounded-2xl flex flex-col items-center gap-2 transition-all
                    ${w?`${g.bgColor} shadow-lg cursor-pointer ring-2 ring-white`:"bg-gray-200 cursor-not-allowed opacity-60"}
                    ${s?.id===g.id?"ring-4 ring-yellow-400":""}
                  `,"data-testid":`achievement-${g.id}`,children:[y.jsx("div",{className:`
                    w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center
                    ${w?"bg-white shadow-md":"bg-gray-300"}
                  `,children:w?y.jsx(S,{className:`w-6 h-6 sm:w-8 sm:h-8 ${g.color}`}):y.jsx(aI,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"})}),y.jsx("span",{className:"text-xs sm:text-sm font-bold text-center",children:g.title}),y.jsx("span",{className:"text-xs text-gray-500 text-center hidden sm:block",children:g.description})]},g.id)})})]}),y.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-yellow-50 to-pink-50 rounded-2xl sm:rounded-[2rem] p-4 sm:p-6 md:p-8 shadow-xl border-4 border-yellow-200",children:[y.jsx("h2",{className:"font-display text-lg sm:text-xl md:text-2xl font-bold text-center mb-4 sm:mb-6",children:""}),y.jsxs("div",{ref:l,className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border-4 border-dashed border-yellow-300 text-center",children:[y.jsx("div",{className:"text-2xl sm:text-3xl mb-2",children:""}),y.jsx("div",{className:"text-4xl sm:text-5xl my-4",children:y.jsx(Zp,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-yellow-500"})}),y.jsx("div",{className:"text-base sm:text-lg text-gray-600 mb-2",children:""}),y.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-purple-600 mb-2",children:t||""}),y.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-700",children:s?.title||""}),y.jsx("div",{className:"text-sm text-gray-500 mt-2",children:s?.description||""})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-center",children:[y.jsx(cm,{type:"text",placeholder:"",value:t,onChange:g=>e(g.target.value),className:"max-w-xs text-center text-base sm:text-lg","data-testid":"input-player-name"}),y.jsxs(sc,{onClick:m,disabled:!t.trim()||!s,"data-testid":"button-print",children:[y.jsx(BO,{className:"w-5 h-5 mr-2"}),""]})]}),!s&&y.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:""})]}),y.jsxs("div",{className:"text-center text-sm sm:text-base text-gray-500 space-y-1",children:[y.jsx("p",{children:""}),y.jsx("p",{children:""})]})]})})}function mK(){const[t,e]=x.useState(null),[n,r]=x.useState(!0);return x.useEffect(()=>{const s=N8(RS,o=>{e(o),r(!1)});return C8(RS).catch(o=>{console.error("Failed to sign in anonymously:",o),r(!1)}),()=>s()},[]),{user:t,loading:n}}function gK(){const t="/kids/".replace(/\/$/,"");return y.jsxs(QD,{children:[y.jsx(yt,{path:t+"/",component:i9}),y.jsx(yt,{path:t+"/scores",component:uK}),y.jsx(yt,{path:t+"/stickers",component:hK}),y.jsx(yt,{path:t+"/game/color",component:LW}),y.jsx(yt,{path:t+"/game/math",component:FW}),y.jsx(yt,{path:t+"/game/english",component:UW}),y.jsx(yt,{path:t+"/game/shape",component:dG}),y.jsx(yt,{path:t+"/game/melody",component:hG}),y.jsx(yt,{path:t+"/game/clock",component:pG}),y.jsx(yt,{path:t+"/game/bopomofo",component:gG}),y.jsx(yt,{path:t+"/game/emotion",component:xG}),y.jsx(yt,{path:t+"/game/coding",component:bG}),y.jsx(yt,{path:t+"/game/garden",component:TG}),y.jsx(yt,{path:t+"/game/market",component:CG}),y.jsx(yt,{path:t+"/game/recycle",component:PG}),y.jsx(yt,{path:t+"/game/memory",component:DG}),y.jsx(yt,{path:t+"/game/animal",component:MG}),y.jsx(yt,{path:t+"/game/traffic",component:OG}),y.jsx(yt,{path:t+"/game/body",component:jG}),y.jsx(yt,{path:t+"/game/food",component:VG}),y.jsx(yt,{path:t+"/game/job",component:LG}),y.jsx(yt,{path:t+"/game/puzzle",component:zG}),y.jsx(yt,{path:t+"/game/difference",component:$G}),y.jsx(yt,{path:t+"/game/sequence",component:iK}),y.jsx(yt,{path:t+"/game/sorting",component:lK}),y.jsx(yt,{path:t+"/certificates",component:pK}),y.jsx(yt,{component:_V})]})}function yK({children:t}){const{loading:e}=mK();return e?y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))]",children:y.jsx(GO,{className:"w-12 h-12 animate-spin text-[hsl(var(--macaron-purple-dark))]"})}):y.jsx(y.Fragment,{children:t})}function vK(){return y.jsx(mM,{client:kM,children:y.jsxs(pV,{children:[y.jsx(Uj,{}),y.jsx(q6,{children:y.jsx(G6,{children:y.jsx(yK,{children:y.jsx(gK,{})})})})]})})}SD.createRoot(document.getElementById("root")).render(y.jsx(vK,{}));
