import{r as h}from"./index-n-EY8GTy.js";let n=null;function i(){if(!("speechSynthesis"in window))return null;const t=window.speechSynthesis.getVoices(),s=[e=>e.lang==="zh-TW"&&e.name.includes("Mei-Jia"),e=>e.lang==="zh-TW"&&e.name.includes("Ting-Ting"),e=>e.lang==="zh-TW",e=>e.lang==="zh_TW",e=>e.lang.startsWith("zh-TW"),e=>e.lang.includes("TW"),e=>e.lang.startsWith("zh-"),e=>e.lang.startsWith("zh_"),e=>e.lang.includes("zh")];for(const e of s){const c=t.find(e);if(c)return c}return null}typeof window<"u"&&"speechSynthesis"in window&&(window.speechSynthesis.addEventListener("voiceschanged",()=>{n=i()}),n=i());function o(){return{speak:h.useCallback(s=>{if(!("speechSynthesis"in window))return;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(s);e.lang="zh-TW",e.rate=.85,e.pitch=1,e.volume=1,n||(n=i()),n&&(e.voice=n),window.speechSynthesis.speak(e)},[])}}export{o as u};
