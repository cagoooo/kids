import{r as s,j as r}from"./index-BKJHQ17t.js";import{L as F,m as y}from"./Layout-BFBCft2f.js";import{G as C}from"./GameShell-pzdoMRQP.js";import{e as j}from"./confetti.module-DX_nmocB.js";import{S as v}from"./SpeakableOption-BYfY4gRL.js";import"./use-scores-BjM8I7zW.js";import"./input-BcmEp2LU.js";import"./arrow-left-5wR0mXsk.js";import"./gift-Dd5BrYTn.js";import"./use-tts-BEkRPK4K.js";const a=[{name:"紅色",hex:"#FF6B6B",id:"red"},{name:"藍色",hex:"#4D96FF",id:"blue"},{name:"綠色",hex:"#6BCB77",id:"green"},{name:"黃色",hex:"#FFD93D",id:"yellow"},{name:"紫色",hex:"#9D4EDD",id:"purple"},{name:"橘色",hex:"#FF9F45",id:"orange"},{name:"粉紅色",hex:"#FF99CC",id:"pink"},{name:"棕色",hex:"#8D6E63",id:"brown"}];function L(){const[o,i]=s.useState(0),[x,m]=s.useState(0),[n,p]=s.useState(a[0]),[h,u]=s.useState([]),[f,d]=s.useState(!1),[g,l]=s.useState(!1),c=()=>{if(o>=10){d(!0);return}const e=a[Math.floor(Math.random()*a.length)];p(e);const t=a.filter(k=>k.id!==e.id).sort(()=>.5-Math.random()).slice(0,3),w=[e,...t].sort(()=>.5-Math.random());u(w)};s.useEffect(()=>{c()},[o]);const b=e=>{e===n.id?(j({particleCount:30,spread:50,origin:{y:.7},colors:[n.hex]}),m(t=>t+10),setTimeout(()=>i(t=>t+1),500)):(l(!0),setTimeout(()=>l(!1),500))},S=()=>{i(0),m(0),d(!1),c()};return r.jsx(F,{children:r.jsx(C,{title:"顏色配對",score:x,totalQuestions:10,currentQuestionIndex:o,gameType:"color",isGameOver:f,onRestart:S,colorClass:"bg-[hsl(var(--macaron-pink))] text-[hsl(var(--macaron-pink-dark))]",children:r.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-12",children:[r.jsx(y.div,{animate:{scale:[.9,1.1,1],rotate:g?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"w-32 h-32 sm:w-40 sm:h-40 md:w-64 md:h-64 rounded-[2rem] md:rounded-[3rem] shadow-2xl border-4 md:border-8 border-white",style:{backgroundColor:n.hex}}),r.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:"這是什麼顏色？"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2 mt-2",children:h.map((e,t)=>r.jsx(v,{speakText:e.name,onSelect:()=>b(e.id),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-3 sm:py-4 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-pink-dark))] hover:bg-white/90","data-testid":`button-color-${e.id}`,children:e.name},e.id+t))})]})})})}export{L as default};
