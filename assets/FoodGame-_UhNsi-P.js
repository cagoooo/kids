import{r as t,j as a}from"./index-BKJHQ17t.js";import{L as $,m as G}from"./Layout-BFBCft2f.js";import{G as N}from"./GameShell-pzdoMRQP.js";import{e as Q}from"./confetti.module-DX_nmocB.js";import{S as A}from"./SpeakableOption-BYfY4gRL.js";import"./use-scores-BjM8I7zW.js";import"./input-BcmEp2LU.js";import"./arrow-left-5wR0mXsk.js";import"./gift-Dd5BrYTn.js";import"./use-tts-BEkRPK4K.js";const m=[{id:"apple",emoji:"ðŸŽ",name:"è˜‹æžœ",type:"æ°´æžœ",color:"ç´…è‰²"},{id:"banana",emoji:"ðŸŒ",name:"é¦™è•‰",type:"æ°´æžœ",color:"é»ƒè‰²"},{id:"grape",emoji:"ðŸ‡",name:"è‘¡è„",type:"æ°´æžœ",color:"ç´«è‰²"},{id:"orange",emoji:"ðŸŠ",name:"æ©˜å­",type:"æ°´æžœ",color:"æ©˜è‰²"},{id:"watermelon",emoji:"ðŸ‰",name:"è¥¿ç“œ",type:"æ°´æžœ",color:"ç¶ è‰²"},{id:"strawberry",emoji:"ðŸ“",name:"è‰èŽ“",type:"æ°´æžœ",color:"ç´…è‰²"},{id:"carrot",emoji:"ðŸ¥•",name:"ç´…è˜¿è””",type:"è”¬èœ",color:"æ©˜è‰²"},{id:"broccoli",emoji:"ðŸ¥¦",name:"èŠ±æ¤°èœ",type:"è”¬èœ",color:"ç¶ è‰²"},{id:"corn",emoji:"ðŸŒ½",name:"çŽ‰ç±³",type:"è”¬èœ",color:"é»ƒè‰²"},{id:"tomato",emoji:"ðŸ…",name:"ç•ªèŒ„",type:"è”¬èœ",color:"ç´…è‰²"},{id:"eggplant",emoji:"ðŸ†",name:"èŒ„å­",type:"è”¬èœ",color:"ç´«è‰²"},{id:"cucumber",emoji:"ðŸ¥’",name:"å°é»ƒç“œ",type:"è”¬èœ",color:"ç¶ è‰²"}];function J(){const[i,u]=t.useState(0),[j,x]=t.useState(0),[n,S]=t.useState(m[0]),[y,c]=t.useState([]),[b,f]=t.useState(!1),[w,g]=t.useState(!1),[v,O]=t.useState("name"),[T,l]=t.useState(""),h=()=>{if(i>=10){f(!0);return}const e=["name","name","type","type","name","color","name","type","color","name"][i];O(e);const o=m[Math.floor(Math.random()*m.length)];if(S(o),e==="name"){const s=m.filter(p=>p.id!==o.id).sort(()=>.5-Math.random()).slice(0,3),d=[o.name,...s.map(p=>p.name)].sort(()=>.5-Math.random());c(d),l(o.name)}else if(e==="type")c(["æ°´æžœ","è”¬èœ"]),l(o.type);else{const s=Array.from(new Set(m.map(d=>d.color))).sort(()=>.5-Math.random()).slice(0,4);s.includes(o.color)||(s[0]=o.color),c(s.sort(()=>.5-Math.random())),l(o.color)}};t.useEffect(()=>{h()},[i]);const F=r=>{r===T?(Q({particleCount:30,spread:50,origin:{y:.7},colors:["#6BCB77","#FFD93D","#FF6B6B"]}),x(e=>e+10),setTimeout(()=>u(e=>e+1),500)):(g(!0),setTimeout(()=>g(!1),500))},k=()=>{u(0),x(0),f(!1),h()},M=()=>{switch(v){case"name":return"é€™æ˜¯ä»€éº¼ï¼Ÿ";case"type":return`${n.emoji} ${n.name} æ˜¯æ°´æžœé‚„æ˜¯è”¬èœï¼Ÿ`;case"color":return`${n.emoji} ${n.name} æ˜¯ä»€éº¼é¡è‰²ï¼Ÿ`}};return a.jsx($,{children:a.jsx(N,{title:"è”¬æžœå¤§é›†åˆ",score:j,totalQuestions:10,currentQuestionIndex:i,gameType:"food",isGameOver:b,onRestart:k,colorClass:"bg-[hsl(var(--macaron-green))] text-[hsl(var(--macaron-green-dark))]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6 md:gap-10",children:[a.jsx(G.div,{animate:{scale:[.9,1.1,1],rotate:w?[-5,5,-5,5,0]:0},transition:{type:"spring",duration:.5},className:"text-[6rem] sm:text-[8rem] md:text-[10rem]",children:n.emoji}),a.jsx("h3",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold text-center",children:M()}),a.jsx("div",{className:`grid gap-4 sm:gap-5 md:gap-6 w-full max-w-lg px-2 ${y.length===2,"grid-cols-2"}`,children:y.map((r,e)=>a.jsx(A,{speakText:r,onSelect:()=>F(r),className:"btn-macaron bg-white text-lg sm:text-xl md:text-2xl py-4 sm:py-5 md:py-6 rounded-xl md:rounded-2xl text-[hsl(var(--macaron-green-dark))] hover:bg-white/90","data-testid":`button-food-${e}`,children:r},r+e))})]})})})}export{J as default};
