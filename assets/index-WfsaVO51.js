const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DYHh3GG7.js","assets/Layout-D47jGtOx.js","assets/use-tts-CR0zriMR.js","assets/dialog-DbPeJPZd.js","assets/input-IuFJ11Qa.js","assets/sparkles-RyfTh_Jc.js","assets/shapes-0_cwrDFZ.js","assets/shopping-cart-BiGsrGBk.js","assets/apple-e7XvCQHZ.js","assets/ColorGame-BOgxWDra.js","assets/GameShell-BPG8gTwq.js","assets/use-scores-DDC_3-nm.js","assets/useQuery-Cuz5Uli3.js","assets/SpeakableOption-BlJ4wnAp.js","assets/MathGame-Aq28PlPT.js","assets/EnglishGame-DwJHg6qw.js","assets/ShapeGame-C6KIRDOm.js","assets/core.esm-dE9rs0r5.js","assets/MelodyGame-DcmReCXK.js","assets/ClockGame-BTes8osX.js","assets/BopomofoGame-DClyAudr.js","assets/EmotionGame-B9Cdp9AS.js","assets/CodingGame-D-X0vmrN.js","assets/GardenGame-CvX4A54Z.js","assets/MarketGame-hy8XBgfH.js","assets/RecycleGame-DYSAq3BE.js","assets/MemoryGame-CJJyXUQZ.js","assets/AnimalGame-C8fFZ4Po.js","assets/TrafficGame-CwWyfJZ-.js","assets/BodyGame-YGPYN3WN.js","assets/FoodGame-Jsl7-Tig.js","assets/JobGame-DpuVFW21.js","assets/PuzzleGame-Cz0bdYFI.js","assets/DifferenceGame-ddaJ2yIv.js","assets/SequenceGame-BYMg-T0k.js","assets/SortingGame-Cl3Gk__o.js","assets/Scores-BX3kqoe1.js","assets/Stickers-DcEmDXop.js","assets/lock-DHvK-8vX.js","assets/Certificates-BV3Am7Cj.js","assets/DailyChallenge-C6rNijqm.js"])))=>i.map(i=>d[i]);
function Gx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function LT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $p={exports:{}},nu={},qp={exports:{}},Le={};var Kv;function Kx(){if(Kv)return Le;Kv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function b(U,Z,Pe){this.props=U,this.context=Z,this.refs=x,this.updater=Pe||S}b.prototype.isReactComponent={},b.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=b.prototype;function G(U,Z,Pe){this.props=U,this.context=Z,this.refs=x,this.updater=Pe||S}var K=G.prototype=new H;K.constructor=G,N(K,b.prototype),K.isPureReactComponent=!0;var J=Array.isArray,ee=Object.prototype.hasOwnProperty,ie={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(U,Z,Pe){var xe,Oe={},Me=null,Fe=null;if(Z!=null)for(xe in Z.ref!==void 0&&(Fe=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)ee.call(Z,xe)&&!P.hasOwnProperty(xe)&&(Oe[xe]=Z[xe]);var Ue=arguments.length-2;if(Ue===1)Oe.children=Pe;else if(1<Ue){for(var We=Array(Ue),Mt=0;Mt<Ue;Mt++)We[Mt]=arguments[Mt+2];Oe.children=We}if(U&&U.defaultProps)for(xe in Ue=U.defaultProps,Ue)Oe[xe]===void 0&&(Oe[xe]=Ue[xe]);return{$$typeof:n,type:U,key:Me,ref:Fe,props:Oe,_owner:ie.current}}function D(U,Z){return{$$typeof:n,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Pe){return Z[Pe]})}var M=/\/+/g;function R(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):Z.toString(36)}function ae(U,Z,Pe,xe,Oe){var Me=typeof U;(Me==="undefined"||Me==="boolean")&&(U=null);var Fe=!1;if(U===null)Fe=!0;else switch(Me){case"string":case"number":Fe=!0;break;case"object":switch(U.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=U,Oe=Oe(Fe),U=xe===""?"."+R(Fe,0):xe,J(Oe)?(Pe="",U!=null&&(Pe=U.replace(M,"$&/")+"/"),ae(Oe,Z,Pe,"",function(Mt){return Mt})):Oe!=null&&(O(Oe)&&(Oe=D(Oe,Pe+(!Oe.key||Fe&&Fe.key===Oe.key?"":(""+Oe.key).replace(M,"$&/")+"/")+U)),Z.push(Oe)),1;if(Fe=0,xe=xe===""?".":xe+":",J(U))for(var Ue=0;Ue<U.length;Ue++){Me=U[Ue];var We=xe+R(Me,Ue);Fe+=ae(Me,Z,Pe,We,Oe)}else if(We=E(U),typeof We=="function")for(U=We.call(U),Ue=0;!(Me=U.next()).done;)Me=Me.value,We=xe+R(Me,Ue++),Fe+=ae(Me,Z,Pe,We,Oe);else if(Me==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ke(U,Z,Pe){if(U==null)return U;var xe=[],Oe=0;return ae(U,xe,"","",function(Me){return Z.call(Pe,Me,Oe++)}),xe}function Ae(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(Pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=Pe)},function(Pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=Pe)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var Te={current:null},X={transition:null},he={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:X,ReactCurrentOwner:ie};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:ke,forEach:function(U,Z,Pe){ke(U,function(){Z.apply(this,arguments)},Pe)},count:function(U){var Z=0;return ke(U,function(){Z++}),Z},toArray:function(U){return ke(U,function(Z){return Z})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=b,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=G,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Le.act=ue,Le.cloneElement=function(U,Z,Pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var xe=N({},U.props),Oe=U.key,Me=U.ref,Fe=U._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,Fe=ie.current),Z.key!==void 0&&(Oe=""+Z.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(We in Z)ee.call(Z,We)&&!P.hasOwnProperty(We)&&(xe[We]=Z[We]===void 0&&Ue!==void 0?Ue[We]:Z[We])}var We=arguments.length-2;if(We===1)xe.children=Pe;else if(1<We){Ue=Array(We);for(var Mt=0;Mt<We;Mt++)Ue[Mt]=arguments[Mt+2];xe.children=Ue}return{$$typeof:n,type:U.type,key:Oe,ref:Me,props:xe,_owner:Fe}},Le.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Le.createElement=A,Le.createFactory=function(U){var Z=A.bind(null,U);return Z.type=U,Z},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:h,render:U}},Le.isValidElement=O,Le.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Ae}},Le.memo=function(U,Z){return{$$typeof:p,type:U,compare:Z===void 0?null:Z}},Le.startTransition=function(U){var Z=X.transition;X.transition={};try{U()}finally{X.transition=Z}},Le.unstable_act=ue,Le.useCallback=function(U,Z){return Te.current.useCallback(U,Z)},Le.useContext=function(U){return Te.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return Te.current.useDeferredValue(U)},Le.useEffect=function(U,Z){return Te.current.useEffect(U,Z)},Le.useId=function(){return Te.current.useId()},Le.useImperativeHandle=function(U,Z,Pe){return Te.current.useImperativeHandle(U,Z,Pe)},Le.useInsertionEffect=function(U,Z){return Te.current.useInsertionEffect(U,Z)},Le.useLayoutEffect=function(U,Z){return Te.current.useLayoutEffect(U,Z)},Le.useMemo=function(U,Z){return Te.current.useMemo(U,Z)},Le.useReducer=function(U,Z,Pe){return Te.current.useReducer(U,Z,Pe)},Le.useRef=function(U){return Te.current.useRef(U)},Le.useState=function(U){return Te.current.useState(U)},Le.useSyncExternalStore=function(U,Z,Pe){return Te.current.useSyncExternalStore(U,Z,Pe)},Le.useTransition=function(){return Te.current.useTransition()},Le.version="18.3.1",Le}var Wv;function Od(){return Wv||(Wv=1,qp.exports=Kx()),qp.exports}var Qv;function Wx(){if(Qv)return nu;Qv=1;var n=Od(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var _,v={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(v[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)v[_]===void 0&&(v[_]=f[_]);return{$$typeof:e,type:h,key:E,ref:S,props:v,_owner:s.current}}return nu.Fragment=t,nu.jsx=l,nu.jsxs=l,nu}var Yv;function Qx(){return Yv||(Yv=1,$p.exports=Wx()),$p.exports}var $=Qx(),Sh={},Hp={exports:{}},an={},Gp={exports:{}},Kp={};var Jv;function Yx(){return Jv||(Jv=1,(function(n){function e(X,he){var ue=X.length;X.push(he);e:for(;0<ue;){var U=ue-1>>>1,Z=X[U];if(0<s(Z,he))X[U]=he,X[ue]=Z,ue=U;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var he=X[0],ue=X.pop();if(ue!==he){X[0]=ue;e:for(var U=0,Z=X.length,Pe=Z>>>1;U<Pe;){var xe=2*(U+1)-1,Oe=X[xe],Me=xe+1,Fe=X[Me];if(0>s(Oe,ue))Me<Z&&0>s(Fe,Oe)?(X[U]=Fe,X[Me]=ue,U=Me):(X[U]=Oe,X[xe]=ue,U=xe);else if(Me<Z&&0>s(Fe,ue))X[U]=Fe,X[Me]=ue,U=Me;else break e}}return he}function s(X,he){var ue=X.sortIndex-he.sortIndex;return ue!==0?ue:X.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var f=[],p=[],_=1,v=null,E=3,S=!1,N=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(X){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=X)r(p),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(p)}}function J(X){if(x=!1,K(X),!N)if(t(f)!==null)N=!0,Ae(ee);else{var he=t(p);he!==null&&Te(J,he.startTime-X)}}function ee(X,he){N=!1,x&&(x=!1,H(A),A=-1),S=!0;var ue=E;try{for(K(he),v=t(f);v!==null&&(!(v.expirationTime>he)||X&&!V());){var U=v.callback;if(typeof U=="function"){v.callback=null,E=v.priorityLevel;var Z=U(v.expirationTime<=he);he=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(f)&&r(f),K(he)}else r(f);v=t(f)}if(v!==null)var Pe=!0;else{var xe=t(p);xe!==null&&Te(J,xe.startTime-he),Pe=!1}return Pe}finally{v=null,E=ue,S=!1}}var ie=!1,P=null,A=-1,D=5,O=-1;function V(){return!(n.unstable_now()-O<D)}function M(){if(P!==null){var X=n.unstable_now();O=X;var he=!0;try{he=P(!0,X)}finally{he?R():(ie=!1,P=null)}}else ie=!1}var R;if(typeof G=="function")R=function(){G(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ke=ae.port2;ae.port1.onmessage=M,R=function(){ke.postMessage(null)}}else R=function(){b(M,0)};function Ae(X){P=X,ie||(ie=!0,R())}function Te(X,he){A=b(function(){X(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){N||S||(N=!0,Ae(ee))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(X){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ue=E;E=he;try{return X()}finally{E=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=E;E=X;try{return he()}finally{E=ue}},n.unstable_scheduleCallback=function(X,he,ue){var U=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,X){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,X={id:_++,callback:he,priorityLevel:X,startTime:ue,expirationTime:Z,sortIndex:-1},ue>U?(X.sortIndex=ue,e(p,X),t(f)===null&&X===t(p)&&(x?(H(A),A=-1):x=!0,Te(J,ue-U))):(X.sortIndex=Z,e(f,X),N||S||(N=!0,Ae(ee))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var he=E;return function(){var ue=E;E=he;try{return X.apply(this,arguments)}finally{E=ue}}}})(Kp)),Kp}var Xv;function Jx(){return Xv||(Xv=1,Gp.exports=Yx()),Gp.exports}var Zv;function Xx(){if(Zv)return an;Zv=1;var n=Od(),e=Jx();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function E(i){return f.call(v,i)?!0:f.call(_,i)?!1:p.test(i)?v[i]=!0:(_[i]=!0,!1)}function S(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,o,u,d){if(o===null||typeof o>"u"||S(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,d,m,g,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=g,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,G);b[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,G);b[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,G);b[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,o,u,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ie=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),X=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,U;function Z(i){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var Pe=!1;function xe(i,o){if(!i||Pe)return"";Pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var d=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){d=W}i.call(o.prototype)}else{try{throw Error()}catch(W){d=W}i()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),g=d.stack.split(`
`),T=m.length-1,k=g.length-1;1<=T&&0<=k&&m[T]!==g[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==g[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==g[k]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=k);break}}}finally{Pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function Oe(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case ie:return"Portal";case D:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ke:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case Ae:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mt(i){var o=We(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,g.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function di(i){i._valueTracker||(i._valueTracker=Mt(i))}function Es(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function dn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function To(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function uc(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Io(i,o){o=o.checked,o!=null&&K(i,"checked",o,!1)}function Ts(i,o){Io(i,o);var u=Ue(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Et(i,o.type,u):o.hasOwnProperty("defaultValue")&&Et(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ul(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Et(i,o,u){(o!=="number"||dn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var gt=Array.isArray;function jn(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function cl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hl(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(gt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function cc(i,o){var u=Ue(o.value),d=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function fi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function dl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?dl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var pi,hc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(pi=pi||document.createElement("div"),pi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=pi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Is(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dc=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(i){dc.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),mi[o]=mi[i]})});function gi(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||mi.hasOwnProperty(i)&&mi[i]?(""+o).trim():o+"px"}function Ao(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=gi(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var fl=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(i,o){if(o){if(fl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Po(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function xo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,Or=null,ft=null;function pl(i){if(i=zl(i)){if(typeof Vr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Uc(o),Vr(i.stateNode,i.type,o))}}function _i(i){Or?ft?ft.push(i):ft=[i]:Or=i}function vi(){if(Or){var i=Or,o=ft;if(ft=Or=null,pl(i),o)for(i=0;i<o.length;i++)pl(o[i])}}function fc(i,o){return i(o)}function pc(){}var ir=!1;function mc(i,o,u){if(ir)return i(o,u);ir=!0;try{return fc(i,o,u)}finally{ir=!1,(Or!==null||ft!==null)&&(pc(),vi())}}function Ss(i,o){var u=i.stateNode;if(u===null)return null;var d=Uc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var wi=!1;if(h)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{wi=!1}function gc(i,o,u,d,m,g,T,k,L){var W=Array.prototype.slice.call(arguments,3);try{o.apply(u,W)}catch(re){this.onError(re)}}var Mr=!1,sr=null,Ro=!1,bn=null,yc={onError:function(i){Mr=!0,sr=i}};function _c(i,o,u,d,m,g,T,k,L){Mr=!1,sr=null,gc.apply(yc,arguments)}function ml(i,o,u,d,m,g,T,k,L){if(_c.apply(this,arguments),Mr){if(Mr){var W=sr;Mr=!1,sr=null}else throw Error(t(198));Ro||(Ro=!0,bn=W)}}function Bn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function gl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function vc(i){if(Bn(i)!==i)throw Error(t(188))}function wc(i){var o=i.alternate;if(!o){if(o=Bn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===u)return vc(m),i;if(g===d)return vc(m),o;g=g.sibling}throw Error(t(188))}if(u.return!==d.return)u=m,d=g;else{for(var T=!1,k=m.child;k;){if(k===u){T=!0,u=m,d=g;break}if(k===d){T=!0,d=m,u=g;break}k=k.sibling}if(!T){for(k=g.child;k;){if(k===u){T=!0,u=g,d=m;break}if(k===d){T=!0,d=g,u=m;break}k=k.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Ec(i){return i=wc(i),i!==null?As(i):null}function As(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=As(i);if(o!==null)return o;i=i.sibling}return null}var yl=e.unstable_scheduleCallback,Co=e.unstable_cancelCallback,Ps=e.unstable_shouldYield,Lr=e.unstable_requestPaint,it=e.unstable_now,wf=e.unstable_getCurrentPriorityLevel,bo=e.unstable_ImmediatePriority,_l=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,vl=e.unstable_LowPriority,ko=e.unstable_IdlePriority,Rs=null,fn=null;function Tc(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Rs,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Cs,or=Math.log,kn=Math.LN2;function Cs(i){return i>>>=0,i===0?32:31-(or(i)/kn|0)|0}var ar=64,Ti=4194304;function Ge(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fr(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,g=i.pingedLanes,T=u&268435455;if(T!==0){var k=T&~m;k!==0?d=Ge(k):(g&=T,g!==0&&(d=Ge(g)))}else T=u&~m,T!==0?d=Ge(T):g!==0&&(d=Ge(g));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,g=o&-o,m>=g||m===16&&(g&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-pn(o),m=1<<u,d|=i[u],o&=~m;return d}function bs(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes;0<g;){var T=31-pn(g),k=1<<T,L=m[T];L===-1?((k&u)===0||(k&d)!==0)&&(m[T]=bs(k,o)):L<=o&&(i.expiredLanes|=k),g&=~k}}function wl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function El(){var i=ar;return ar<<=1,(ar&4194240)===0&&(ar=64),i}function Tl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ds(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-pn(o),i[o]=u}function Ef(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-pn(u),g=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~g}}function Il(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-pn(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var Be=0;function lr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Sl,Do,Al,Pl,xl,ur=!1,No=[],cr=null,hr=null,Lt=null,Ns=new Map,Ur=new Map,mn=[],Ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(i,o){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Ns.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(o.pointerId)}}function $n(i,o,u,d,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},o!==null&&(o=zl(o),o!==null&&Do(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Sc(i,o,u,d,m){switch(o){case"focusin":return cr=$n(cr,i,o,u,d,m),!0;case"dragenter":return hr=$n(hr,i,o,u,d,m),!0;case"mouseover":return Lt=$n(Lt,i,o,u,d,m),!0;case"pointerover":var g=m.pointerId;return Ns.set(g,$n(Ns.get(g)||null,i,o,u,d,m)),!0;case"gotpointercapture":return g=m.pointerId,Ur.set(g,$n(Ur.get(g)||null,i,o,u,d,m)),!0}return!1}function Vo(i){var o=Ls(i.target);if(o!==null){var u=Bn(o);if(u!==null){if(o=u.tag,o===13){if(o=gl(u),o!==null){i.blockedOn=o,xl(i.priority,function(){Al(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function et(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Oo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);yi=d,u.target.dispatchEvent(d),yi=null}else return o=zl(u),o!==null&&Do(o),i.blockedOn=u,!1;o.shift()}return!0}function Ac(i,o,u){et(i)&&u.delete(o)}function Tf(){ur=!1,cr!==null&&et(cr)&&(cr=null),hr!==null&&et(hr)&&(hr=null),Lt!==null&&et(Lt)&&(Lt=null),Ns.forEach(Ac),Ur.forEach(Ac)}function Si(i,o){i.blockedOn===o&&(i.blockedOn=null,ur||(ur=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tf)))}function Ai(i){function o(m){return Si(m,i)}if(0<No.length){Si(No[0],i);for(var u=1;u<No.length;u++){var d=No[u];d.blockedOn===i&&(d.blockedOn=null)}}for(cr!==null&&Si(cr,i),hr!==null&&Si(hr,i),Lt!==null&&Si(Lt,i),Ns.forEach(o),Ur.forEach(o),u=0;u<mn.length;u++)d=mn[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<mn.length&&(u=mn[0],u.blockedOn===null);)Vo(u),u.blockedOn===null&&mn.shift()}var jr=J.ReactCurrentBatchConfig,zr=!0;function dr(i,o,u,d){var m=Be,g=jr.transition;jr.transition=null;try{Be=1,Rl(i,o,u,d)}finally{Be=m,jr.transition=g}}function Pc(i,o,u,d){var m=Be,g=jr.transition;jr.transition=null;try{Be=4,Rl(i,o,u,d)}finally{Be=m,jr.transition=g}}function Rl(i,o,u,d){if(zr){var m=Oo(i,o,u,d);if(m===null)Nf(i,o,d,fr,u),Ii(i,d);else if(Sc(m,i,o,u,d))d.stopPropagation();else if(Ii(i,d),o&4&&-1<Ic.indexOf(i)){for(;m!==null;){var g=zl(m);if(g!==null&&Sl(g),g=Oo(i,o,u,d),g===null&&Nf(i,o,d,fr,u),g===m)break;m=g}m!==null&&d.stopPropagation()}else Nf(i,o,d,null,u)}}var fr=null;function Oo(i,o,u,d){if(fr=null,i=xo(d),i=Ls(i),i!==null)if(o=Bn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=gl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return fr=i,null}function Mo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case bo:return 1;case _l:return 4;case xs:case vl:return 16;case ko:return 536870912;default:return 16}default:return 16}}var gn=null,Lo=null,Br=null;function xc(){if(Br)return Br;var i,o=Lo,u=o.length,d,m="value"in gn?gn.value:gn.textContent,g=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(d=1;d<=T&&o[u-d]===m[g-d];d++);return Br=m.slice(i,1<d?1-d:void 0)}function Vs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function Cl(){return!1}function Bt(i){function o(u,d,m,g,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pr:Cl,this.isPropagationStopped=Cl,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Bt(mr),Pi=ue({},mr,{view:0,detail:0}),Fo=Bt(Pi),Uo,jo,yn,Ms=ue({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yn&&(yn&&i.type==="mousemove"?(Uo=i.screenX-yn.screenX,jo=i.screenY-yn.screenY):jo=Uo=0,yn=i),Uo)},movementY:function(i){return"movementY"in i?i.movementY:jo}}),bl=Bt(Ms),Rc=ue({},Ms,{dataTransfer:0}),Cc=Bt(Rc),zo=ue({},Pi,{relatedTarget:0}),Ft=Bt(zo),bc=ue({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Bt(bc),xi=ue({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Bt(xi),y=ue({},mr,{data:0}),w=Bt(y),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Q[i])?!!o[i]:!1}function De(){return ce}var yt=ue({},Pi,{key:function(i){if(i.key){var o=I[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Vs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?B[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(i){return i.type==="keypress"?Vs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=Bt(yt),Tt=ue({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=Bt(Tt),$r=ue({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),gr=Bt($r),yr=ue({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Bt(yr),kl=ue({},Ms,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jP=Bt(kl),zP=[9,13,27,32],If=h&&"CompositionEvent"in window,Dl=null;h&&"documentMode"in document&&(Dl=document.documentMode);var BP=h&&"TextEvent"in window&&!Dl,Uy=h&&(!If||Dl&&8<Dl&&11>=Dl),jy=" ",zy=!1;function By(i,o){switch(i){case"keyup":return zP.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $o=!1;function $P(i,o){switch(i){case"compositionend":return $y(o);case"keypress":return o.which!==32?null:(zy=!0,jy);case"textInput":return i=o.data,i===jy&&zy?null:i;default:return null}}function qP(i,o){if($o)return i==="compositionend"||!If&&By(i,o)?(i=xc(),Br=Lo=gn=null,$o=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Uy&&o.locale!=="ko"?null:o.data;default:return null}}var HP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HP[i.type]:o==="textarea"}function Hy(i,o,u,d){_i(d),o=Mc(o,"onChange"),0<o.length&&(u=new Os("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var Nl=null,Vl=null;function GP(i){u_(i,0)}function Dc(i){var o=Wo(i);if(Es(o))return i}function KP(i,o){if(i==="change")return o}var Gy=!1;if(h){var Sf;if(h){var Af="oninput"in document;if(!Af){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Af=typeof Ky.oninput=="function"}Sf=Af}else Sf=!1;Gy=Sf&&(!document.documentMode||9<document.documentMode)}function Wy(){Nl&&(Nl.detachEvent("onpropertychange",Qy),Vl=Nl=null)}function Qy(i){if(i.propertyName==="value"&&Dc(Vl)){var o=[];Hy(o,Vl,i,xo(i)),mc(GP,o)}}function WP(i,o,u){i==="focusin"?(Wy(),Nl=o,Vl=u,Nl.attachEvent("onpropertychange",Qy)):i==="focusout"&&Wy()}function QP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Dc(Vl)}function YP(i,o){if(i==="click")return Dc(o)}function JP(i,o){if(i==="input"||i==="change")return Dc(o)}function XP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qn=typeof Object.is=="function"?Object.is:XP;function Ol(i,o){if(qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!qn(i[m],o[m]))return!1}return!0}function Yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jy(i,o){var u=Yy(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Yy(u)}}function Xy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Xy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Zy(){for(var i=window,o=dn();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=dn(i.document)}return o}function Pf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ZP(i){var o=Zy(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Xy(u.ownerDocument.documentElement,u)){if(d!==null&&Pf(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!i.extend&&g>d&&(m=d,d=g,g=m),m=Jy(u,g);var T=Jy(u,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),g>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ex=h&&"documentMode"in document&&11>=document.documentMode,qo=null,xf=null,Ml=null,Rf=!1;function e_(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Rf||qo==null||qo!==dn(d)||(d=qo,"selectionStart"in d&&Pf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ml&&Ol(Ml,d)||(Ml=d,d=Mc(xf,"onSelect"),0<d.length&&(o=new Os("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=qo)))}function Nc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ho={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Cf={},t_={};h&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Vc(i){if(Cf[i])return Cf[i];if(!Ho[i])return i;var o=Ho[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in t_)return Cf[i]=o[u];return i}var n_=Vc("animationend"),r_=Vc("animationiteration"),i_=Vc("animationstart"),s_=Vc("transitionend"),o_=new Map,a_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(i,o){o_.set(i,o),a(o,[i])}for(var bf=0;bf<a_.length;bf++){var kf=a_[bf],tx=kf.toLowerCase(),nx=kf[0].toUpperCase()+kf.slice(1);Ri(tx,"on"+nx)}Ri(n_,"onAnimationEnd"),Ri(r_,"onAnimationIteration"),Ri(i_,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(s_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function l_(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,ml(d,o,void 0,i),i.currentTarget=null}function u_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],L=k.instance,W=k.currentTarget;if(k=k.listener,L!==g&&m.isPropagationStopped())break e;l_(m,k,W),g=L}else for(T=0;T<d.length;T++){if(k=d[T],L=k.instance,W=k.currentTarget,k=k.listener,L!==g&&m.isPropagationStopped())break e;l_(m,k,W),g=L}}}if(Ro)throw i=bn,Ro=!1,bn=null,i}function st(i,o){var u=o[Uf];u===void 0&&(u=o[Uf]=new Set);var d=i+"__bubble";u.has(d)||(c_(o,i,2,!1),u.add(d))}function Df(i,o,u){var d=0;o&&(d|=4),c_(u,i,d,o)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Fl(i){if(!i[Oc]){i[Oc]=!0,r.forEach(function(u){u!=="selectionchange"&&(rx.has(u)||Df(u,!1,i),Df(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Oc]||(o[Oc]=!0,Df("selectionchange",!1,o))}}function c_(i,o,u,d){switch(Mo(o)){case 1:var m=dr;break;case 4:m=Pc;break;default:m=Rl}u=m.bind(null,o,u,i),m=void 0,!wi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Nf(i,o,u,d,m){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;k!==null;){if(T=Ls(k),T===null)return;if(L=T.tag,L===5||L===6){d=g=T;continue e}k=k.parentNode}}d=d.return}mc(function(){var W=g,re=xo(u),se=[];e:{var te=o_.get(i);if(te!==void 0){var fe=Os,ge=i;switch(i){case"keypress":if(Vs(u)===0)break e;case"keydown":case"keyup":fe=Qe;break;case"focusin":ge="focus",fe=Ft;break;case"focusout":ge="blur",fe=Ft;break;case"beforeblur":case"afterblur":fe=Ft;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=gr;break;case n_:case r_:case i_:fe=kc;break;case s_:fe=Bo;break;case"scroll":fe=Fo;break;case"wheel":fe=jP;break;case"copy":case"cut":case"paste":fe=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=_n}var ye=(o&4)!==0,_t=!ye&&i==="scroll",z=ye?te!==null?te+"Capture":null:te;ye=[];for(var F=W,q;F!==null;){q=F;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,z!==null&&(oe=Ss(F,z),oe!=null&&ye.push(Ul(F,oe,q)))),_t)break;F=F.return}0<ye.length&&(te=new fe(te,ge,null,u,re),se.push({event:te,listeners:ye}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",te&&u!==yi&&(ge=u.relatedTarget||u.fromElement)&&(Ls(ge)||ge[qr]))break e;if((fe||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,fe?(ge=u.relatedTarget||u.toElement,fe=W,ge=ge?Ls(ge):null,ge!==null&&(_t=Bn(ge),ge!==_t||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=W),fe!==ge)){if(ye=bl,oe="onMouseLeave",z="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ye=_n,oe="onPointerLeave",z="onPointerEnter",F="pointer"),_t=fe==null?te:Wo(fe),q=ge==null?te:Wo(ge),te=new ye(oe,F+"leave",fe,u,re),te.target=_t,te.relatedTarget=q,oe=null,Ls(re)===W&&(ye=new ye(z,F+"enter",ge,u,re),ye.target=q,ye.relatedTarget=_t,oe=ye),_t=oe,fe&&ge)t:{for(ye=fe,z=ge,F=0,q=ye;q;q=Go(q))F++;for(q=0,oe=z;oe;oe=Go(oe))q++;for(;0<F-q;)ye=Go(ye),F--;for(;0<q-F;)z=Go(z),q--;for(;F--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=Go(ye),z=Go(z)}ye=null}else ye=null;fe!==null&&h_(se,te,fe,ye,!1),ge!==null&&_t!==null&&h_(se,_t,ge,ye,!0)}}e:{if(te=W?Wo(W):window,fe=te.nodeName&&te.nodeName.toLowerCase(),fe==="select"||fe==="input"&&te.type==="file")var ve=KP;else if(qy(te))if(Gy)ve=JP;else{ve=QP;var Ie=WP}else(fe=te.nodeName)&&fe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=YP);if(ve&&(ve=ve(i,W))){Hy(se,ve,u,re);break e}Ie&&Ie(i,te,W),i==="focusout"&&(Ie=te._wrapperState)&&Ie.controlled&&te.type==="number"&&Et(te,"number",te.value)}switch(Ie=W?Wo(W):window,i){case"focusin":(qy(Ie)||Ie.contentEditable==="true")&&(qo=Ie,xf=W,Ml=null);break;case"focusout":Ml=xf=qo=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,e_(se,u,re);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":e_(se,u,re)}var Se;if(If)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else $o?By(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Uy&&u.locale!=="ko"&&($o||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&$o&&(Se=xc()):(gn=re,Lo="value"in gn?gn.value:gn.textContent,$o=!0)),Ie=Mc(W,Re),0<Ie.length&&(Re=new w(Re,i,null,u,re),se.push({event:Re,listeners:Ie}),Se?Re.data=Se:(Se=$y(u),Se!==null&&(Re.data=Se)))),(Se=BP?$P(i,u):qP(i,u))&&(W=Mc(W,"onBeforeInput"),0<W.length&&(re=new w("onBeforeInput","beforeinput",null,u,re),se.push({event:re,listeners:W}),re.data=Se))}u_(se,o)})}function Ul(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Mc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=Ss(i,u),g!=null&&d.unshift(Ul(i,g,m)),g=Ss(i,o),g!=null&&d.push(Ul(i,g,m))),i=i.return}return d}function Go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function h_(i,o,u,d,m){for(var g=o._reactName,T=[];u!==null&&u!==d;){var k=u,L=k.alternate,W=k.stateNode;if(L!==null&&L===d)break;k.tag===5&&W!==null&&(k=W,m?(L=Ss(u,g),L!=null&&T.unshift(Ul(u,L,k))):m||(L=Ss(u,g),L!=null&&T.push(Ul(u,L,k)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var ix=/\r\n?/g,sx=/\u0000|\uFFFD/g;function d_(i){return(typeof i=="string"?i:""+i).replace(ix,`
`).replace(sx,"")}function Lc(i,o,u){if(o=d_(o),d_(i)!==o&&u)throw Error(t(425))}function Fc(){}var Vf=null,Of=null;function Mf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(i){return f_.resolve(null).then(i).catch(lx)}:Lf;function lx(i){setTimeout(function(){throw i})}function Ff(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Ai(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Ai(o)}function Ci(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function p_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ko,jl="__reactProps$"+Ko,qr="__reactContainer$"+Ko,Uf="__reactEvents$"+Ko,ux="__reactListeners$"+Ko,cx="__reactHandles$"+Ko;function Ls(i){var o=i[_r];if(o)return o;for(var u=i.parentNode;u;){if(o=u[qr]||u[_r]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=p_(i);i!==null;){if(u=i[_r])return u;i=p_(i)}return o}i=u,u=i.parentNode}return null}function zl(i){return i=i[_r]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Uc(i){return i[jl]||null}var jf=[],Qo=-1;function bi(i){return{current:i}}function ot(i){0>Qo||(i.current=jf[Qo],jf[Qo]=null,Qo--)}function nt(i,o){Qo++,jf[Qo]=i.current,i.current=o}var ki={},$t=bi(ki),tn=bi(!1),Fs=ki;function Yo(i,o){var u=i.type.contextTypes;if(!u)return ki;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in u)m[g]=o[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function nn(i){return i=i.childContextTypes,i!=null}function jc(){ot(tn),ot($t)}function m_(i,o,u){if($t.current!==ki)throw Error(t(168));nt($t,o),nt(tn,u)}function g_(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Fe(i)||"Unknown",m));return ue({},u,d)}function zc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ki,Fs=$t.current,nt($t,i),nt(tn,tn.current),!0}function y_(i,o,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=g_(i,o,Fs),d.__reactInternalMemoizedMergedChildContext=i,ot(tn),ot($t),nt($t,i)):ot(tn),nt(tn,u)}var Hr=null,Bc=!1,zf=!1;function __(i){Hr===null?Hr=[i]:Hr.push(i)}function hx(i){Bc=!0,__(i)}function Di(){if(!zf&&Hr!==null){zf=!0;var i=0,o=Be;try{var u=Hr;for(Be=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Hr=null,Bc=!1}catch(m){throw Hr!==null&&(Hr=Hr.slice(i+1)),yl(bo,Di),m}finally{Be=o,zf=!1}}return null}var Jo=[],Xo=0,$c=null,qc=0,Dn=[],Nn=0,Us=null,Gr=1,Kr="";function js(i,o){Jo[Xo++]=qc,Jo[Xo++]=$c,$c=i,qc=o}function v_(i,o,u){Dn[Nn++]=Gr,Dn[Nn++]=Kr,Dn[Nn++]=Us,Us=i;var d=Gr;i=Kr;var m=32-pn(d)-1;d&=~(1<<m),u+=1;var g=32-pn(o)+m;if(30<g){var T=m-m%5;g=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Gr=1<<32-pn(o)+m|u<<m|d,Kr=g+i}else Gr=1<<g|u<<m|d,Kr=i}function Bf(i){i.return!==null&&(js(i,1),v_(i,1,0))}function $f(i){for(;i===$c;)$c=Jo[--Xo],Jo[Xo]=null,qc=Jo[--Xo],Jo[Xo]=null;for(;i===Us;)Us=Dn[--Nn],Dn[Nn]=null,Kr=Dn[--Nn],Dn[Nn]=null,Gr=Dn[--Nn],Dn[Nn]=null}var vn=null,wn=null,lt=!1,Hn=null;function w_(i,o){var u=Ln(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function E_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,vn=i,wn=Ci(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,vn=i,wn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Us!==null?{id:Gr,overflow:Kr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ln(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,vn=i,wn=null,!0):!1;default:return!1}}function qf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hf(i){if(lt){var o=wn;if(o){var u=o;if(!E_(i,o)){if(qf(i))throw Error(t(418));o=Ci(u.nextSibling);var d=vn;o&&E_(i,o)?w_(d,u):(i.flags=i.flags&-4097|2,lt=!1,vn=i)}}else{if(qf(i))throw Error(t(418));i.flags=i.flags&-4097|2,lt=!1,vn=i}}}function T_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vn=i}function Hc(i){if(i!==vn)return!1;if(!lt)return T_(i),lt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Mf(i.type,i.memoizedProps)),o&&(o=wn)){if(qf(i))throw I_(),Error(t(418));for(;o;)w_(i,o),o=Ci(o.nextSibling)}if(T_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){wn=Ci(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}wn=null}}else wn=vn?Ci(i.stateNode.nextSibling):null;return!0}function I_(){for(var i=wn;i;)i=Ci(i.nextSibling)}function Zo(){wn=vn=null,lt=!1}function Gf(i){Hn===null?Hn=[i]:Hn.push(i)}var dx=J.ReactCurrentBatchConfig;function Bl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var m=d,g=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(T){var k=m.refs;T===null?delete k[g]:k[g]=T},o._stringRef=g,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Gc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function S_(i){var o=i._init;return o(i._payload)}function A_(i){function o(z,F){if(i){var q=z.deletions;q===null?(z.deletions=[F],z.flags|=16):q.push(F)}}function u(z,F){if(!i)return null;for(;F!==null;)o(z,F),F=F.sibling;return null}function d(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(z,F){return z=ji(z,F),z.index=0,z.sibling=null,z}function g(z,F,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<F?(z.flags|=2,F):q):(z.flags|=2,F)):(z.flags|=1048576,F)}function T(z){return i&&z.alternate===null&&(z.flags|=2),z}function k(z,F,q,oe){return F===null||F.tag!==6?(F=Lp(q,z.mode,oe),F.return=z,F):(F=m(F,q),F.return=z,F)}function L(z,F,q,oe){var ve=q.type;return ve===P?re(z,F,q.props.children,oe,q.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ae&&S_(ve)===F.type)?(oe=m(F,q.props),oe.ref=Bl(z,F,q),oe.return=z,oe):(oe=gh(q.type,q.key,q.props,null,z.mode,oe),oe.ref=Bl(z,F,q),oe.return=z,oe)}function W(z,F,q,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Fp(q,z.mode,oe),F.return=z,F):(F=m(F,q.children||[]),F.return=z,F)}function re(z,F,q,oe,ve){return F===null||F.tag!==7?(F=Ws(q,z.mode,oe,ve),F.return=z,F):(F=m(F,q),F.return=z,F)}function se(z,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Lp(""+F,z.mode,q),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ee:return q=gh(F.type,F.key,F.props,null,z.mode,q),q.ref=Bl(z,null,F),q.return=z,q;case ie:return F=Fp(F,z.mode,q),F.return=z,F;case Ae:var oe=F._init;return se(z,oe(F._payload),q)}if(gt(F)||he(F))return F=Ws(F,z.mode,q,null),F.return=z,F;Gc(z,F)}return null}function te(z,F,q,oe){var ve=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:k(z,F,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:return q.key===ve?L(z,F,q,oe):null;case ie:return q.key===ve?W(z,F,q,oe):null;case Ae:return ve=q._init,te(z,F,ve(q._payload),oe)}if(gt(q)||he(q))return ve!==null?null:re(z,F,q,oe,null);Gc(z,q)}return null}function fe(z,F,q,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(q)||null,k(F,z,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ee:return z=z.get(oe.key===null?q:oe.key)||null,L(F,z,oe,ve);case ie:return z=z.get(oe.key===null?q:oe.key)||null,W(F,z,oe,ve);case Ae:var Ie=oe._init;return fe(z,F,q,Ie(oe._payload),ve)}if(gt(oe)||he(oe))return z=z.get(q)||null,re(F,z,oe,ve,null);Gc(F,oe)}return null}function ge(z,F,q,oe){for(var ve=null,Ie=null,Se=F,Re=F=0,Nt=null;Se!==null&&Re<q.length;Re++){Se.index>Re?(Nt=Se,Se=null):Nt=Se.sibling;var He=te(z,Se,q[Re],oe);if(He===null){Se===null&&(Se=Nt);break}i&&Se&&He.alternate===null&&o(z,Se),F=g(He,F,Re),Ie===null?ve=He:Ie.sibling=He,Ie=He,Se=Nt}if(Re===q.length)return u(z,Se),lt&&js(z,Re),ve;if(Se===null){for(;Re<q.length;Re++)Se=se(z,q[Re],oe),Se!==null&&(F=g(Se,F,Re),Ie===null?ve=Se:Ie.sibling=Se,Ie=Se);return lt&&js(z,Re),ve}for(Se=d(z,Se);Re<q.length;Re++)Nt=fe(Se,z,Re,q[Re],oe),Nt!==null&&(i&&Nt.alternate!==null&&Se.delete(Nt.key===null?Re:Nt.key),F=g(Nt,F,Re),Ie===null?ve=Nt:Ie.sibling=Nt,Ie=Nt);return i&&Se.forEach(function(zi){return o(z,zi)}),lt&&js(z,Re),ve}function ye(z,F,q,oe){var ve=he(q);if(typeof ve!="function")throw Error(t(150));if(q=ve.call(q),q==null)throw Error(t(151));for(var Ie=ve=null,Se=F,Re=F=0,Nt=null,He=q.next();Se!==null&&!He.done;Re++,He=q.next()){Se.index>Re?(Nt=Se,Se=null):Nt=Se.sibling;var zi=te(z,Se,He.value,oe);if(zi===null){Se===null&&(Se=Nt);break}i&&Se&&zi.alternate===null&&o(z,Se),F=g(zi,F,Re),Ie===null?ve=zi:Ie.sibling=zi,Ie=zi,Se=Nt}if(He.done)return u(z,Se),lt&&js(z,Re),ve;if(Se===null){for(;!He.done;Re++,He=q.next())He=se(z,He.value,oe),He!==null&&(F=g(He,F,Re),Ie===null?ve=He:Ie.sibling=He,Ie=He);return lt&&js(z,Re),ve}for(Se=d(z,Se);!He.done;Re++,He=q.next())He=fe(Se,z,Re,He.value,oe),He!==null&&(i&&He.alternate!==null&&Se.delete(He.key===null?Re:He.key),F=g(He,F,Re),Ie===null?ve=He:Ie.sibling=He,Ie=He);return i&&Se.forEach(function(Hx){return o(z,Hx)}),lt&&js(z,Re),ve}function _t(z,F,q,oe){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:e:{for(var ve=q.key,Ie=F;Ie!==null;){if(Ie.key===ve){if(ve=q.type,ve===P){if(Ie.tag===7){u(z,Ie.sibling),F=m(Ie,q.props.children),F.return=z,z=F;break e}}else if(Ie.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ae&&S_(ve)===Ie.type){u(z,Ie.sibling),F=m(Ie,q.props),F.ref=Bl(z,Ie,q),F.return=z,z=F;break e}u(z,Ie);break}else o(z,Ie);Ie=Ie.sibling}q.type===P?(F=Ws(q.props.children,z.mode,oe,q.key),F.return=z,z=F):(oe=gh(q.type,q.key,q.props,null,z.mode,oe),oe.ref=Bl(z,F,q),oe.return=z,z=oe)}return T(z);case ie:e:{for(Ie=q.key;F!==null;){if(F.key===Ie)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){u(z,F.sibling),F=m(F,q.children||[]),F.return=z,z=F;break e}else{u(z,F);break}else o(z,F);F=F.sibling}F=Fp(q,z.mode,oe),F.return=z,z=F}return T(z);case Ae:return Ie=q._init,_t(z,F,Ie(q._payload),oe)}if(gt(q))return ge(z,F,q,oe);if(he(q))return ye(z,F,q,oe);Gc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(u(z,F.sibling),F=m(F,q),F.return=z,z=F):(u(z,F),F=Lp(q,z.mode,oe),F.return=z,z=F),T(z)):u(z,F)}return _t}var ea=A_(!0),P_=A_(!1),Kc=bi(null),Wc=null,ta=null,Kf=null;function Wf(){Kf=ta=Wc=null}function Qf(i){var o=Kc.current;ot(Kc),i._currentValue=o}function Yf(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function na(i,o){Wc=i,Kf=ta=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(rn=!0),i.firstContext=null)}function Vn(i){var o=i._currentValue;if(Kf!==i)if(i={context:i,memoizedValue:o,next:null},ta===null){if(Wc===null)throw Error(t(308));ta=i,Wc.dependencies={lanes:0,firstContext:i}}else ta=ta.next=i;return o}var zs=null;function Jf(i){zs===null?zs=[i]:zs.push(i)}function x_(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Jf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Wr(i,d)}function Wr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ni=!1;function Xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Wr(i,u)}return m=d.interleaved,m===null?(o.next=o,Jf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Wr(i,u)}function Qc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Il(i,u)}}function C_(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?m=g=T:g=g.next=T,u=u.next}while(u!==null);g===null?m=g=o:g=g.next=o}else m=g=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Yc(i,o,u,d){var m=i.updateQueue;Ni=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var L=k,W=L.next;L.next=null,T===null?g=W:T.next=W,T=L;var re=i.alternate;re!==null&&(re=re.updateQueue,k=re.lastBaseUpdate,k!==T&&(k===null?re.firstBaseUpdate=W:k.next=W,re.lastBaseUpdate=L))}if(g!==null){var se=m.baseState;T=0,re=W=L=null,k=g;do{var te=k.lane,fe=k.eventTime;if((d&te)===te){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=i,ye=k;switch(te=o,fe=u,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){se=ge.call(fe,se,te);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,te=typeof ge=="function"?ge.call(fe,se,te):ge,te==null)break e;se=ue({},se,te);break e;case 2:Ni=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[k]:te.push(k))}else fe={eventTime:fe,lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},re===null?(W=re=fe,L=se):re=re.next=fe,T|=te;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;te=k,k=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(re===null&&(L=se),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else g===null&&(m.shared.lanes=0);qs|=T,i.lanes=T,i.memoizedState=se}}function b_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var $l={},vr=bi($l),ql=bi($l),Hl=bi($l);function Bs(i){if(i===$l)throw Error(t(174));return i}function Zf(i,o){switch(nt(Hl,o),nt(ql,i),nt(vr,$l),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:So(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=So(o,i)}ot(vr),nt(vr,o)}function ra(){ot(vr),ot(ql),ot(Hl)}function k_(i){Bs(Hl.current);var o=Bs(vr.current),u=So(o,i.type);o!==u&&(nt(ql,i),nt(vr,u))}function ep(i){ql.current===i&&(ot(vr),ot(ql))}var ct=bi(0);function Jc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tp=[];function np(){for(var i=0;i<tp.length;i++)tp[i]._workInProgressVersionPrimary=null;tp.length=0}var Xc=J.ReactCurrentDispatcher,rp=J.ReactCurrentBatchConfig,$s=0,ht=null,Pt=null,kt=null,Zc=!1,Gl=!1,Kl=0,fx=0;function qt(){throw Error(t(321))}function ip(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!qn(i[u],o[u]))return!1;return!0}function sp(i,o,u,d,m,g){if($s=g,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xc.current=i===null||i.memoizedState===null?yx:_x,i=u(d,m),Gl){g=0;do{if(Gl=!1,Kl=0,25<=g)throw Error(t(301));g+=1,kt=Pt=null,o.updateQueue=null,Xc.current=vx,i=u(d,m)}while(Gl)}if(Xc.current=nh,o=Pt!==null&&Pt.next!==null,$s=0,kt=Pt=ht=null,Zc=!1,o)throw Error(t(300));return i}function op(){var i=Kl!==0;return Kl=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ht.memoizedState=kt=i:kt=kt.next=i,kt}function On(){if(Pt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=kt===null?ht.memoizedState:kt.next;if(o!==null)kt=o,Pt=i;else{if(i===null)throw Error(t(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},kt===null?ht.memoizedState=kt=i:kt=kt.next=i}return kt}function Wl(i,o){return typeof o=="function"?o(i):o}function ap(i){var o=On(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=Pt,m=d.baseQueue,g=u.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}d.baseQueue=m=g,u.pending=null}if(m!==null){g=m.next,d=d.baseState;var k=T=null,L=null,W=g;do{var re=W.lane;if(($s&re)===re)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:i(d,W.action);else{var se={lane:re,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(k=L=se,T=d):L=L.next=se,ht.lanes|=re,qs|=re}W=W.next}while(W!==null&&W!==g);L===null?T=d:L.next=k,qn(d,o.memoizedState)||(rn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do g=m.lane,ht.lanes|=g,qs|=g,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function lp(i){var o=On(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,g=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);qn(g,o.memoizedState)||(rn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),u.lastRenderedState=g}return[g,d]}function D_(){}function N_(i,o){var u=ht,d=On(),m=o(),g=!qn(d.memoizedState,m);if(g&&(d.memoizedState=m,rn=!0),d=d.queue,up(M_.bind(null,u,d,i),[i]),d.getSnapshot!==o||g||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Ql(9,O_.bind(null,u,d,m,o),void 0,null),Dt===null)throw Error(t(349));($s&30)!==0||V_(u,o,m)}return m}function V_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function O_(i,o,u,d){o.value=u,o.getSnapshot=d,L_(o)&&F_(i)}function M_(i,o,u){return u(function(){L_(o)&&F_(i)})}function L_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!qn(i,u)}catch{return!0}}function F_(i){var o=Wr(i,1);o!==null&&Qn(o,i,1,-1)}function U_(i){var o=wr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:i},o.queue=i,i=i.dispatch=gx.bind(null,ht,i),[o.memoizedState,i]}function Ql(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function j_(){return On().memoizedState}function eh(i,o,u,d){var m=wr();ht.flags|=i,m.memoizedState=Ql(1|o,u,void 0,d===void 0?null:d)}function th(i,o,u,d){var m=On();d=d===void 0?null:d;var g=void 0;if(Pt!==null){var T=Pt.memoizedState;if(g=T.destroy,d!==null&&ip(d,T.deps)){m.memoizedState=Ql(o,u,g,d);return}}ht.flags|=i,m.memoizedState=Ql(1|o,u,g,d)}function z_(i,o){return eh(8390656,8,i,o)}function up(i,o){return th(2048,8,i,o)}function B_(i,o){return th(4,2,i,o)}function $_(i,o){return th(4,4,i,o)}function q_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function H_(i,o,u){return u=u!=null?u.concat([i]):null,th(4,4,q_.bind(null,o,i),u)}function cp(){}function G_(i,o){var u=On();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&ip(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function K_(i,o){var u=On();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&ip(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function W_(i,o,u){return($s&21)===0?(i.baseState&&(i.baseState=!1,rn=!0),i.memoizedState=u):(qn(u,o)||(u=El(),ht.lanes|=u,qs|=u,i.baseState=!0),o)}function px(i,o){var u=Be;Be=u!==0&&4>u?u:4,i(!0);var d=rp.transition;rp.transition={};try{i(!1),o()}finally{Be=u,rp.transition=d}}function Q_(){return On().memoizedState}function mx(i,o,u){var d=Fi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Y_(i))J_(o,u);else if(u=x_(i,o,u,d),u!==null){var m=Xt();Qn(u,i,d,m),X_(u,o,d)}}function gx(i,o,u){var d=Fi(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Y_(i))J_(o,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var T=o.lastRenderedState,k=g(T,u);if(m.hasEagerState=!0,m.eagerState=k,qn(k,T)){var L=o.interleaved;L===null?(m.next=m,Jf(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}u=x_(i,o,m,d),u!==null&&(m=Xt(),Qn(u,i,d,m),X_(u,o,d))}}function Y_(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function J_(i,o){Gl=Zc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function X_(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Il(i,u)}}var nh={readContext:Vn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},yx={readContext:Vn,useCallback:function(i,o){return wr().memoizedState=[i,o===void 0?null:o],i},useContext:Vn,useEffect:z_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,eh(4194308,4,q_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return eh(4194308,4,i,o)},useInsertionEffect:function(i,o){return eh(4,2,i,o)},useMemo:function(i,o){var u=wr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=wr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=mx.bind(null,ht,i),[d.memoizedState,i]},useRef:function(i){var o=wr();return i={current:i},o.memoizedState=i},useState:U_,useDebugValue:cp,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=U_(!1),o=i[0];return i=px.bind(null,i[1]),wr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=ht,m=wr();if(lt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Dt===null)throw Error(t(349));($s&30)!==0||V_(d,o,u)}m.memoizedState=u;var g={value:u,getSnapshot:o};return m.queue=g,z_(M_.bind(null,d,g,i),[i]),d.flags|=2048,Ql(9,O_.bind(null,d,g,u,o),void 0,null),u},useId:function(){var i=wr(),o=Dt.identifierPrefix;if(lt){var u=Kr,d=Gr;u=(d&~(1<<32-pn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Kl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=fx++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},_x={readContext:Vn,useCallback:G_,useContext:Vn,useEffect:up,useImperativeHandle:H_,useInsertionEffect:B_,useLayoutEffect:$_,useMemo:K_,useReducer:ap,useRef:j_,useState:function(){return ap(Wl)},useDebugValue:cp,useDeferredValue:function(i){var o=On();return W_(o,Pt.memoizedState,i)},useTransition:function(){var i=ap(Wl)[0],o=On().memoizedState;return[i,o]},useMutableSource:D_,useSyncExternalStore:N_,useId:Q_,unstable_isNewReconciler:!1},vx={readContext:Vn,useCallback:G_,useContext:Vn,useEffect:up,useImperativeHandle:H_,useInsertionEffect:B_,useLayoutEffect:$_,useMemo:K_,useReducer:lp,useRef:j_,useState:function(){return lp(Wl)},useDebugValue:cp,useDeferredValue:function(i){var o=On();return Pt===null?o.memoizedState=i:W_(o,Pt.memoizedState,i)},useTransition:function(){var i=lp(Wl)[0],o=On().memoizedState;return[i,o]},useMutableSource:D_,useSyncExternalStore:N_,useId:Q_,unstable_isNewReconciler:!1};function Gn(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function hp(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var rh={isMounted:function(i){return(i=i._reactInternals)?Bn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=Xt(),m=Fi(i),g=Qr(d,m);g.payload=o,u!=null&&(g.callback=u),o=Vi(i,g,m),o!==null&&(Qn(o,i,m,d),Qc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=Xt(),m=Fi(i),g=Qr(d,m);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=Vi(i,g,m),o!==null&&(Qn(o,i,m,d),Qc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Xt(),d=Fi(i),m=Qr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Vi(i,m,d),o!==null&&(Qn(o,i,d,u),Qc(o,i,d))}};function Z_(i,o,u,d,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,T):o.prototype&&o.prototype.isPureReactComponent?!Ol(u,d)||!Ol(m,g):!0}function ev(i,o,u){var d=!1,m=ki,g=o.contextType;return typeof g=="object"&&g!==null?g=Vn(g):(m=nn(o)?Fs:$t.current,d=o.contextTypes,g=(d=d!=null)?Yo(i,m):ki),o=new o(u,g),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rh,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=g),o}function tv(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&rh.enqueueReplaceState(o,o.state,null)}function dp(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Xf(i);var g=o.contextType;typeof g=="object"&&g!==null?m.context=Vn(g):(g=nn(o)?Fs:$t.current,m.context=Yo(i,g)),m.state=i.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(hp(i,o,g,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&rh.enqueueReplaceState(m,m.state,null),Yc(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ia(i,o){try{var u="",d=o;do u+=Oe(d),d=d.return;while(d);var m=u}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:o,stack:m,digest:null}}function fp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function pp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var wx=typeof WeakMap=="function"?WeakMap:Map;function nv(i,o,u){u=Qr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){ch||(ch=!0,Cp=d),pp(i,o)},u}function rv(i,o,u){u=Qr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){pp(i,o)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){pp(i,o),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function iv(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new wx;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=Vx.bind(null,i,o,u),o.then(i,i))}function sv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ov(i,o,u,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qr(-1,1),o.tag=2,Vi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Ex=J.ReactCurrentOwner,rn=!1;function Jt(i,o,u,d){o.child=i===null?P_(o,null,u,d):ea(o,i.child,u,d)}function av(i,o,u,d,m){u=u.render;var g=o.ref;return na(o,m),d=sp(i,o,u,d,g,m),u=op(),i!==null&&!rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yr(i,o,m)):(lt&&u&&Bf(o),o.flags|=1,Jt(i,o,d,m),o.child)}function lv(i,o,u,d,m){if(i===null){var g=u.type;return typeof g=="function"&&!Mp(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=g,uv(i,o,g,d,m)):(i=gh(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,(i.lanes&m)===0){var T=g.memoizedProps;if(u=u.compare,u=u!==null?u:Ol,u(T,d)&&i.ref===o.ref)return Yr(i,o,m)}return o.flags|=1,i=ji(g,d),i.ref=o.ref,i.return=o,o.child=i}function uv(i,o,u,d,m){if(i!==null){var g=i.memoizedProps;if(Ol(g,d)&&i.ref===o.ref)if(rn=!1,o.pendingProps=d=g,(i.lanes&m)!==0)(i.flags&131072)!==0&&(rn=!0);else return o.lanes=i.lanes,Yr(i,o,m)}return mp(i,o,u,d,m)}function cv(i,o,u){var d=o.pendingProps,m=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(oa,En),En|=u;else{if((u&1073741824)===0)return i=g!==null?g.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,nt(oa,En),En|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:u,nt(oa,En),En|=d}else g!==null?(d=g.baseLanes|u,o.memoizedState=null):d=u,nt(oa,En),En|=d;return Jt(i,o,m,u),o.child}function hv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function mp(i,o,u,d,m){var g=nn(u)?Fs:$t.current;return g=Yo(o,g),na(o,m),u=sp(i,o,u,d,g,m),d=op(),i!==null&&!rn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yr(i,o,m)):(lt&&d&&Bf(o),o.flags|=1,Jt(i,o,u,m),o.child)}function dv(i,o,u,d,m){if(nn(u)){var g=!0;zc(o)}else g=!1;if(na(o,m),o.stateNode===null)sh(i,o),ev(o,u,d),dp(o,u,d,m),d=!0;else if(i===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var L=T.context,W=u.contextType;typeof W=="object"&&W!==null?W=Vn(W):(W=nn(u)?Fs:$t.current,W=Yo(o,W));var re=u.getDerivedStateFromProps,se=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||L!==W)&&tv(o,T,d,W),Ni=!1;var te=o.memoizedState;T.state=te,Yc(o,d,T,m),L=o.memoizedState,k!==d||te!==L||tn.current||Ni?(typeof re=="function"&&(hp(o,u,re,d),L=o.memoizedState),(k=Ni||Z_(o,u,k,d,te,L,W))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=W,d=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,R_(i,o),k=o.memoizedProps,W=o.type===o.elementType?k:Gn(o.type,k),T.props=W,se=o.pendingProps,te=T.context,L=u.contextType,typeof L=="object"&&L!==null?L=Vn(L):(L=nn(u)?Fs:$t.current,L=Yo(o,L));var fe=u.getDerivedStateFromProps;(re=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==se||te!==L)&&tv(o,T,d,L),Ni=!1,te=o.memoizedState,T.state=te,Yc(o,d,T,m);var ge=o.memoizedState;k!==se||te!==ge||tn.current||Ni?(typeof fe=="function"&&(hp(o,u,fe,d),ge=o.memoizedState),(W=Ni||Z_(o,u,W,d,te,ge,L)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,ge,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,ge,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ge),T.props=d,T.state=ge,T.context=L,d=W):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),d=!1)}return gp(i,o,u,d,g,m)}function gp(i,o,u,d,m,g){hv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&y_(o,u,!1),Yr(i,o,g);d=o.stateNode,Ex.current=o;var k=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=ea(o,i.child,null,g),o.child=ea(o,null,k,g)):Jt(i,o,k,g),o.memoizedState=d.state,m&&y_(o,u,!0),o.child}function fv(i){var o=i.stateNode;o.pendingContext?m_(i,o.pendingContext,o.pendingContext!==o.context):o.context&&m_(i,o.context,!1),Zf(i,o.containerInfo)}function pv(i,o,u,d,m){return Zo(),Gf(m),o.flags|=256,Jt(i,o,u,d),o.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function _p(i){return{baseLanes:i,cachePool:null,transitions:null}}function mv(i,o,u){var d=o.pendingProps,m=ct.current,g=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=i!==null&&i.memoizedState===null?!1:(m&2)!==0),k?(g=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),nt(ct,m&1),i===null)return Hf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,g?(d=o.mode,g=o.child,T={mode:"hidden",children:T},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=T):g=yh(T,d,0,null),i=Ws(i,d,u,null),g.return=o,i.return=o,g.sibling=i,o.child=g,o.child.memoizedState=_p(u),o.memoizedState=yp,i):vp(o,T));if(m=i.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return Tx(i,o,T,d,k,m,u);if(g){g=d.fallback,T=o.mode,m=i.child,k=m.sibling;var L={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=ji(m,L),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?g=ji(k,g):(g=Ws(g,T,u,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,T=i.child.memoizedState,T=T===null?_p(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},g.memoizedState=T,g.childLanes=i.childLanes&~u,o.memoizedState=yp,d}return g=i.child,i=g.sibling,d=ji(g,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function vp(i,o){return o=yh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ih(i,o,u,d){return d!==null&&Gf(d),ea(o,i.child,null,u),i=vp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Tx(i,o,u,d,m,g,T){if(u)return o.flags&256?(o.flags&=-257,d=fp(Error(t(422))),ih(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(g=d.fallback,m=o.mode,d=yh({mode:"visible",children:d.children},m,0,null),g=Ws(g,m,T,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,(o.mode&1)!==0&&ea(o,i.child,null,T),o.child.memoizedState=_p(T),o.memoizedState=yp,g);if((o.mode&1)===0)return ih(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,g=Error(t(419)),d=fp(g,d,void 0),ih(i,o,T,d)}if(k=(T&i.childLanes)!==0,rn||k){if(d=Dt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,Wr(i,m),Qn(d,i,m,-1))}return Op(),d=fp(Error(t(421))),ih(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Ox.bind(null,i),m._reactRetry=o,null):(i=g.treeContext,wn=Ci(m.nextSibling),vn=o,lt=!0,Hn=null,i!==null&&(Dn[Nn++]=Gr,Dn[Nn++]=Kr,Dn[Nn++]=Us,Gr=i.id,Kr=i.overflow,Us=o),o=vp(o,d.children),o.flags|=4096,o)}function gv(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Yf(i.return,o,u)}function wp(i,o,u,d,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=u,g.tailMode=m)}function yv(i,o,u){var d=o.pendingProps,m=d.revealOrder,g=d.tail;if(Jt(i,o,d.children,u),d=ct.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gv(i,u,o);else if(i.tag===19)gv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(nt(ct,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Jc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),wp(o,!1,m,u,g);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Jc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}wp(o,!0,u,null,g);break;case"together":wp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),qs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=ji(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ji(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ix(i,o,u){switch(o.tag){case 3:fv(o),Zo();break;case 5:k_(o);break;case 1:nn(o.type)&&zc(o);break;case 4:Zf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;nt(Kc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(nt(ct,ct.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?mv(i,o,u):(nt(ct,ct.current&1),i=Yr(i,o,u),i!==null?i.sibling:null);nt(ct,ct.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return yv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ct,ct.current),d)break;return null;case 22:case 23:return o.lanes=0,cv(i,o,u)}return Yr(i,o,u)}var _v,Ep,vv,wv;_v=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ep=function(){},vv=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Bs(vr.current);var g=null;switch(u){case"input":m=To(i,m),d=To(i,d),g=[];break;case"select":m=ue({},m,{value:void 0}),d=ue({},d,{value:void 0}),g=[];break;case"textarea":m=cl(i,m),d=cl(i,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Fc)}zn(u,d);var T;u=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var k=m[W];for(T in k)k.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in d){var L=d[W];if(k=m?.[W],d.hasOwnProperty(W)&&L!==k&&(L!=null||k!=null))if(W==="style")if(k){for(T in k)!k.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in L)L.hasOwnProperty(T)&&k[T]!==L[T]&&(u||(u={}),u[T]=L[T])}else u||(g||(g=[]),g.push(W,u)),u=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(g=g||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&st("scroll",i),g||k===L||(g=[])):(g=g||[]).push(W,L))}u&&(g=g||[]).push("style",u);var W=g;(o.updateQueue=W)&&(o.flags|=4)}},wv=function(i,o,u,d){u!==d&&(o.flags|=4)};function Yl(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function Sx(i,o,u){var d=o.pendingProps;switch($f(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return nn(o.type)&&jc(),Ht(o),null;case 3:return d=o.stateNode,ra(),ot(tn),ot($t),np(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hn!==null&&(Dp(Hn),Hn=null))),Ep(i,o),Ht(o),null;case 5:ep(o);var m=Bs(Hl.current);if(u=o.type,i!==null&&o.stateNode!=null)vv(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=Bs(vr.current),Hc(o)){d=o.stateNode,u=o.type;var g=o.memoizedProps;switch(d[_r]=o,d[jl]=g,i=(o.mode&1)!==0,u){case"dialog":st("cancel",d),st("close",d);break;case"iframe":case"object":case"embed":st("load",d);break;case"video":case"audio":for(m=0;m<Ll.length;m++)st(Ll[m],d);break;case"source":st("error",d);break;case"img":case"image":case"link":st("error",d),st("load",d);break;case"details":st("toggle",d);break;case"input":uc(d,g),st("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},st("invalid",d);break;case"textarea":hl(d,g),st("invalid",d)}zn(u,g),m=null;for(var T in g)if(g.hasOwnProperty(T)){var k=g[T];T==="children"?typeof k=="string"?d.textContent!==k&&(g.suppressHydrationWarning!==!0&&Lc(d.textContent,k,i),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&Lc(d.textContent,k,i),m=["children",""+k]):s.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&st("scroll",d)}switch(u){case"input":di(d),ul(d,g,!0);break;case"textarea":di(d),fi(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Fc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=dl(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(u,{is:d.is}):(i=T.createElement(u),u==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,u),i[_r]=o,i[jl]=d,_v(i,o,!1,!1),o.stateNode=i;e:{switch(T=Po(u,d),u){case"dialog":st("cancel",i),st("close",i),m=d;break;case"iframe":case"object":case"embed":st("load",i),m=d;break;case"video":case"audio":for(m=0;m<Ll.length;m++)st(Ll[m],i);m=d;break;case"source":st("error",i),m=d;break;case"img":case"image":case"link":st("error",i),st("load",i),m=d;break;case"details":st("toggle",i),m=d;break;case"input":uc(i,d),m=To(i,d),st("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ue({},d,{value:void 0}),st("invalid",i);break;case"textarea":hl(i,d),m=cl(i,d),st("invalid",i);break;default:m=d}zn(u,m),k=m;for(g in k)if(k.hasOwnProperty(g)){var L=k[g];g==="style"?Ao(i,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&hc(i,L)):g==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&Is(i,L):typeof L=="number"&&Is(i,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?L!=null&&g==="onScroll"&&st("scroll",i):L!=null&&K(i,g,L,T))}switch(u){case"input":di(i),ul(i,d,!1);break;case"textarea":di(i),fi(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?jn(i,!!d.multiple,g,!1):d.defaultValue!=null&&jn(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Fc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)wv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=Bs(Hl.current),Bs(vr.current),Hc(o)){if(d=o.stateNode,u=o.memoizedProps,d[_r]=o,(g=d.nodeValue!==u)&&(i=vn,i!==null))switch(i.tag){case 3:Lc(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lc(d.nodeValue,u,(i.mode&1)!==0)}g&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[_r]=o,o.stateNode=d}return Ht(o),null;case 13:if(ot(ct),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&wn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)I_(),Zo(),o.flags|=98560,g=!1;else if(g=Hc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[_r]=o}else Zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),g=!1}else Hn!==null&&(Dp(Hn),Hn=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ct.current&1)!==0?xt===0&&(xt=3):Op())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return ra(),Ep(i,o),i===null&&Fl(o.stateNode.containerInfo),Ht(o),null;case 10:return Qf(o.type._context),Ht(o),null;case 17:return nn(o.type)&&jc(),Ht(o),null;case 19:if(ot(ct),g=o.memoizedState,g===null)return Ht(o),null;if(d=(o.flags&128)!==0,T=g.rendering,T===null)if(d)Yl(g,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Jc(i),T!==null){for(o.flags|=128,Yl(g,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)g=u,i=d,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,i=T.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return nt(ct,ct.current&1|2),o.child}i=i.sibling}g.tail!==null&&it()>aa&&(o.flags|=128,d=!0,Yl(g,!1),o.lanes=4194304)}else{if(!d)if(i=Jc(T),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Yl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!lt)return Ht(o),null}else 2*it()-g.renderingStartTime>aa&&u!==1073741824&&(o.flags|=128,d=!0,Yl(g,!1),o.lanes=4194304);g.isBackwards?(T.sibling=o.child,o.child=T):(u=g.last,u!==null?u.sibling=T:o.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=it(),o.sibling=null,u=ct.current,nt(ct,d?u&1|2:u&1),o):(Ht(o),null);case 22:case 23:return Vp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(En&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Ax(i,o){switch($f(o),o.tag){case 1:return nn(o.type)&&jc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ra(),ot(tn),ot($t),np(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return ep(o),null;case 13:if(ot(ct),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Zo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ot(ct),null;case 4:return ra(),null;case 10:return Qf(o.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var oh=!1,Gt=!1,Px=typeof WeakSet=="function"?WeakSet:Set,pe=null;function sa(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){pt(i,o,d)}else u.current=null}function Tp(i,o,u){try{u()}catch(d){pt(i,o,d)}}var Ev=!1;function xx(i,o){if(Vf=zr,i=Zy(),Pf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{u.nodeType,g.nodeType}catch{u=null;break e}var T=0,k=-1,L=-1,W=0,re=0,se=i,te=null;t:for(;;){for(var fe;se!==u||m!==0&&se.nodeType!==3||(k=T+m),se!==g||d!==0&&se.nodeType!==3||(L=T+d),se.nodeType===3&&(T+=se.nodeValue.length),(fe=se.firstChild)!==null;)te=se,se=fe;for(;;){if(se===i)break t;if(te===u&&++W===m&&(k=T),te===g&&++re===d&&(L=T),(fe=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=fe}u=k===-1||L===-1?null:{start:k,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Of={focusedElem:i,selectionRange:u},zr=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,_t=ge.memoizedState,z=o.stateNode,F=z.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Gn(o.type,ye),_t);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){pt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return ge=Ev,Ev=!1,ge}function Jl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var g=m.destroy;m.destroy=void 0,g!==void 0&&Tp(o,u,g)}m=m.next}while(m!==d)}}function ah(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Ip(i){var o=i.ref;if(o!==null){var u=i.stateNode;i.tag,i=u,typeof o=="function"?o(i):o.current=i}}function Tv(i){var o=i.alternate;o!==null&&(i.alternate=null,Tv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[_r],delete o[jl],delete o[Uf],delete o[ux],delete o[cx])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Iv(i){return i.tag===5||i.tag===3||i.tag===4}function Sv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Iv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fc));else if(d!==4&&(i=i.child,i!==null))for(Sp(i,o,u),i=i.sibling;i!==null;)Sp(i,o,u),i=i.sibling}function Ap(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Ap(i,o,u),i=i.sibling;i!==null;)Ap(i,o,u),i=i.sibling}var Ut=null,Kn=!1;function Oi(i,o,u){for(u=u.child;u!==null;)Av(i,o,u),u=u.sibling}function Av(i,o,u){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Rs,u)}catch{}switch(u.tag){case 5:Gt||sa(u,o);case 6:var d=Ut,m=Kn;Ut=null,Oi(i,o,u),Ut=d,Kn=m,Ut!==null&&(Kn?(i=Ut,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(Kn?(i=Ut,u=u.stateNode,i.nodeType===8?Ff(i.parentNode,u):i.nodeType===1&&Ff(i,u),Ai(i)):Ff(Ut,u.stateNode));break;case 4:d=Ut,m=Kn,Ut=u.stateNode.containerInfo,Kn=!0,Oi(i,o,u),Ut=d,Kn=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,T=g.destroy;g=g.tag,T!==void 0&&((g&2)!==0||(g&4)!==0)&&Tp(u,o,T),m=m.next}while(m!==d)}Oi(i,o,u);break;case 1:if(!Gt&&(sa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(k){pt(u,o,k)}Oi(i,o,u);break;case 21:Oi(i,o,u);break;case 22:u.mode&1?(Gt=(d=Gt)||u.memoizedState!==null,Oi(i,o,u),Gt=d):Oi(i,o,u);break;default:Oi(i,o,u)}}function Pv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Px),o.forEach(function(d){var m=Mx.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Wn(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var g=i,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:Ut=k.stateNode,Kn=!1;break e;case 3:Ut=k.stateNode.containerInfo,Kn=!0;break e;case 4:Ut=k.stateNode.containerInfo,Kn=!0;break e}k=k.return}if(Ut===null)throw Error(t(160));Av(g,T,m),Ut=null,Kn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(W){pt(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xv(o,i),o=o.sibling}function xv(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Wn(o,i),Er(i),d&4){try{Jl(3,i,i.return),ah(3,i)}catch(ye){pt(i,i.return,ye)}try{Jl(5,i,i.return)}catch(ye){pt(i,i.return,ye)}}break;case 1:Wn(o,i),Er(i),d&512&&u!==null&&sa(u,u.return);break;case 5:if(Wn(o,i),Er(i),d&512&&u!==null&&sa(u,u.return),i.flags&32){var m=i.stateNode;try{Is(m,"")}catch(ye){pt(i,i.return,ye)}}if(d&4&&(m=i.stateNode,m!=null)){var g=i.memoizedProps,T=u!==null?u.memoizedProps:g,k=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Io(m,g),Po(k,T);var W=Po(k,g);for(T=0;T<L.length;T+=2){var re=L[T],se=L[T+1];re==="style"?Ao(m,se):re==="dangerouslySetInnerHTML"?hc(m,se):re==="children"?Is(m,se):K(m,re,se,W)}switch(k){case"input":Ts(m,g);break;case"textarea":cc(m,g);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var fe=g.value;fe!=null?jn(m,!!g.multiple,fe,!1):te!==!!g.multiple&&(g.defaultValue!=null?jn(m,!!g.multiple,g.defaultValue,!0):jn(m,!!g.multiple,g.multiple?[]:"",!1))}m[jl]=g}catch(ye){pt(i,i.return,ye)}}break;case 6:if(Wn(o,i),Er(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,g=i.memoizedProps;try{m.nodeValue=g}catch(ye){pt(i,i.return,ye)}}break;case 3:if(Wn(o,i),Er(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ai(o.containerInfo)}catch(ye){pt(i,i.return,ye)}break;case 4:Wn(o,i),Er(i);break;case 13:Wn(o,i),Er(i),m=i.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(Rp=it())),d&4&&Pv(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Gt=(W=Gt)||re,Wn(o,i),Gt=W):Wn(o,i),Er(i),d&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!re&&(i.mode&1)!==0)for(pe=i,re=i.child;re!==null;){for(se=pe=re;pe!==null;){switch(te=pe,fe=te.child,te.tag){case 0:case 11:case 14:case 15:Jl(4,te,te.return);break;case 1:sa(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){d=te,u=te.return;try{o=d,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ye){pt(d,u,ye)}}break;case 5:sa(te,te.return);break;case 22:if(te.memoizedState!==null){bv(se);continue}}fe!==null?(fe.return=te,pe=fe):bv(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{m=se.stateNode,W?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=se.stateNode,L=se.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=gi("display",T))}catch(ye){pt(i,i.return,ye)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=W?"":se.memoizedProps}catch(ye){pt(i,i.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Wn(o,i),Er(i),d&4&&Pv(i);break;case 21:break;default:Wn(o,i),Er(i)}}function Er(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Iv(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Is(m,""),d.flags&=-33);var g=Sv(i);Ap(i,g,m);break;case 3:case 4:var T=d.stateNode.containerInfo,k=Sv(i);Sp(i,k,T);break;default:throw Error(t(161))}}catch(L){pt(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Rx(i,o,u){pe=i,Rv(i)}function Rv(i,o,u){for(var d=(i.mode&1)!==0;pe!==null;){var m=pe,g=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||oh;if(!T){var k=m.alternate,L=k!==null&&k.memoizedState!==null||Gt;k=oh;var W=Gt;if(oh=T,(Gt=L)&&!W)for(pe=m;pe!==null;)T=pe,L=T.child,T.tag===22&&T.memoizedState!==null?kv(m):L!==null?(L.return=T,pe=L):kv(m);for(;g!==null;)pe=g,Rv(g),g=g.sibling;pe=m,oh=k,Gt=W}Cv(i)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,pe=g):Cv(i)}}function Cv(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||ah(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Gt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Gn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&b_(o,g,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}b_(o,T,u)}break;case 5:var k=o.stateNode;if(u===null&&o.flags&4){u=k;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var re=W.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Ai(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||o.flags&512&&Ip(o)}catch(te){pt(o,o.return,te)}}if(o===i){pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,pe=u;break}pe=o.return}}function bv(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,pe=u;break}pe=o.return}}function kv(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ah(4,o)}catch(L){pt(o,u,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){pt(o,m,L)}}var g=o.return;try{Ip(o)}catch(L){pt(o,g,L)}break;case 5:var T=o.return;try{Ip(o)}catch(L){pt(o,T,L)}}}catch(L){pt(o,o.return,L)}if(o===i){pe=null;break}var k=o.sibling;if(k!==null){k.return=o.return,pe=k;break}pe=o.return}}var Cx=Math.ceil,lh=J.ReactCurrentDispatcher,Pp=J.ReactCurrentOwner,Mn=J.ReactCurrentBatchConfig,qe=0,Dt=null,It=null,jt=0,En=0,oa=bi(0),xt=0,Xl=null,qs=0,uh=0,xp=0,Zl=null,sn=null,Rp=0,aa=1/0,Jr=null,ch=!1,Cp=null,Mi=null,hh=!1,Li=null,dh=0,eu=0,bp=null,fh=-1,ph=0;function Xt(){return(qe&6)!==0?it():fh!==-1?fh:fh=it()}function Fi(i){return(i.mode&1)===0?1:(qe&2)!==0&&jt!==0?jt&-jt:dx.transition!==null?(ph===0&&(ph=El()),ph):(i=Be,i!==0||(i=window.event,i=i===void 0?16:Mo(i.type)),i)}function Qn(i,o,u,d){if(50<eu)throw eu=0,bp=null,Error(t(185));Ds(i,u,d),((qe&2)===0||i!==Dt)&&(i===Dt&&((qe&2)===0&&(uh|=u),xt===4&&Ui(i,jt)),on(i,d),u===1&&qe===0&&(o.mode&1)===0&&(aa=it()+500,Bc&&Di()))}function on(i,o){var u=i.callbackNode;ks(i,o);var d=Fr(i,i===Dt?jt:0);if(d===0)u!==null&&Co(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&Co(u),o===1)i.tag===0?hx(Nv.bind(null,i)):__(Nv.bind(null,i)),ax(function(){(qe&6)===0&&Di()}),u=null;else{switch(lr(d)){case 1:u=bo;break;case 4:u=_l;break;case 16:u=xs;break;case 536870912:u=ko;break;default:u=xs}u=zv(u,Dv.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Dv(i,o){if(fh=-1,ph=0,(qe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(la()&&i.callbackNode!==u)return null;var d=Fr(i,i===Dt?jt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=mh(i,d);else{o=d;var m=qe;qe|=2;var g=Ov();(Dt!==i||jt!==o)&&(Jr=null,aa=it()+500,Gs(i,o));do try{Dx();break}catch(k){Vv(i,k)}while(!0);Wf(),lh.current=g,qe=m,It!==null?o=0:(Dt=null,jt=0,o=xt)}if(o!==0){if(o===2&&(m=wl(i),m!==0&&(d=m,o=kp(i,m))),o===1)throw u=Xl,Gs(i,0),Ui(i,d),on(i,it()),u;if(o===6)Ui(i,d);else{if(m=i.current.alternate,(d&30)===0&&!bx(m)&&(o=mh(i,d),o===2&&(g=wl(i),g!==0&&(d=g,o=kp(i,g))),o===1))throw u=Xl,Gs(i,0),Ui(i,d),on(i,it()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Ks(i,sn,Jr);break;case 3:if(Ui(i,d),(d&130023424)===d&&(o=Rp+500-it(),10<o)){if(Fr(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Xt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Lf(Ks.bind(null,i,sn,Jr),o);break}Ks(i,sn,Jr);break;case 4:if(Ui(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-pn(d);g=1<<T,T=o[T],T>m&&(m=T),d&=~g}if(d=m,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Cx(d/1960))-d,10<d){i.timeoutHandle=Lf(Ks.bind(null,i,sn,Jr),d);break}Ks(i,sn,Jr);break;case 5:Ks(i,sn,Jr);break;default:throw Error(t(329))}}}return on(i,it()),i.callbackNode===u?Dv.bind(null,i):null}function kp(i,o){var u=Zl;return i.current.memoizedState.isDehydrated&&(Gs(i,o).flags|=256),i=mh(i,o),i!==2&&(o=sn,sn=u,o!==null&&Dp(o)),i}function Dp(i){sn===null?sn=i:sn.push.apply(sn,i)}function bx(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],g=m.getSnapshot;m=m.value;try{if(!qn(g(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(i,o){for(o&=~xp,o&=~uh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-pn(o),d=1<<u;i[u]=-1,o&=~d}}function Nv(i){if((qe&6)!==0)throw Error(t(327));la();var o=Fr(i,0);if((o&1)===0)return on(i,it()),null;var u=mh(i,o);if(i.tag!==0&&u===2){var d=wl(i);d!==0&&(o=d,u=kp(i,d))}if(u===1)throw u=Xl,Gs(i,0),Ui(i,o),on(i,it()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ks(i,sn,Jr),on(i,it()),null}function Np(i,o){var u=qe;qe|=1;try{return i(o)}finally{qe=u,qe===0&&(aa=it()+500,Bc&&Di())}}function Hs(i){Li!==null&&Li.tag===0&&(qe&6)===0&&la();var o=qe;qe|=1;var u=Mn.transition,d=Be;try{if(Mn.transition=null,Be=1,i)return i()}finally{Be=d,Mn.transition=u,qe=o,(qe&6)===0&&Di()}}function Vp(){En=oa.current,ot(oa)}function Gs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,ox(u)),It!==null)for(u=It.return;u!==null;){var d=u;switch($f(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&jc();break;case 3:ra(),ot(tn),ot($t),np();break;case 5:ep(d);break;case 4:ra();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:Qf(d.type._context);break;case 22:case 23:Vp()}u=u.return}if(Dt=i,It=i=ji(i.current,null),jt=En=o,xt=0,Xl=null,xp=uh=qs=0,sn=Zl=null,zs!==null){for(o=0;o<zs.length;o++)if(u=zs[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,g=u.pending;if(g!==null){var T=g.next;g.next=m,d.next=T}u.pending=d}zs=null}return i}function Vv(i,o){do{var u=It;try{if(Wf(),Xc.current=nh,Zc){for(var d=ht.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Zc=!1}if($s=0,kt=Pt=ht=null,Gl=!1,Kl=0,Pp.current=null,u===null||u.return===null){xt=1,Xl=o,It=null;break}e:{var g=i,T=u.return,k=u,L=o;if(o=jt,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,re=k,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=sv(T);if(fe!==null){fe.flags&=-257,ov(fe,T,k,g,o),fe.mode&1&&iv(g,W,o),o=fe,L=W;var ge=o.updateQueue;if(ge===null){var ye=new Set;ye.add(L),o.updateQueue=ye}else ge.add(L);break e}else{if((o&1)===0){iv(g,W,o),Op();break e}L=Error(t(426))}}else if(lt&&k.mode&1){var _t=sv(T);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),ov(_t,T,k,g,o),Gf(ia(L,k));break e}}g=L=ia(L,k),xt!==4&&(xt=2),Zl===null?Zl=[g]:Zl.push(g),g=T;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var z=nv(g,L,o);C_(g,z);break e;case 1:k=L;var F=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Mi===null||!Mi.has(q)))){g.flags|=65536,o&=-o,g.lanes|=o;var oe=rv(g,k,o);C_(g,oe);break e}}g=g.return}while(g!==null)}Lv(u)}catch(ve){o=ve,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function Ov(){var i=lh.current;return lh.current=nh,i===null?nh:i}function Op(){(xt===0||xt===3||xt===2)&&(xt=4),Dt===null||(qs&268435455)===0&&(uh&268435455)===0||Ui(Dt,jt)}function mh(i,o){var u=qe;qe|=2;var d=Ov();(Dt!==i||jt!==o)&&(Jr=null,Gs(i,o));do try{kx();break}catch(m){Vv(i,m)}while(!0);if(Wf(),qe=u,lh.current=d,It!==null)throw Error(t(261));return Dt=null,jt=0,xt}function kx(){for(;It!==null;)Mv(It)}function Dx(){for(;It!==null&&!Ps();)Mv(It)}function Mv(i){var o=jv(i.alternate,i,En);i.memoizedProps=i.pendingProps,o===null?Lv(i):It=o,Pp.current=null}function Lv(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Sx(u,o,En),u!==null){It=u;return}}else{if(u=Ax(u,o),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=i}while(o!==null);xt===0&&(xt=5)}function Ks(i,o,u){var d=Be,m=Mn.transition;try{Mn.transition=null,Be=1,Nx(i,o,u,d)}finally{Mn.transition=m,Be=d}return null}function Nx(i,o,u,d){do la();while(Li!==null);if((qe&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var g=u.lanes|u.childLanes;if(Ef(i,g),i===Dt&&(It=Dt=null,jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||hh||(hh=!0,zv(xs,function(){return la(),null})),g=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||g){g=Mn.transition,Mn.transition=null;var T=Be;Be=1;var k=qe;qe|=4,Pp.current=null,xx(i,u),xv(u,i),ZP(Of),zr=!!Vf,Of=Vf=null,i.current=u,Rx(u),Lr(),qe=k,Be=T,Mn.transition=g}else i.current=u;if(hh&&(hh=!1,Li=i,dh=m),g=i.pendingLanes,g===0&&(Mi=null),Tc(u.stateNode),on(i,it()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(ch)throw ch=!1,i=Cp,Cp=null,i;return(dh&1)!==0&&i.tag!==0&&la(),g=i.pendingLanes,(g&1)!==0?i===bp?eu++:(eu=0,bp=i):eu=0,Di(),null}function la(){if(Li!==null){var i=lr(dh),o=Mn.transition,u=Be;try{if(Mn.transition=null,Be=16>i?16:i,Li===null)var d=!1;else{if(i=Li,Li=null,dh=0,(qe&6)!==0)throw Error(t(331));var m=qe;for(qe|=4,pe=i.current;pe!==null;){var g=pe,T=g.child;if((pe.flags&16)!==0){var k=g.deletions;if(k!==null){for(var L=0;L<k.length;L++){var W=k[L];for(pe=W;pe!==null;){var re=pe;switch(re.tag){case 0:case 11:case 15:Jl(8,re,g)}var se=re.child;if(se!==null)se.return=re,pe=se;else for(;pe!==null;){re=pe;var te=re.sibling,fe=re.return;if(Tv(re),re===W){pe=null;break}if(te!==null){te.return=fe,pe=te;break}pe=fe}}}var ge=g.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var _t=ye.sibling;ye.sibling=null,ye=_t}while(ye!==null)}}pe=g}}if((g.subtreeFlags&2064)!==0&&T!==null)T.return=g,pe=T;else e:for(;pe!==null;){if(g=pe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Jl(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,pe=z;break e}pe=g.return}}var F=i.current;for(pe=F;pe!==null;){T=pe;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,pe=q;else e:for(T=F;pe!==null;){if(k=pe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:ah(9,k)}}catch(ve){pt(k,k.return,ve)}if(k===T){pe=null;break e}var oe=k.sibling;if(oe!==null){oe.return=k.return,pe=oe;break e}pe=k.return}}if(qe=m,Di(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Rs,i)}catch{}d=!0}return d}finally{Be=u,Mn.transition=o}}return!1}function Fv(i,o,u){o=ia(u,o),o=nv(i,o,1),i=Vi(i,o,1),o=Xt(),i!==null&&(Ds(i,1,o),on(i,o))}function pt(i,o,u){if(i.tag===3)Fv(i,i,u);else for(;o!==null;){if(o.tag===3){Fv(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){i=ia(u,i),i=rv(o,i,1),o=Vi(o,i,1),i=Xt(),o!==null&&(Ds(o,1,i),on(o,i));break}}o=o.return}}function Vx(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=Xt(),i.pingedLanes|=i.suspendedLanes&u,Dt===i&&(jt&u)===u&&(xt===4||xt===3&&(jt&130023424)===jt&&500>it()-Rp?Gs(i,0):xp|=u),on(i,o)}function Uv(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var u=Xt();i=Wr(i,o),i!==null&&(Ds(i,o,u),on(i,u))}function Ox(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Uv(i,u)}function Mx(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Uv(i,u)}var jv;jv=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||tn.current)rn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return rn=!1,Ix(i,o,u);rn=(i.flags&131072)!==0}else rn=!1,lt&&(o.flags&1048576)!==0&&v_(o,qc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;sh(i,o),i=o.pendingProps;var m=Yo(o,$t.current);na(o,u),m=sp(null,o,d,i,m,u);var g=op();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,nn(d)?(g=!0,zc(o)):g=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Xf(o),m.updater=rh,o.stateNode=m,m._reactInternals=o,dp(o,d,i,u),o=gp(null,o,d,!0,g,u)):(o.tag=0,lt&&g&&Bf(o),Jt(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(sh(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=Fx(d),i=Gn(d,i),m){case 0:o=mp(null,o,d,i,u);break e;case 1:o=dv(null,o,d,i,u);break e;case 11:o=av(null,o,d,i,u);break e;case 14:o=lv(null,o,d,Gn(d.type,i),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),mp(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),dv(i,o,d,m,u);case 3:e:{if(fv(o),i===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,m=g.element,R_(i,o),Yc(o,d,null,u);var T=o.memoizedState;if(d=T.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){m=ia(Error(t(423)),o),o=pv(i,o,d,u,m);break e}else if(d!==m){m=ia(Error(t(424)),o),o=pv(i,o,d,u,m);break e}else for(wn=Ci(o.stateNode.containerInfo.firstChild),vn=o,lt=!0,Hn=null,u=P_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Zo(),d===m){o=Yr(i,o,u);break e}Jt(i,o,d,u)}o=o.child}return o;case 5:return k_(o),i===null&&Hf(o),d=o.type,m=o.pendingProps,g=i!==null?i.memoizedProps:null,T=m.children,Mf(d,m)?T=null:g!==null&&Mf(d,g)&&(o.flags|=32),hv(i,o),Jt(i,o,T,u),o.child;case 6:return i===null&&Hf(o),null;case 13:return mv(i,o,u);case 4:return Zf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=ea(o,null,d,u):Jt(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),av(i,o,d,m,u);case 7:return Jt(i,o,o.pendingProps,u),o.child;case 8:return Jt(i,o,o.pendingProps.children,u),o.child;case 12:return Jt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,g=o.memoizedProps,T=m.value,nt(Kc,d._currentValue),d._currentValue=T,g!==null)if(qn(g.value,T)){if(g.children===m.children&&!tn.current){o=Yr(i,o,u);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var k=g.dependencies;if(k!==null){T=g.child;for(var L=k.firstContext;L!==null;){if(L.context===d){if(g.tag===1){L=Qr(-1,u&-u),L.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var re=W.pending;re===null?L.next=L:(L.next=re.next,re.next=L),W.pending=L}}g.lanes|=u,L=g.alternate,L!==null&&(L.lanes|=u),Yf(g.return,u,o),k.lanes|=u;break}L=L.next}}else if(g.tag===10)T=g.type===o.type?null:g.child;else if(g.tag===18){if(T=g.return,T===null)throw Error(t(341));T.lanes|=u,k=T.alternate,k!==null&&(k.lanes|=u),Yf(T,u,o),T=g.sibling}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===o){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}Jt(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,na(o,u),m=Vn(m),d=d(m),o.flags|=1,Jt(i,o,d,u),o.child;case 14:return d=o.type,m=Gn(d,o.pendingProps),m=Gn(d.type,m),lv(i,o,d,m,u);case 15:return uv(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Gn(d,m),sh(i,o),o.tag=1,nn(d)?(i=!0,zc(o)):i=!1,na(o,u),ev(o,d,m),dp(o,d,m,u),gp(null,o,d,!0,i,u);case 19:return yv(i,o,u);case 22:return cv(i,o,u)}throw Error(t(156,o.tag))};function zv(i,o){return yl(i,o)}function Lx(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,o,u,d){return new Lx(i,o,u,d)}function Mp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fx(i){if(typeof i=="function")return Mp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===ke)return 14}return 2}function ji(i,o){var u=i.alternate;return u===null?(u=Ln(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function gh(i,o,u,d,m,g){var T=2;if(d=i,typeof i=="function")Mp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case P:return Ws(u.children,m,g,o);case A:T=8,m|=8;break;case D:return i=Ln(12,u,o,m|2),i.elementType=D,i.lanes=g,i;case R:return i=Ln(13,u,o,m),i.elementType=R,i.lanes=g,i;case ae:return i=Ln(19,u,o,m),i.elementType=ae,i.lanes=g,i;case Te:return yh(u,m,g,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:T=10;break e;case V:T=9;break e;case M:T=11;break e;case ke:T=14;break e;case Ae:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Ln(T,u,o,m),o.elementType=i,o.type=d,o.lanes=g,o}function Ws(i,o,u,d){return i=Ln(7,i,d,o),i.lanes=u,i}function yh(i,o,u,d){return i=Ln(22,i,d,o),i.elementType=Te,i.lanes=u,i.stateNode={isHidden:!1},i}function Lp(i,o,u){return i=Ln(6,i,null,o),i.lanes=u,i}function Fp(i,o,u){return o=Ln(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Ux(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tl(0),this.expirationTimes=Tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Up(i,o,u,d,m,g,T,k,L){return i=new Ux(i,o,u,k,L),o===1?(o=1,g===!0&&(o|=8)):o=0,g=Ln(3,null,null,o),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(g),i}function jx(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function Bv(i){if(!i)return ki;i=i._reactInternals;e:{if(Bn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(nn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(nn(u))return g_(i,u,o)}return o}function $v(i,o,u,d,m,g,T,k,L){return i=Up(u,d,!0,i,m,g,T,k,L),i.context=Bv(null),u=i.current,d=Xt(),m=Fi(u),g=Qr(d,m),g.callback=o??null,Vi(u,g,m),i.current.lanes=m,Ds(i,m,d),on(i,d),i}function _h(i,o,u,d){var m=o.current,g=Xt(),T=Fi(m);return u=Bv(u),o.context===null?o.context=u:o.pendingContext=u,o=Qr(g,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Vi(m,o,T),i!==null&&(Qn(i,m,T,g),Qc(i,m,T)),T}function vh(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function qv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function jp(i,o){qv(i,o),(i=i.alternate)&&qv(i,o)}function zx(){return null}var Hv=typeof reportError=="function"?reportError:function(i){console.error(i)};function zp(i){this._internalRoot=i}wh.prototype.render=zp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));_h(i,o,null,null)},wh.prototype.unmount=zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Hs(function(){_h(null,i,null,null)}),o[qr]=null}};function wh(i){this._internalRoot=i}wh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<mn.length&&o!==0&&o<mn[u].priority;u++);mn.splice(u,0,i),u===0&&Vo(i)}};function Bp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Eh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function Bx(i,o,u,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var W=vh(T);g.call(W)}}var T=$v(o,d,i,0,null,!1,!1,"",Gv);return i._reactRootContainer=T,i[qr]=T.current,Fl(i.nodeType===8?i.parentNode:i),Hs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var W=vh(L);k.call(W)}}var L=Up(i,0,!1,null,null,!1,!1,"",Gv);return i._reactRootContainer=L,i[qr]=L.current,Fl(i.nodeType===8?i.parentNode:i),Hs(function(){_h(o,L,u,d)}),L}function Th(i,o,u,d,m){var g=u._reactRootContainer;if(g){var T=g;if(typeof m=="function"){var k=m;m=function(){var L=vh(T);k.call(L)}}_h(o,T,i,m)}else T=Bx(u,o,i,m,d);return vh(T)}Sl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ge(o.pendingLanes);u!==0&&(Il(o,u|1),on(o,it()),(qe&6)===0&&(aa=it()+500,Di()))}break;case 13:Hs(function(){var d=Wr(i,1);if(d!==null){var m=Xt();Qn(d,i,1,m)}}),jp(i,1)}},Do=function(i){if(i.tag===13){var o=Wr(i,134217728);if(o!==null){var u=Xt();Qn(o,i,134217728,u)}jp(i,134217728)}},Al=function(i){if(i.tag===13){var o=Fi(i),u=Wr(i,o);if(u!==null){var d=Xt();Qn(u,i,o,d)}jp(i,o)}},Pl=function(){return Be},xl=function(i,o){var u=Be;try{return Be=i,o()}finally{Be=u}},Vr=function(i,o,u){switch(o){case"input":if(Ts(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=Uc(d);if(!m)throw Error(t(90));Es(d),Ts(d,m)}}}break;case"textarea":cc(i,u);break;case"select":o=u.value,o!=null&&jn(i,!!u.multiple,o,!1)}},fc=Np,pc=Hs;var $x={usingClientEntryPoint:!1,Events:[zl,Wo,Uc,_i,vi,Np]},tu={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ec(i),i===null?null:i.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Rs=Ih.inject(qx),fn=Ih}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x,an.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(o))throw Error(t(200));return jx(i,o,null,u)},an.createRoot=function(i,o){if(!Bp(i))throw Error(t(299));var u=!1,d="",m=Hv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Up(i,1,!1,null,null,u,!1,d,m),i[qr]=o.current,Fl(i.nodeType===8?i.parentNode:i),new zp(o)},an.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ec(o),i=i===null?null:i.stateNode,i},an.flushSync=function(i){return Hs(i)},an.hydrate=function(i,o,u){if(!Eh(o))throw Error(t(200));return Th(null,i,o,!0,u)},an.hydrateRoot=function(i,o,u){if(!Bp(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,m=!1,g="",T=Hv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=$v(o,null,i,1,u??null,m,!1,g,T),i[qr]=o.current,Fl(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new wh(o)},an.render=function(i,o,u){if(!Eh(o))throw Error(t(200));return Th(null,i,o,!1,u)},an.unmountComponentAtNode=function(i){if(!Eh(i))throw Error(t(40));return i._reactRootContainer?(Hs(function(){Th(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},an.unstable_batchedUpdates=Np,an.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Eh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Th(i,o,u,!1,d)},an.version="18.3.1-next-f1338f8080-20240426",an}var ew;function FT(){if(ew)return Hp.exports;ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=Xx(),Hp.exports}var tw;function Zx(){if(tw)return Sh;tw=1;var n=FT();return Sh.createRoot=n.createRoot,Sh.hydrateRoot=n.hydrateRoot,Sh}var eR=Zx();const tR="modulepreload",nR=function(n){return"/kids/"+n},nw={},tt=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");s=f(t.map(p=>{if(p=nR(p),p in nw)return;nw[p]=!0;const _=p.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":tR,_||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),_)return new Promise((S,N)=>{E.addEventListener("load",S),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var C=Od();const Wi=LT(C),rR=Gx({__proto__:null,default:Wi},[C]);function iR(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,s,a,l=[],h="",f=n.split("/");for(f[0]||f.shift();s=f.shift();)t=s[0],t==="*"?(l.push(t),h+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),l.push(s.substring(1,~r?r:~a?a:s.length)),h+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(h+=(~r?"?":"")+"\\"+s.substring(a))):h+="/"+s;return{keys:l,pattern:new RegExp("^"+h+(e?"(?=$|/)":"/?$"),"i")}}var Wp={exports:{}},Qp={};var rw;function sR(){if(rw)return Qp;rw=1;var n=Od();function e(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function h(v,E){var S=E(),N=r({inst:{value:S,getSnapshot:E}}),x=N[0].inst,b=N[1];return a(function(){x.value=S,x.getSnapshot=E,f(x)&&b({inst:x})},[v,S,E]),s(function(){return f(x)&&b({inst:x}),v(function(){f(x)&&b({inst:x})})},[v]),l(S),S}function f(v){var E=v.getSnapshot;v=v.value;try{var S=E();return!t(v,S)}catch{return!0}}function p(v,E){return E()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Qp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,Qp}var iw;function oR(){return iw||(iw=1,Wp.exports=sR()),Wp.exports}var aR=oR();const lR=rR.useInsertionEffect,uR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cR=uR?C.useLayoutEffect:C.useEffect,hR=lR||cR,UT=n=>{const e=C.useRef([n,(...t)=>e[0](...t)]).current;return hR(()=>{e[0]=n}),e[1]},dR="popstate",dg="pushState",fg="replaceState",fR="hashchange",sw=[dR,dg,fg,fR],pR=n=>{for(const e of sw)addEventListener(e,n);return()=>{for(const e of sw)removeEventListener(e,n)}},jT=(n,e)=>aR.useSyncExternalStore(pR,n,e),mR=()=>location.search,gR=({ssrSearch:n=""}={})=>jT(mR,()=>n),ow=()=>location.pathname,yR=({ssrPath:n}={})=>jT(ow,n?()=>n:ow),_R=(n,{replace:e=!1,state:t=null}={})=>history[e?fg:dg](t,"",n),vR=(n={})=>[yR(n),_R],aw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[aw]>"u"){for(const n of[dg,fg]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,aw,{value:!0})}const wR=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",zT=(n="")=>n==="/"?"":n,ER=(n,e)=>n[0]==="~"?n.slice(1):zT(e)+n,TR=(n="",e)=>wR(lw(zT(n)),lw(e)),lw=n=>{try{return decodeURI(n)}catch{return n}},BT={hook:vR,searchHook:gR,parser:iR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},$T=C.createContext(BT),Ku=()=>C.useContext($T),qT={},HT=C.createContext(qT),IR=()=>C.useContext(HT),Md=n=>{const[e,t]=n.hook(n);return[TR(n.base,e),UT((r,s)=>t(ER(r,n.base),s))]},LF=()=>Md(Ku()),GT=(n,e,t,r)=>{const{pattern:s,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),l=s.exec(t)||[],[h,...f]=l;return h!==void 0?[!0,(()=>{const p=a!==!1?Object.fromEntries(a.map((v,E)=>[v,f[E]])):l.groups;let _={...f};return p&&Object.assign(_,p),_})(),...r?[h]:[]]:[!1,null]},SR=({children:n,...e})=>{const t=Ku(),r=e.hook?BT:t;let s=r;const[a,l]=e.ssrPath?.split("?")??[];l&&(e.ssrSearch=l,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let h=C.useRef({}),f=h.current,p=f;for(let _ in r){const v=_==="base"?r[_]+(e[_]||""):e[_]||r[_];f===p&&v!==p[_]&&(h.current=p={...p}),p[_]=v,v!==r[_]&&(s=p)}return C.createElement($T.Provider,{value:s,children:n})},uw=({children:n,component:e},t)=>e?C.createElement(e,{params:t}):typeof n=="function"?n(t):n,AR=n=>{let e=C.useRef(qT),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},Ze=({path:n,nest:e,match:t,...r})=>{const s=Ku(),[a]=Md(s),[l,h,f]=t??GT(s.parser,n,a,e),p=AR({...IR(),...h});if(!l)return null;const _=f?C.createElement(SR,{base:f},uw(r,p)):uw(r,p);return C.createElement(HT.Provider,{value:p,children:_})},PR=C.forwardRef((n,e)=>{const t=Ku(),[r,s]=Md(t),{to:a="",href:l=a,onClick:h,asChild:f,children:p,className:_,replace:v,state:E,...S}=n,N=UT(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(h?.(b),b.defaultPrevented||(b.preventDefault(),s(l,n)))}),x=t.hrefs(l[0]==="~"?l.slice(1):t.base+l,t);return f&&C.isValidElement(p)?C.cloneElement(p,{onClick:N,href:x}):C.createElement("a",{...S,onClick:N,href:x,className:_?.call?_(r===l):_,children:p,ref:e})}),KT=n=>Array.isArray(n)?n.flatMap(e=>KT(e&&e.type===C.Fragment?e.props.children:e)):[n],xR=({children:n,location:e})=>{const t=Ku(),[r]=Md(t);for(const s of KT(n)){let a=0;if(C.isValidElement(s)&&(a=GT(t.parser,s.props.path,e||r,s.props.nest))[0])return C.cloneElement(s,{match:a})}return null};var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fd=typeof window>"u"||"Deno"in globalThis;function Yn(){}function RR(n,e){return typeof n=="function"?n(e):n}function CR(n){return typeof n=="number"&&n>=0&&n!==1/0}function bR(n,e){return Math.max(n+(e||0)-Date.now(),0)}function cw(n,e){return typeof n=="function"?n(e):n}function kR(n,e){return typeof n=="function"?n(e):n}function hw(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:l,stale:h}=n;if(l){if(r){if(e.queryHash!==pg(l,e.options))return!1}else if(!Ru(e.queryKey,l))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||a&&!a(e))}function dw(n,e){const{exact:t,status:r,predicate:s,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(xu(e.options.mutationKey)!==xu(a))return!1}else if(!Ru(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function pg(n,e){return(e?.queryKeyHashFn||xu)(n)}function xu(n){return JSON.stringify(n,(e,t)=>Em(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function Ru(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Ru(n[t],e[t])):!1}function WT(n,e){if(n===e)return n;const t=fw(n)&&fw(e);if(t||Em(n)&&Em(e)){const r=t?n:Object.keys(n),s=r.length,a=t?e:Object.keys(e),l=a.length,h=t?[]:{};let f=0;for(let p=0;p<l;p++){const _=t?p:a[p];(!t&&r.includes(_)||t)&&n[_]===void 0&&e[_]===void 0?(h[_]=void 0,f++):(h[_]=WT(n[_],e[_]),h[_]===n[_]&&n[_]!==void 0&&f++)}return s===l&&f===s?n:h}return e}function FF(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function fw(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Em(n){if(!pw(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!pw(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function pw(n){return Object.prototype.toString.call(n)==="[object Object]"}function DR(n){return new Promise(e=>{setTimeout(e,n)})}function NR(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?WT(n,e):e}function VR(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function OR(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var mg=Symbol();function QT(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===mg?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var MR=class extends Ld{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Fd&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},YT=new MR,LR=class extends Ld{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Fd&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},rd=new LR;function FR(){let n,e;const t=new Promise((s,a)=>{n=s,e=a});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function UR(n){return Math.min(1e3*2**n,3e4)}function JT(n){return(n??"online")==="online"?rd.isOnline():!0}var XT=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Yp(n){return n instanceof XT}function ZT(n){let e=!1,t=0,r=!1,s;const a=FR(),l=x=>{r||(E(new XT(x)),n.abort?.())},h=()=>{e=!0},f=()=>{e=!1},p=()=>YT.isFocused()&&(n.networkMode==="always"||rd.isOnline())&&n.canRun(),_=()=>JT(n.networkMode)&&n.canRun(),v=x=>{r||(r=!0,n.onSuccess?.(x),s?.(),a.resolve(x))},E=x=>{r||(r=!0,n.onError?.(x),s?.(),a.reject(x))},S=()=>new Promise(x=>{s=b=>{(r||p())&&x(b)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),N=()=>{if(r)return;let x;const b=t===0?n.initialPromise:void 0;try{x=b??n.fn()}catch(H){x=Promise.reject(H)}Promise.resolve(x).then(v).catch(H=>{if(r)return;const G=n.retry??(Fd?0:3),K=n.retryDelay??UR,J=typeof K=="function"?K(t,H):K,ee=G===!0||typeof G=="number"&&t<G||typeof G=="function"&&G(t,H);if(e||!ee){E(H);return}t++,n.onFail?.(t,H),DR(J).then(()=>p()?void 0:S()).then(()=>{e?E(H):N()})})};return{promise:a,cancel:l,continue:()=>(s?.(),a),cancelRetry:h,continueRetry:f,canStart:_,start:()=>(_()?N():S().then(N),a)}}function jR(){let n=[],e=0,t=h=>{h()},r=h=>{h()},s=h=>setTimeout(h,0);const a=h=>{e?n.push(h):s(()=>{t(h)})},l=()=>{const h=n;n=[],h.length&&s(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||l()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{s=h}}}var Zt=jR(),eI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CR(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Fd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},zR=class extends eI{#e;#t;#n;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=$R(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=NR(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kR(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!bR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const f=QT(this.options,t),p={queryKey:this.queryKey,meta:this.meta};return s(p),this.#s=!1,this.options.persister?this.options.persister(f,p,this):f(p)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta});const h=f=>{Yp(f)&&f.silent||this.#i({type:"error",error:f}),Yp(f)||(this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#r=ZT({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{if(f===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(p){h(p);return}this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:h,onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BR(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Yp(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function BR(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function $R(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qR=class extends Ld{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,s=e.queryHash??pg(r,e);let a=this.get(s);return a||(a=new zR({cache:this,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Zt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>hw(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>hw(n,t)):e}notify(n){Zt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},HR=class extends eI{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||GR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=ZT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function GR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var KR=class extends Ld{constructor(n={}){super(),this.config=n,this.#e=new Map,this.#t=Date.now()}#e;#t;build(n,e,t){const r=new HR({mutationCache:this,mutationId:++this.#t,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){const e=Ah(n),t=this.#e.get(e)??[];t.push(n),this.#e.set(e,t),this.notify({type:"added",mutation:n})}remove(n){const e=Ah(n);if(this.#e.has(e)){const t=this.#e.get(e)?.filter(r=>r!==n);t&&(t.length===0?this.#e.delete(e):this.#e.set(e,t))}this.notify({type:"removed",mutation:n})}canRun(n){const e=this.#e.get(Ah(n))?.find(t=>t.state.status==="pending");return!e||e===n}runNext(n){return this.#e.get(Ah(n))?.find(t=>t!==n&&t.state.isPaused)?.continue()??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}getAll(){return[...this.#e.values()].flat()}find(n){const e={exact:!0,...n};return this.getAll().find(t=>dw(e,t))}findAll(n={}){return this.getAll().filter(e=>dw(n,e))}notify(n){Zt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Zt.batch(()=>Promise.all(n.map(e=>e.continue().catch(Yn))))}};function Ah(n){return n.options.scope?.id??String(n.mutationId)}function mw(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let _=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},E=QT(e.options,e.fetchOptions),S=async(N,x,b)=>{if(_)return Promise.reject();if(x==null&&N.pages.length)return Promise.resolve(N);const H={queryKey:e.queryKey,pageParam:x,direction:b?"backward":"forward",meta:e.options.meta};v(H);const G=await E(H),{maxPages:K}=e.options,J=b?OR:VR;return{pages:J(N.pages,G,K),pageParams:J(N.pageParams,x,K)}};if(s&&a.length){const N=s==="backward",x=N?WR:gw,b={pages:a,pageParams:l},H=x(r,b);h=await S(b,H,N)}else{const N=n??a.length;do{const x=f===0?l[0]??r.initialPageParam:gw(r,h);if(f>0&&x==null)break;h=await S(h,x),f++}while(f<N)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function gw(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function WR(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var QR=class{#e;#t;#n;#r;#o;#s;#i;#a;constructor(n={}){this.#e=n.queryCache||new qR,this.#t=n.mutationCache||new KR,this.#n=n.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=YT.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=rd.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=this.#e.build(this,t);return n.revalidateIfStale&&r.isStaleByTime(cw(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,l=RR(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return Zt.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Zt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e,r={type:"active",...n};return Zt.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Zt.batch(()=>this.#e.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(n={},e={}){return Zt.batch(()=>{if(this.#e.findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:e?.cancelRefetch??!0},r=Zt.batch(()=>this.#e.findAll(n).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,t);return t.throwOnError||(a=a.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Yn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(cw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Yn).catch(Yn)}fetchInfiniteQuery(n){return n.behavior=mw(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Yn).catch(Yn)}ensureInfiniteQueryData(n){return n.behavior=mw(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return rd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(xu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()];let t={};return e.forEach(r=>{Ru(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){this.#o.set(xu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#o.values()];let t={};return e.forEach(r=>{Ru(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=pg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===mg&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},tI=C.createContext(void 0),zF=n=>{const e=C.useContext(tI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},YR=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),$.jsx(tI.Provider,{value:n,children:e}));async function JR(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const XR=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await JR(t),await t.json()},ZR=new QR({defaultOptions:{queries:{queryFn:XR({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),eC=1,tC=1e6;let Jp=0;function nC(){return Jp=(Jp+1)%Number.MAX_SAFE_INTEGER,Jp.toString()}const Xp=new Map,yw=n=>{if(Xp.has(n))return;const e=setTimeout(()=>{Xp.delete(n),mu({type:"REMOVE_TOAST",toastId:n})},tC);Xp.set(n,e)},rC=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,eC)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?yw(t):n.toasts.forEach(r=>{yw(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Fh=[];let Uh={toasts:[]};function mu(n){Uh=rC(Uh,n),Fh.forEach(e=>{e(Uh)})}function iC({...n}){const e=nC(),t=s=>mu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>mu({type:"DISMISS_TOAST",toastId:e});return mu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function sC(){const[n,e]=C.useState(Uh);return C.useEffect(()=>(Fh.push(e),()=>{const t=Fh.indexOf(e);t>-1&&Fh.splice(t,1)}),[n]),{...n,toast:iC,dismiss:t=>mu({type:"DISMISS_TOAST",toastId:t})}}var Ud=FT();const oC=LT(Ud);function Rt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function _w(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nI(...n){return e=>{let t=!1;const r=n.map(s=>{const a=_w(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():_w(n[s],null)}}}}function tr(...n){return C.useCallback(nI(...n),n)}function BF(n,e){const t=C.createContext(e),r=a=>{const{children:l,...h}=a,f=C.useMemo(()=>h,Object.values(h));return $.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function s(a){const l=C.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function jd(n,e=[]){let t=[];function r(a,l){const h=C.createContext(l),f=t.length;t=[...t,l];const p=v=>{const{scope:E,children:S,...N}=v,x=E?.[n]?.[f]||h,b=C.useMemo(()=>N,Object.values(N));return $.jsx(x.Provider,{value:b,children:S})};p.displayName=a+"Provider";function _(v,E){const S=E?.[n]?.[f]||h,N=C.useContext(S);if(N)return N;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,_]}const s=()=>{const a=t.map(l=>C.createContext(l));return function(h){const f=h?.[n]||a;return C.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return s.scopeName=n,[r,aC(s,...e)]}function aC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((h,{useScope:f,scopeName:p})=>{const v=f(a)[`__scope${p}`];return{...h,...v}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function id(n){const e=uC(n),t=C.forwardRef((r,s)=>{const{children:a,...l}=r,h=C.Children.toArray(a),f=h.find(hC);if(f){const p=f.props.children,_=h.map(v=>v===f?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:v);return $.jsx(e,{...l,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,_):null})}return $.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var lC=id("Slot");function uC(n){const e=C.forwardRef((t,r)=>{const{children:s,...a}=t;if(C.isValidElement(s)){const l=fC(s),h=dC(a,s.props);return s.type!==C.Fragment&&(h.ref=r?nI(r,l):l),C.cloneElement(s,h)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rI=Symbol("radix.slottable");function cC(n){const e=({children:t})=>$.jsx($.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=rI,e}function hC(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rI}function dC(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...h)=>{a(...h),s(...h)}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function fC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function pC(n){const e=n+"CollectionProvider",[t,r]=jd(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:b,children:H}=x,G=Wi.useRef(null),K=Wi.useRef(new Map).current;return $.jsx(s,{scope:b,itemMap:K,collectionRef:G,children:H})};l.displayName=e;const h=n+"CollectionSlot",f=id(h),p=Wi.forwardRef((x,b)=>{const{scope:H,children:G}=x,K=a(h,H),J=tr(b,K.collectionRef);return $.jsx(f,{ref:J,children:G})});p.displayName=h;const _=n+"CollectionItemSlot",v="data-radix-collection-item",E=id(_),S=Wi.forwardRef((x,b)=>{const{scope:H,children:G,...K}=x,J=Wi.useRef(null),ee=tr(b,J),ie=a(_,H);return Wi.useEffect(()=>(ie.itemMap.set(J,{ref:J,...K}),()=>{ie.itemMap.delete(J)})),$.jsx(E,{[v]:"",ref:ee,children:G})});S.displayName=_;function N(x){const b=a(n+"CollectionConsumer",x);return Wi.useCallback(()=>{const G=b.collectionRef.current;if(!G)return[];const K=Array.from(G.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((ie,P)=>K.indexOf(ie.ref.current)-K.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:p,ItemSlot:S},N,r]}var mC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cn=mC.reduce((n,e)=>{const t=id(`Primitive.${e}`),r=C.forwardRef((s,a)=>{const{asChild:l,...h}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function iI(n,e){n&&Ud.flushSync(()=>n.dispatchEvent(e))}function br(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>e.current?.(...t),[])}function gC(n,e=globalThis?.document){const t=br(n);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var yC="DismissableLayer",Tm="dismissableLayer.update",_C="dismissableLayer.pointerDownOutside",vC="dismissableLayer.focusOutside",vw,sI=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gg=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:h,...f}=n,p=C.useContext(sI),[_,v]=C.useState(null),E=_?.ownerDocument??globalThis?.document,[,S]=C.useState({}),N=tr(e,P=>v(P)),x=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),H=x.indexOf(b),G=_?x.indexOf(_):-1,K=p.layersWithOutsidePointerEventsDisabled.size>0,J=G>=H,ee=EC(P=>{const A=P.target,D=[...p.branches].some(O=>O.contains(A));!J||D||(s?.(P),l?.(P),P.defaultPrevented||h?.())},E),ie=TC(P=>{const A=P.target;[...p.branches].some(O=>O.contains(A))||(a?.(P),l?.(P),P.defaultPrevented||h?.())},E);return gC(P=>{G===p.layers.size-1&&(r?.(P),!P.defaultPrevented&&h&&(P.preventDefault(),h()))},E),C.useEffect(()=>{if(_)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(vw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(_)),p.layers.add(_),ww(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=vw)}},[_,E,t,p]),C.useEffect(()=>()=>{_&&(p.layers.delete(_),p.layersWithOutsidePointerEventsDisabled.delete(_),ww())},[_,p]),C.useEffect(()=>{const P=()=>S({});return document.addEventListener(Tm,P),()=>document.removeEventListener(Tm,P)},[]),$.jsx(cn.div,{...f,ref:N,style:{pointerEvents:K?J?"auto":"none":void 0,...n.style},onFocusCapture:Rt(n.onFocusCapture,ie.onFocusCapture),onBlurCapture:Rt(n.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:Rt(n.onPointerDownCapture,ee.onPointerDownCapture)})});gg.displayName=yC;var wC="DismissableLayerBranch",oI=C.forwardRef((n,e)=>{const t=C.useContext(sI),r=C.useRef(null),s=tr(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),$.jsx(cn.div,{...n,ref:s})});oI.displayName=wC;function EC(n,e=globalThis?.document){const t=br(n),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){aI(_C,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function TC(n,e=globalThis?.document){const t=br(n),r=C.useRef(!1);return C.useEffect(()=>{const s=a=>{a.target&&!r.current&&aI(vC,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ww(){const n=new CustomEvent(Tm);document.dispatchEvent(n)}function aI(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?iI(s,a):s.dispatchEvent(a)}var IC=gg,SC=oI,ao=globalThis?.document?C.useLayoutEffect:()=>{},AC="Portal",lI=C.forwardRef((n,e)=>{const{container:t,...r}=n,[s,a]=C.useState(!1);ao(()=>a(!0),[]);const l=t||s&&globalThis?.document?.body;return l?oC.createPortal($.jsx(cn.div,{...r,ref:e}),l):null});lI.displayName=AC;function PC(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var yg=n=>{const{present:e,children:t}=n,r=xC(e),s=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=tr(r.ref,RC(s));return typeof t=="function"||r.isPresent?C.cloneElement(s,{ref:a}):null};yg.displayName="Presence";function xC(n){const[e,t]=C.useState(),r=C.useRef({}),s=C.useRef(n),a=C.useRef("none"),l=n?"mounted":"unmounted",[h,f]=PC(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=Ph(r.current);a.current=h==="mounted"?p:"none"},[h]),ao(()=>{const p=r.current,_=s.current;if(_!==n){const E=a.current,S=Ph(p);n?f("MOUNT"):S==="none"||p?.display==="none"?f("UNMOUNT"):f(_&&E!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),ao(()=>{if(e){let p;const _=e.ownerDocument.defaultView??window,v=S=>{const x=Ph(r.current).includes(S.animationName);if(S.target===e&&x&&(f("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",p=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},E=S=>{S.target===e&&(a.current=Ph(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{_.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Ph(n){return n?.animationName||"none"}function RC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function CC({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=bC({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r,h=br(t),f=C.useCallback(p=>{if(a){const v=typeof p=="function"?p(n):p;v!==n&&h(v)}else s(p)},[a,n,s,h]);return[l,f]}function bC({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,s=C.useRef(r),a=br(e);return C.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),t}var kC="VisuallyHidden",zd=C.forwardRef((n,e)=>$.jsx(cn.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));zd.displayName=kC;var DC=zd,_g="ToastProvider",[vg,NC,VC]=pC("Toast"),[uI]=jd("Toast",[VC]),[OC,Bd]=uI(_g),cI=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=n,[h,f]=C.useState(null),[p,_]=C.useState(0),v=C.useRef(!1),E=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${_g}\`. Expected non-empty \`string\`.`),$.jsx(vg.Provider,{scope:e,children:$.jsx(OC,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:f,onToastAdd:C.useCallback(()=>_(S=>S+1),[]),onToastRemove:C.useCallback(()=>_(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};cI.displayName=_g;var hI="ToastViewport",MC=["F8"],Im="toast.viewportPause",Sm="toast.viewportResume",dI=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=MC,label:s="Notifications ({hotkey})",...a}=n,l=Bd(hI,t),h=NC(t),f=C.useRef(null),p=C.useRef(null),_=C.useRef(null),v=C.useRef(null),E=tr(e,v,l.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;C.useEffect(()=>{const b=H=>{r.length!==0&&r.every(K=>H[K]||H.code===K)&&v.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),C.useEffect(()=>{const b=f.current,H=v.current;if(N&&b&&H){const G=()=>{if(!l.isClosePausedRef.current){const ie=new CustomEvent(Im);H.dispatchEvent(ie),l.isClosePausedRef.current=!0}},K=()=>{if(l.isClosePausedRef.current){const ie=new CustomEvent(Sm);H.dispatchEvent(ie),l.isClosePausedRef.current=!1}},J=ie=>{!b.contains(ie.relatedTarget)&&K()},ee=()=>{b.contains(document.activeElement)||K()};return b.addEventListener("focusin",G),b.addEventListener("focusout",J),b.addEventListener("pointermove",G),b.addEventListener("pointerleave",ee),window.addEventListener("blur",G),window.addEventListener("focus",K),()=>{b.removeEventListener("focusin",G),b.removeEventListener("focusout",J),b.removeEventListener("pointermove",G),b.removeEventListener("pointerleave",ee),window.removeEventListener("blur",G),window.removeEventListener("focus",K)}}},[N,l.isClosePausedRef]);const x=C.useCallback(({tabbingDirection:b})=>{const G=h().map(K=>{const J=K.ref.current,ee=[J,...QC(J)];return b==="forwards"?ee:ee.reverse()});return(b==="forwards"?G.reverse():G).flat()},[h]);return C.useEffect(()=>{const b=v.current;if(b){const H=G=>{const K=G.altKey||G.ctrlKey||G.metaKey;if(G.key==="Tab"&&!K){const ee=document.activeElement,ie=G.shiftKey;if(G.target===b&&ie){p.current?.focus();return}const D=x({tabbingDirection:ie?"backwards":"forwards"}),O=D.findIndex(V=>V===ee);Zp(D.slice(O+1))?G.preventDefault():ie?p.current?.focus():_.current?.focus()}};return b.addEventListener("keydown",H),()=>b.removeEventListener("keydown",H)}},[h,x]),$.jsxs(SC,{ref:f,role:"region","aria-label":s.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&$.jsx(Am,{ref:p,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Zp(b)}}),$.jsx(vg.Slot,{scope:t,children:$.jsx(cn.ol,{tabIndex:-1,...a,ref:E})}),N&&$.jsx(Am,{ref:_,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Zp(b)}})]})});dI.displayName=hI;var fI="ToastFocusProxy",Am=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,a=Bd(fI,t);return $.jsx(zd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const h=l.relatedTarget;!a.viewport?.contains(h)&&r()}})});Am.displayName=fI;var $d="Toast",LC="toast.swipeStart",FC="toast.swipeMove",UC="toast.swipeCancel",jC="toast.swipeEnd",pI=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:a,...l}=n,[h=!0,f]=CC({prop:r,defaultProp:s,onChange:a});return $.jsx(yg,{present:t||h,children:$.jsx($C,{open:h,...l,ref:e,onClose:()=>f(!1),onPause:br(n.onPause),onResume:br(n.onResume),onSwipeStart:Rt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Rt(n.onSwipeMove,p=>{const{x:_,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Rt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Rt(n.onSwipeEnd,p=>{const{x:_,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});pI.displayName=$d;var[zC,BC]=uI($d,{onClose(){}}),$C=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:h,onPause:f,onResume:p,onSwipeStart:_,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:S,...N}=n,x=Bd($d,t),[b,H]=C.useState(null),G=tr(e,ae=>H(ae)),K=C.useRef(null),J=C.useRef(null),ee=s||x.duration,ie=C.useRef(0),P=C.useRef(ee),A=C.useRef(0),{onToastAdd:D,onToastRemove:O}=x,V=br(()=>{b?.contains(document.activeElement)&&x.viewport?.focus(),l()}),M=C.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(A.current),ie.current=new Date().getTime(),A.current=window.setTimeout(V,ae))},[V]);C.useEffect(()=>{const ae=x.viewport;if(ae){const ke=()=>{M(P.current),p?.()},Ae=()=>{const Te=new Date().getTime()-ie.current;P.current=P.current-Te,window.clearTimeout(A.current),f?.()};return ae.addEventListener(Im,Ae),ae.addEventListener(Sm,ke),()=>{ae.removeEventListener(Im,Ae),ae.removeEventListener(Sm,ke)}}},[x.viewport,ee,f,p,M]),C.useEffect(()=>{a&&!x.isClosePausedRef.current&&M(ee)},[a,ee,x.isClosePausedRef,M]),C.useEffect(()=>(D(),()=>O()),[D,O]);const R=C.useMemo(()=>b?EI(b):null,[b]);return x.viewport?$.jsxs($.Fragment,{children:[R&&$.jsx(qC,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),$.jsx(zC,{scope:t,onClose:V,children:Ud.createPortal($.jsx(vg.ItemSlot,{scope:t,children:$.jsx(IC,{asChild:!0,onEscapeKeyDown:Rt(h,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:$.jsx(cn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...N,ref:G,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Rt(n.onKeyDown,ae=>{ae.key==="Escape"&&(h?.(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Rt(n.onPointerDown,ae=>{ae.button===0&&(K.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:Rt(n.onPointerMove,ae=>{if(!K.current)return;const ke=ae.clientX-K.current.x,Ae=ae.clientY-K.current.y,Te=!!J.current,X=["left","right"].includes(x.swipeDirection),he=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ue=X?he(0,ke):0,U=X?0:he(0,Ae),Z=ae.pointerType==="touch"?10:2,Pe={x:ue,y:U},xe={originalEvent:ae,delta:Pe};Te?(J.current=Pe,xh(FC,v,xe,{discrete:!1})):Ew(Pe,x.swipeDirection,Z)?(J.current=Pe,xh(LC,_,xe,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(ke)>Z||Math.abs(Ae)>Z)&&(K.current=null)}),onPointerUp:Rt(n.onPointerUp,ae=>{const ke=J.current,Ae=ae.target;if(Ae.hasPointerCapture(ae.pointerId)&&Ae.releasePointerCapture(ae.pointerId),J.current=null,K.current=null,ke){const Te=ae.currentTarget,X={originalEvent:ae,delta:ke};Ew(ke,x.swipeDirection,x.swipeThreshold)?xh(jC,S,X,{discrete:!0}):xh(UC,E,X,{discrete:!0}),Te.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),qC=n=>{const{__scopeToast:e,children:t,...r}=n,s=Bd($d,e),[a,l]=C.useState(!1),[h,f]=C.useState(!1);return KC(()=>l(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:$.jsx(lI,{asChild:!0,children:$.jsx(zd,{...r,children:a&&$.jsxs($.Fragment,{children:[s.label," ",t]})})})},HC="ToastTitle",mI=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return $.jsx(cn.div,{...r,ref:e})});mI.displayName=HC;var GC="ToastDescription",gI=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return $.jsx(cn.div,{...r,ref:e})});gI.displayName=GC;var yI="ToastAction",_I=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?$.jsx(wI,{altText:t,asChild:!0,children:$.jsx(wg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${yI}\`. Expected non-empty \`string\`.`),null)});_I.displayName=yI;var vI="ToastClose",wg=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=BC(vI,t);return $.jsx(wI,{asChild:!0,children:$.jsx(cn.button,{type:"button",...r,ref:e,onClick:Rt(n.onClick,s.onClose)})})});wg.displayName=vI;var wI=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return $.jsx(cn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function EI(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WC(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...EI(r))}}),e}function xh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?iI(s,a):s.dispatchEvent(a)}var Ew=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),a=r>s;return e==="left"||e==="right"?a&&r>t:!a&&s>t};function KC(n=()=>{}){const e=br(n);ao(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function WC(n){return n.nodeType===n.ELEMENT_NODE}function QC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Zp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var YC=cI,TI=dI,II=pI,SI=mI,AI=gI,PI=_I,xI=wg;function RI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=RI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function CI(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=RI(n))&&(r&&(r+=" "),r+=e);return r}const Tw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Iw=CI,bI=(n,e)=>t=>{var r;if(e?.variants==null)return Iw(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const _=t?.[p],v=a?.[p];if(_===null)return null;const E=Tw(_)||Tw(v);return s[p][E]}),h=t&&Object.entries(t).reduce((p,_)=>{let[v,E]=_;return E===void 0||(p[v]=E),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,_)=>{let{class:v,className:E,...S}=_;return Object.entries(S).every(N=>{let[x,b]=N;return Array.isArray(b)?b.includes({...a,...h}[x]):{...a,...h}[x]===b})?[...p,v,E]:p},[]);return Iw(n,l,f,t?.class,t?.className)};const JC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kI=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZC=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...h},f)=>C.createElement("svg",{ref:f,...XC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:kI("lucide",s),...h},[...l.map(([p,_])=>C.createElement(p,_)),...Array.isArray(a)?a:[a]]));const Wu=(n,e)=>{const t=C.forwardRef(({className:r,...s},a)=>C.createElement(ZC,{ref:a,iconNode:e,className:kI(`lucide-${JC(n)}`,r),...s}));return t.displayName=`${n}`,t};const e1=Wu("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const DI=Wu("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const t1=Wu("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const n1=Wu("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const r1=Wu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Eg="-",i1=n=>{const e=o1(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const h=l.split(Eg);return h[0]===""&&h.length!==1&&h.shift(),NI(h,e)||s1(l)},getConflictingClassGroupIds:(l,h)=>{const f=t[l]||[];return h&&r[l]?[...f,...r[l]]:f}}},NI=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?NI(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(Eg);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Sw=/^\[(.+)\]$/,s1=n=>{if(Sw.test(n)){const e=Sw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},o1=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return l1(Object.entries(n.classGroups),t).forEach(([a,l])=>{Pm(l,r,a,e)}),r},Pm=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:Aw(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(a1(s)){Pm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{Pm(l,Aw(e,a),t,r)})})},Aw=(n,e)=>{let t=n;return e.split(Eg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},a1=n=>n.isThemeGetter,l1=(n,e)=>e?n.map(([t,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,h])=>[e+l,h])):a);return[t,s]}):n,u1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},VI="!",c1=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],a=e.length,l=h=>{const f=[];let p=0,_=0,v;for(let b=0;b<h.length;b++){let H=h[b];if(p===0){if(H===s&&(r||h.slice(b,b+a)===e)){f.push(h.slice(_,b)),_=b+a;continue}if(H==="/"){v=b;continue}}H==="["?p++:H==="]"&&p--}const E=f.length===0?h:h.substring(_),S=E.startsWith(VI),N=S?E.substring(1):E,x=v&&v>_?v-_:void 0;return{modifiers:f,hasImportantModifier:S,baseClassName:N,maybePostfixModifierPosition:x}};return t?h=>t({className:h,parseClassName:l}):l},h1=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},d1=n=>({cache:u1(n.cacheSize),parseClassName:c1(n),...i1(n)}),f1=/\s+/,p1=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],l=n.trim().split(f1);let h="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{modifiers:_,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:S}=t(p);let N=!!S,x=r(N?E.substring(0,S):E);if(!x){if(!N){h=p+(h.length>0?" "+h:h);continue}if(x=r(E),!x){h=p+(h.length>0?" "+h:h);continue}N=!1}const b=h1(_).join(":"),H=v?b+VI:b,G=H+x;if(a.includes(G))continue;a.push(G);const K=s(x,N);for(let J=0;J<K.length;++J){const ee=K[J];a.push(H+ee)}h=p+(h.length>0?" "+h:h)}return h};function m1(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=OI(e))&&(r&&(r+=" "),r+=t);return r}const OI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=OI(n[r]))&&(t&&(t+=" "),t+=e);return t};function g1(n,...e){let t,r,s,a=l;function l(f){const p=e.reduce((_,v)=>v(_),n());return t=d1(p),r=t.cache.get,s=t.cache.set,a=h,h(f)}function h(f){const p=r(f);if(p)return p;const _=p1(f,t);return s(f,_),_}return function(){return a(m1.apply(null,arguments))}}const at=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},MI=/^\[(?:([a-z-]+):)?(.+)\]$/i,y1=/^\d+\/\d+$/,_1=new Set(["px","full","screen"]),v1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=n=>Ea(n)||_1.has(n)||y1.test(n),Bi=n=>Ja(n,"length",k1),Ea=n=>!!n&&!Number.isNaN(Number(n)),em=n=>Ja(n,"number",Ea),ru=n=>!!n&&Number.isInteger(Number(n)),S1=n=>n.endsWith("%")&&Ea(n.slice(0,-1)),Ne=n=>MI.test(n),$i=n=>v1.test(n),A1=new Set(["length","size","percentage"]),P1=n=>Ja(n,A1,LI),x1=n=>Ja(n,"position",LI),R1=new Set(["image","url"]),C1=n=>Ja(n,R1,N1),b1=n=>Ja(n,"",D1),iu=()=>!0,Ja=(n,e,t)=>{const r=MI.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},k1=n=>w1.test(n)&&!E1.test(n),LI=()=>!1,D1=n=>T1.test(n),N1=n=>I1.test(n),V1=()=>{const n=at("colors"),e=at("spacing"),t=at("blur"),r=at("brightness"),s=at("borderColor"),a=at("borderRadius"),l=at("borderSpacing"),h=at("borderWidth"),f=at("contrast"),p=at("grayscale"),_=at("hueRotate"),v=at("invert"),E=at("gap"),S=at("gradientColorStops"),N=at("gradientColorStopPositions"),x=at("inset"),b=at("margin"),H=at("opacity"),G=at("padding"),K=at("saturate"),J=at("scale"),ee=at("sepia"),ie=at("skew"),P=at("space"),A=at("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ne,e],M=()=>[Ne,e],R=()=>["",Xr,Bi],ae=()=>["auto",Ea,Ne],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",Ne],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Ea,Ne];return{cacheSize:500,separator:":",theme:{colors:[iu],spacing:[Xr,Bi],blur:["none","",$i,Ne],brightness:U(),borderColor:[n],borderRadius:["none","","full",$i,Ne],borderSpacing:M(),borderWidth:R(),contrast:U(),grayscale:he(),hueRotate:U(),invert:he(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[S1,Bi],inset:V(),margin:V(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:he(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),Ne]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ru,Ne]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",ru,Ne]}],"grid-cols":[{"grid-cols":[iu]}],"col-start-end":[{col:["auto",{span:["full",ru,Ne]},Ne]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[iu]}],"row-start-end":[{row:["auto",{span:[ru,Ne]},Ne]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",em]}],"font-family":[{font:[iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Ea,em]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[H]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Bi]}],"underline-offset":[{"underline-offset":["auto",Xr,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[H]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),x1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C1]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[H]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[H]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[Xr,Ne]}],"outline-w":[{outline:[Xr,Bi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[H]}],"ring-offset-w":[{"ring-offset":[Xr,Bi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",$i,b1]}],"shadow-color":[{shadow:[iu]}],opacity:[{opacity:[H]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",$i,Ne]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[v]}],saturate:[{saturate:[K]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[H]}],"backdrop-saturate":[{"backdrop-saturate":[K]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[ru,Ne]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[ie]}],"skew-y":[{"skew-y":[ie]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xr,Bi,em]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},O1=g1(V1);function hn(...n){return O1(CI(n))}const M1=YC,FI=C.forwardRef(({className:n,...e},t)=>$.jsx(TI,{ref:t,className:hn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));FI.displayName=TI.displayName;const L1=bI("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UI=C.forwardRef(({className:n,variant:e,...t},r)=>$.jsx(II,{ref:r,className:hn(L1({variant:e}),n),...t}));UI.displayName=II.displayName;const F1=C.forwardRef(({className:n,...e},t)=>$.jsx(PI,{ref:t,className:hn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));F1.displayName=PI.displayName;const jI=C.forwardRef(({className:n,...e},t)=>$.jsx(xI,{ref:t,className:hn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:$.jsx(r1,{className:"h-4 w-4"})}));jI.displayName=xI.displayName;const zI=C.forwardRef(({className:n,...e},t)=>$.jsx(SI,{ref:t,className:hn("text-sm font-semibold",n),...e}));zI.displayName=SI.displayName;const BI=C.forwardRef(({className:n,...e},t)=>$.jsx(AI,{ref:t,className:hn("text-sm opacity-90",n),...e}));BI.displayName=AI.displayName;function U1(){const{toasts:n}=sC();return $.jsxs(M1,{children:[n.map(function({id:e,title:t,description:r,action:s,...a}){return $.jsxs(UI,{...a,children:[$.jsxs("div",{className:"grid gap-1",children:[t&&$.jsx(zI,{children:t}),r&&$.jsx(BI,{children:r})]}),s,$.jsx(jI,{})]},e)}),$.jsx(FI,{})]})}const j1=["top","right","bottom","left"],ls=Math.min,In=Math.max,sd=Math.round,Rh=Math.floor,Pr=n=>({x:n,y:n}),z1={left:"right",right:"left",bottom:"top",top:"bottom"},B1={start:"end",end:"start"};function xm(n,e,t){return In(n,ls(e,t))}function ri(n,e){return typeof n=="function"?n(e):n}function ii(n){return n.split("-")[0]}function Xa(n){return n.split("-")[1]}function Tg(n){return n==="x"?"y":"x"}function Ig(n){return n==="y"?"height":"width"}function us(n){return["top","bottom"].includes(ii(n))?"y":"x"}function Sg(n){return Tg(us(n))}function $1(n,e,t){t===void 0&&(t=!1);const r=Xa(n),s=Sg(n),a=Ig(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=od(l)),[l,od(l)]}function q1(n){const e=od(n);return[Rm(n),e,Rm(e)]}function Rm(n){return n.replace(/start|end/g,e=>B1[e])}function H1(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:l;default:return[]}}function G1(n,e,t,r){const s=Xa(n);let a=H1(ii(n),t==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Rm)))),a}function od(n){return n.replace(/left|right|bottom|top/g,e=>z1[e])}function K1(n){return{top:0,right:0,bottom:0,left:0,...n}}function $I(n){return typeof n!="number"?K1(n):{top:n,right:n,bottom:n,left:n}}function ad(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Pw(n,e,t){let{reference:r,floating:s}=n;const a=us(e),l=Sg(e),h=Ig(l),f=ii(e),p=a==="y",_=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,E=r[h]/2-s[h]/2;let S;switch(f){case"top":S={x:_,y:r.y-s.height};break;case"bottom":S={x:_,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:v};break;case"left":S={x:r.x-s.width,y:v};break;default:S={x:r.x,y:r.y}}switch(Xa(e)){case"start":S[l]-=E*(t&&p?-1:1);break;case"end":S[l]+=E*(t&&p?-1:1);break}return S}const W1=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,h=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:_,y:v}=Pw(p,r,f),E=r,S={},N=0;for(let x=0;x<h.length;x++){const{name:b,fn:H}=h[x],{x:G,y:K,data:J,reset:ee}=await H({x:_,y:v,initialPlacement:r,placement:E,strategy:s,middlewareData:S,rects:p,platform:l,elements:{reference:n,floating:e}});_=G??_,v=K??v,S={...S,[b]:{...S[b],...J}},ee&&N<=50&&(N++,typeof ee=="object"&&(ee.placement&&(E=ee.placement),ee.rects&&(p=ee.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):ee.rects),{x:_,y:v}=Pw(p,E,f)),x=-1)}return{x:_,y:v,placement:E,strategy:s,middlewareData:S}};async function Cu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:h,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:_="viewport",elementContext:v="floating",altBoundary:E=!1,padding:S=0}=ri(e,n),N=$I(S),b=h[E?v==="floating"?"reference":"floating":v],H=ad(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:_,strategy:f})),G=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),J=await(a.isElement==null?void 0:a.isElement(K))?await(a.getScale==null?void 0:a.getScale(K))||{x:1,y:1}:{x:1,y:1},ee=ad(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:G,offsetParent:K,strategy:f}):G);return{top:(H.top-ee.top+N.top)/J.y,bottom:(ee.bottom-H.bottom+N.bottom)/J.y,left:(H.left-ee.left+N.left)/J.x,right:(ee.right-H.right+N.right)/J.x}}const Q1=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:l,elements:h,middlewareData:f}=e,{element:p,padding:_=0}=ri(n,e)||{};if(p==null)return{};const v=$I(_),E={x:t,y:r},S=Sg(s),N=Ig(S),x=await l.getDimensions(p),b=S==="y",H=b?"top":"left",G=b?"bottom":"right",K=b?"clientHeight":"clientWidth",J=a.reference[N]+a.reference[S]-E[S]-a.floating[N],ee=E[S]-a.reference[S],ie=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=ie?ie[K]:0;(!P||!await(l.isElement==null?void 0:l.isElement(ie)))&&(P=h.floating[K]||a.floating[N]);const A=J/2-ee/2,D=P/2-x[N]/2-1,O=ls(v[H],D),V=ls(v[G],D),M=O,R=P-x[N]-V,ae=P/2-x[N]/2+A,ke=xm(M,ae,R),Ae=!f.arrow&&Xa(s)!=null&&ae!==ke&&a.reference[N]/2-(ae<M?O:V)-x[N]/2<0,Te=Ae?ae<M?ae-M:ae-R:0;return{[S]:E[S]+Te,data:{[S]:ke,centerOffset:ae-ke-Te,...Ae&&{alignmentOffset:Te}},reset:Ae}}}),Y1=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:_=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:x=!0,...b}=ri(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const H=ii(s),G=us(h),K=ii(h)===h,J=await(f.isRTL==null?void 0:f.isRTL(p.floating)),ee=E||(K||!x?[od(h)]:q1(h)),ie=N!=="none";!E&&ie&&ee.push(...G1(h,x,N,J));const P=[h,...ee],A=await Cu(e,b),D=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(_&&D.push(A[H]),v){const ae=$1(s,l,J);D.push(A[ae[0]],A[ae[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(ae=>ae<=0)){var V,M;const ae=(((V=a.flip)==null?void 0:V.index)||0)+1,ke=P[ae];if(ke)return{data:{index:ae,overflows:O},reset:{placement:ke}};let Ae=(M=O.filter(Te=>Te.overflows[0]<=0).sort((Te,X)=>Te.overflows[1]-X.overflows[1])[0])==null?void 0:M.placement;if(!Ae)switch(S){case"bestFit":{var R;const Te=(R=O.filter(X=>{if(ie){const he=us(X.placement);return he===G||he==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(he=>he>0).reduce((he,ue)=>he+ue,0)]).sort((X,he)=>X[1]-he[1])[0])==null?void 0:R[0];Te&&(Ae=Te);break}case"initialPlacement":Ae=h;break}if(s!==Ae)return{reset:{placement:Ae}}}return{}}}};function xw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Rw(n){return j1.some(e=>n[e]>=0)}const J1=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ri(n,e);switch(r){case"referenceHidden":{const a=await Cu(e,{...s,elementContext:"reference"}),l=xw(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Rw(l)}}}case"escaped":{const a=await Cu(e,{...s,altBoundary:!0}),l=xw(a,t.floating);return{data:{escapedOffsets:l,escaped:Rw(l)}}}default:return{}}}}};async function X1(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=ii(t),h=Xa(t),f=us(t)==="y",p=["left","top"].includes(l)?-1:1,_=a&&f?-1:1,v=ri(e,n);let{mainAxis:E,crossAxis:S,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof N=="number"&&(S=h==="end"?N*-1:N),f?{x:S*_,y:E*p}:{x:E*p,y:S*_}}const Z1=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:l,middlewareData:h}=e,f=await X1(e,n);return l===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:l}}}}},eb=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:h={fn:b=>{let{x:H,y:G}=b;return{x:H,y:G}}},...f}=ri(n,e),p={x:t,y:r},_=await Cu(e,f),v=us(ii(s)),E=Tg(v);let S=p[E],N=p[v];if(a){const b=E==="y"?"top":"left",H=E==="y"?"bottom":"right",G=S+_[b],K=S-_[H];S=xm(G,S,K)}if(l){const b=v==="y"?"top":"left",H=v==="y"?"bottom":"right",G=N+_[b],K=N-_[H];N=xm(G,N,K)}const x=h.fn({...e,[E]:S,[v]:N});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[E]:a,[v]:l}}}}}},tb=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=ri(n,e),_={x:t,y:r},v=us(s),E=Tg(v);let S=_[E],N=_[v];const x=ri(h,e),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(f){const K=E==="y"?"height":"width",J=a.reference[E]-a.floating[K]+b.mainAxis,ee=a.reference[E]+a.reference[K]-b.mainAxis;S<J?S=J:S>ee&&(S=ee)}if(p){var H,G;const K=E==="y"?"width":"height",J=["top","left"].includes(ii(s)),ee=a.reference[v]-a.floating[K]+(J&&((H=l.offset)==null?void 0:H[v])||0)+(J?0:b.crossAxis),ie=a.reference[v]+a.reference[K]+(J?0:((G=l.offset)==null?void 0:G[v])||0)-(J?b.crossAxis:0);N<ee?N=ee:N>ie&&(N=ie)}return{[E]:S,[v]:N}}}},nb=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:l,elements:h}=e,{apply:f=()=>{},...p}=ri(n,e),_=await Cu(e,p),v=ii(s),E=Xa(s),S=us(s)==="y",{width:N,height:x}=a.floating;let b,H;v==="top"||v==="bottom"?(b=v,H=E===(await(l.isRTL==null?void 0:l.isRTL(h.floating))?"start":"end")?"left":"right"):(H=v,b=E==="end"?"top":"bottom");const G=x-_.top-_.bottom,K=N-_.left-_.right,J=ls(x-_[b],G),ee=ls(N-_[H],K),ie=!e.middlewareData.shift;let P=J,A=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=K),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=G),ie&&!E){const O=In(_.left,0),V=In(_.right,0),M=In(_.top,0),R=In(_.bottom,0);S?A=N-2*(O!==0||V!==0?O+V:In(_.left,_.right)):P=x-2*(M!==0||R!==0?M+R:In(_.top,_.bottom))}await f({...e,availableWidth:A,availableHeight:P});const D=await l.getDimensions(h.floating);return N!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function qd(){return typeof window<"u"}function Za(n){return qI(n)?(n.nodeName||"").toLowerCase():"#document"}function Pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Nr(n){var e;return(e=(qI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function qI(n){return qd()?n instanceof Node||n instanceof Pn(n).Node:!1}function nr(n){return qd()?n instanceof Element||n instanceof Pn(n).Element:!1}function kr(n){return qd()?n instanceof HTMLElement||n instanceof Pn(n).HTMLElement:!1}function Cw(n){return!qd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pn(n).ShadowRoot}function Qu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=rr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function rb(n){return["table","td","th"].includes(Za(n))}function Hd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Ag(n){const e=Pg(),t=nr(n)?rr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function ib(n){let e=cs(n);for(;kr(e)&&!ba(e);){if(Ag(e))return e;if(Hd(e))return null;e=cs(e)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ba(n){return["html","body","#document"].includes(Za(n))}function rr(n){return Pn(n).getComputedStyle(n)}function Gd(n){return nr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function cs(n){if(Za(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Cw(n)&&n.host||Nr(n);return Cw(e)?e.host:e}function HI(n){const e=cs(n);return ba(e)?n.ownerDocument?n.ownerDocument.body:n.body:kr(e)&&Qu(e)?e:HI(e)}function bu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=HI(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=Pn(s);if(a){const h=Cm(l);return e.concat(l,l.visualViewport||[],Qu(s)?s:[],h&&t?bu(h):[])}return e.concat(s,bu(s,[],t))}function Cm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function GI(n){const e=rr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=kr(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:r,h=sd(t)!==a||sd(r)!==l;return h&&(t=a,r=l),{width:t,height:r,$:h}}function xg(n){return nr(n)?n:n.contextElement}function Ta(n){const e=xg(n);if(!kr(e))return Pr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=GI(e);let l=(a?sd(t.width):t.width)/r,h=(a?sd(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!h||!Number.isFinite(h))&&(h=1),{x:l,y:h}}const sb=Pr(0);function KI(n){const e=Pn(n);return!Pg()||!e.visualViewport?sb:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ob(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pn(n)?!1:e}function lo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=xg(n);let l=Pr(1);e&&(r?nr(r)&&(l=Ta(r)):l=Ta(n));const h=ob(a,t,r)?KI(a):Pr(0);let f=(s.left+h.x)/l.x,p=(s.top+h.y)/l.y,_=s.width/l.x,v=s.height/l.y;if(a){const E=Pn(a),S=r&&nr(r)?Pn(r):r;let N=E,x=Cm(N);for(;x&&r&&S!==N;){const b=Ta(x),H=x.getBoundingClientRect(),G=rr(x),K=H.left+(x.clientLeft+parseFloat(G.paddingLeft))*b.x,J=H.top+(x.clientTop+parseFloat(G.paddingTop))*b.y;f*=b.x,p*=b.y,_*=b.x,v*=b.y,f+=K,p+=J,N=Pn(x),x=Cm(N)}}return ad({width:_,height:v,x:f,y:p})}function Rg(n,e){const t=Gd(n).scrollLeft;return e?e.left+t:lo(Nr(n)).left+t}function WI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Rg(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function ab(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",l=Nr(r),h=e?Hd(e.floating):!1;if(r===l||h&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Pr(1);const _=Pr(0),v=kr(r);if((v||!v&&!a)&&((Za(r)!=="body"||Qu(l))&&(f=Gd(r)),kr(r))){const S=lo(r);p=Ta(r),_.x=S.x+r.clientLeft,_.y=S.y+r.clientTop}const E=l&&!v&&!a?WI(l,f,!0):Pr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+_.x+E.x,y:t.y*p.y-f.scrollTop*p.y+_.y+E.y}}function lb(n){return Array.from(n.getClientRects())}function ub(n){const e=Nr(n),t=Gd(n),r=n.ownerDocument.body,s=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Rg(n);const h=-t.scrollTop;return rr(r).direction==="rtl"&&(l+=In(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:h}}function cb(n,e){const t=Pn(n),r=Nr(n),s=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,h=0,f=0;if(s){a=s.width,l=s.height;const p=Pg();(!p||p&&e==="fixed")&&(h=s.offsetLeft,f=s.offsetTop)}return{width:a,height:l,x:h,y:f}}function hb(n,e){const t=lo(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=kr(n)?Ta(n):Pr(1),l=n.clientWidth*a.x,h=n.clientHeight*a.y,f=s*a.x,p=r*a.y;return{width:l,height:h,x:f,y:p}}function bw(n,e,t){let r;if(e==="viewport")r=cb(n,t);else if(e==="document")r=ub(Nr(n));else if(nr(e))r=hb(e,t);else{const s=KI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ad(r)}function QI(n,e){const t=cs(n);return t===e||!nr(t)||ba(t)?!1:rr(t).position==="fixed"||QI(t,e)}function db(n,e){const t=e.get(n);if(t)return t;let r=bu(n,[],!1).filter(h=>nr(h)&&Za(h)!=="body"),s=null;const a=rr(n).position==="fixed";let l=a?cs(n):n;for(;nr(l)&&!ba(l);){const h=rr(l),f=Ag(l);!f&&h.position==="fixed"&&(s=null),(a?!f&&!s:!f&&h.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qu(l)&&!f&&QI(n,l))?r=r.filter(_=>_!==l):s=h,l=cs(l)}return e.set(n,r),r}function fb(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?Hd(e)?[]:db(e,this._c):[].concat(t),r],h=l[0],f=l.reduce((p,_)=>{const v=bw(e,_,s);return p.top=In(v.top,p.top),p.right=ls(v.right,p.right),p.bottom=ls(v.bottom,p.bottom),p.left=In(v.left,p.left),p},bw(e,h,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function pb(n){const{width:e,height:t}=GI(n);return{width:e,height:t}}function mb(n,e,t){const r=kr(e),s=Nr(e),a=t==="fixed",l=lo(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=Pr(0);if(r||!r&&!a)if((Za(e)!=="body"||Qu(s))&&(h=Gd(e)),r){const E=lo(e,!0,a,e);f.x=E.x+e.clientLeft,f.y=E.y+e.clientTop}else s&&(f.x=Rg(s));const p=s&&!r&&!a?WI(s,h):Pr(0),_=l.left+h.scrollLeft-f.x-p.x,v=l.top+h.scrollTop-f.y-p.y;return{x:_,y:v,width:l.width,height:l.height}}function tm(n){return rr(n).position==="static"}function kw(n,e){if(!kr(n)||rr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Nr(n)===t&&(t=t.ownerDocument.body),t}function YI(n,e){const t=Pn(n);if(Hd(n))return t;if(!kr(n)){let s=cs(n);for(;s&&!ba(s);){if(nr(s)&&!tm(s))return s;s=cs(s)}return t}let r=kw(n,e);for(;r&&rb(r)&&tm(r);)r=kw(r,e);return r&&ba(r)&&tm(r)&&!Ag(r)?t:r||ib(n)||t}const gb=async function(n){const e=this.getOffsetParent||YI,t=this.getDimensions,r=await t(n.floating);return{reference:mb(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yb(n){return rr(n).direction==="rtl"}const _b={convertOffsetParentRelativeRectToViewportRelativeRect:ab,getDocumentElement:Nr,getClippingRect:fb,getOffsetParent:YI,getElementRects:gb,getClientRects:lb,getDimensions:pb,getScale:Ta,isElement:nr,isRTL:yb};function JI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function vb(n,e){let t=null,r;const s=Nr(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function l(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const p=n.getBoundingClientRect(),{left:_,top:v,width:E,height:S}=p;if(h||e(),!E||!S)return;const N=Rh(v),x=Rh(s.clientWidth-(_+E)),b=Rh(s.clientHeight-(v+S)),H=Rh(_),K={rootMargin:-N+"px "+-x+"px "+-b+"px "+-H+"px",threshold:In(0,ls(1,f))||1};let J=!0;function ee(ie){const P=ie[0].intersectionRatio;if(P!==f){if(!J)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!JI(p,n.getBoundingClientRect())&&l(),J=!1}try{t=new IntersectionObserver(ee,{...K,root:s.ownerDocument})}catch{t=new IntersectionObserver(ee,K)}t.observe(n)}return l(!0),a}function wb(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=xg(n),_=s||a?[...p?bu(p):[],...bu(e)]:[];_.forEach(H=>{s&&H.addEventListener("scroll",t,{passive:!0}),a&&H.addEventListener("resize",t)});const v=p&&h?vb(p,t):null;let E=-1,S=null;l&&(S=new ResizeObserver(H=>{let[G]=H;G&&G.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var K;(K=S)==null||K.observe(e)})),t()}),p&&!f&&S.observe(p),S.observe(e));let N,x=f?lo(n):null;f&&b();function b(){const H=lo(n);x&&!JI(x,H)&&t(),x=H,N=requestAnimationFrame(b)}return t(),()=>{var H;_.forEach(G=>{s&&G.removeEventListener("scroll",t),a&&G.removeEventListener("resize",t)}),v?.(),(H=S)==null||H.disconnect(),S=null,f&&cancelAnimationFrame(N)}}const Eb=Z1,Tb=eb,Ib=Y1,Sb=nb,Ab=J1,Dw=Q1,Pb=tb,xb=(n,e,t)=>{const r=new Map,s={platform:_b,...t},a={...s.platform,_c:r};return W1(n,e,{...s,platform:a})};var jh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function ld(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!ld(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!ld(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function XI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Nw(n,e){const t=XI(n);return Math.round(e*t)/t}function nm(n){const e=C.useRef(n);return jh(()=>{e.current=n}),e}function Rb(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:h=!0,whileElementsMounted:f,open:p}=n,[_,v]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=C.useState(r);ld(E,r)||S(r);const[N,x]=C.useState(null),[b,H]=C.useState(null),G=C.useCallback(X=>{X!==ie.current&&(ie.current=X,x(X))},[]),K=C.useCallback(X=>{X!==P.current&&(P.current=X,H(X))},[]),J=a||N,ee=l||b,ie=C.useRef(null),P=C.useRef(null),A=C.useRef(_),D=f!=null,O=nm(f),V=nm(s),M=nm(p),R=C.useCallback(()=>{if(!ie.current||!P.current)return;const X={placement:e,strategy:t,middleware:E};V.current&&(X.platform=V.current),xb(ie.current,P.current,X).then(he=>{const ue={...he,isPositioned:M.current!==!1};ae.current&&!ld(A.current,ue)&&(A.current=ue,Ud.flushSync(()=>{v(ue)}))})},[E,e,t,V,M]);jh(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(X=>({...X,isPositioned:!1})))},[p]);const ae=C.useRef(!1);jh(()=>(ae.current=!0,()=>{ae.current=!1}),[]),jh(()=>{if(J&&(ie.current=J),ee&&(P.current=ee),J&&ee){if(O.current)return O.current(J,ee,R);R()}},[J,ee,R,O,D]);const ke=C.useMemo(()=>({reference:ie,floating:P,setReference:G,setFloating:K}),[G,K]),Ae=C.useMemo(()=>({reference:J,floating:ee}),[J,ee]),Te=C.useMemo(()=>{const X={position:t,left:0,top:0};if(!Ae.floating)return X;const he=Nw(Ae.floating,_.x),ue=Nw(Ae.floating,_.y);return h?{...X,transform:"translate("+he+"px, "+ue+"px)",...XI(Ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:ue}},[t,h,Ae.floating,_.x,_.y]);return C.useMemo(()=>({..._,update:R,refs:ke,elements:Ae,floatingStyles:Te}),[_,R,ke,Ae,Te])}const Cb=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Dw({element:r.current,padding:s}).fn(t):{}:r?Dw({element:r,padding:s}).fn(t):{}}}},bb=(n,e)=>({...Eb(n),options:[n,e]}),kb=(n,e)=>({...Tb(n),options:[n,e]}),Db=(n,e)=>({...Pb(n),options:[n,e]}),Nb=(n,e)=>({...Ib(n),options:[n,e]}),Vb=(n,e)=>({...Sb(n),options:[n,e]}),Ob=(n,e)=>({...Ab(n),options:[n,e]}),Mb=(n,e)=>({...Cb(n),options:[n,e]});var Lb="Arrow",ZI=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return $.jsx(cn.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZI.displayName=Lb;var Fb=ZI;function Ub(n){const[e,t]=C.useState(void 0);return ao(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,h;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,h=p.blockSize}else l=n.offsetWidth,h=n.offsetHeight;t({width:l,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var e0="Popper",[t0,n0]=jd(e0),[$F,r0]=t0(e0),i0="PopperAnchor",s0=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=r0(i0,t),l=C.useRef(null),h=tr(e,l);return C.useEffect(()=>{a.onAnchorChange(r?.current||l.current)}),r?null:$.jsx(cn.div,{...s,ref:h})});s0.displayName=i0;var Cg="PopperContent",[jb,zb]=t0(Cg),o0=C.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:_=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:S="optimized",onPlaced:N,...x}=n,b=r0(Cg,t),[H,G]=C.useState(null),K=tr(e,Fe=>G(Fe)),[J,ee]=C.useState(null),ie=Ub(J),P=ie?.width??0,A=ie?.height??0,D=r+(a!=="center"?"-"+a:""),O=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},V=Array.isArray(p)?p:[p],M=V.length>0,R={padding:O,boundary:V.filter($b),altBoundary:M},{refs:ae,floatingStyles:ke,placement:Ae,isPositioned:Te,middlewareData:X}=Rb({strategy:"fixed",placement:D,whileElementsMounted:(...Fe)=>wb(...Fe,{animationFrame:S==="always"}),elements:{reference:b.anchor},middleware:[bb({mainAxis:s+A,alignmentAxis:l}),f&&kb({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Db():void 0,...R}),f&&Nb({...R}),Vb({...R,apply:({elements:Fe,rects:Ue,availableWidth:We,availableHeight:Mt})=>{const{width:di,height:Es}=Ue.reference,dn=Fe.floating.style;dn.setProperty("--radix-popper-available-width",`${We}px`),dn.setProperty("--radix-popper-available-height",`${Mt}px`),dn.setProperty("--radix-popper-anchor-width",`${di}px`),dn.setProperty("--radix-popper-anchor-height",`${Es}px`)}}),J&&Mb({element:J,padding:h}),qb({arrowWidth:P,arrowHeight:A}),E&&Ob({strategy:"referenceHidden",...R})]}),[he,ue]=u0(Ae),U=br(N);ao(()=>{Te&&U?.()},[Te,U]);const Z=X.arrow?.x,Pe=X.arrow?.y,xe=X.arrow?.centerOffset!==0,[Oe,Me]=C.useState();return ao(()=>{H&&Me(window.getComputedStyle(H).zIndex)},[H]),$.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:Te?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:$.jsx(jb,{scope:t,placedSide:he,onArrowChange:ee,arrowX:Z,arrowY:Pe,shouldHideArrow:xe,children:$.jsx(cn.div,{"data-side":he,"data-align":ue,...x,ref:K,style:{...x.style,animation:Te?void 0:"none"}})})})});o0.displayName=Cg;var a0="PopperArrow",Bb={top:"bottom",right:"left",bottom:"top",left:"right"},l0=C.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=zb(a0,r),l=Bb[a.placedSide];return $.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:$.jsx(Fb,{...s,ref:t,style:{...s.style,display:"block"}})})});l0.displayName=a0;function $b(n){return n!==null}var qb=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,h=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[p,_]=u0(t),v={start:"0%",center:"50%",end:"100%"}[_],E=(s.arrow?.x??0)+h/2,S=(s.arrow?.y??0)+f/2;let N="",x="";return p==="bottom"?(N=l?v:`${E}px`,x=`${-f}px`):p==="top"?(N=l?v:`${E}px`,x=`${r.floating.height+f}px`):p==="right"?(N=`${-f}px`,x=l?v:`${S}px`):p==="left"&&(N=`${r.floating.width+f}px`,x=l?v:`${S}px`),{data:{x:N,y:x}}}});function u0(n){const[e,t="center"]=n.split("-");return[e,t]}var Hb=s0,Gb=o0,Kb=l0,[Kd]=jd("Tooltip",[n0]),bg=n0(),c0="TooltipProvider",Wb=700,Vw="tooltip.open",[Qb,h0]=Kd(c0),d0=n=>{const{__scopeTooltip:e,delayDuration:t=Wb,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=n,l=C.useRef(!0),h=C.useRef(!1),f=C.useRef(0);return C.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),$.jsx(Qb,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:C.useCallback(p=>{h.current=p},[]),disableHoverableContent:s,children:a})};d0.displayName=c0;var f0="Tooltip",[qF,Wd]=Kd(f0),bm="TooltipTrigger",Yb=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Wd(bm,t),a=h0(bm,t),l=bg(t),h=C.useRef(null),f=tr(e,h,s.onTriggerChange),p=C.useRef(!1),_=C.useRef(!1),v=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),$.jsx(Hb,{asChild:!0,...l,children:$.jsx(cn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Rt(n.onPointerMove,E=>{E.pointerType!=="touch"&&!_.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),_.current=!0)}),onPointerLeave:Rt(n.onPointerLeave,()=>{s.onTriggerLeave(),_.current=!1}),onPointerDown:Rt(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Rt(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Rt(n.onBlur,s.onClose),onClick:Rt(n.onClick,s.onClose)})})});Yb.displayName=bm;var Jb="TooltipPortal",[HF,Xb]=Kd(Jb,{forceMount:void 0}),ka="TooltipContent",p0=C.forwardRef((n,e)=>{const t=Xb(ka,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...a}=n,l=Wd(ka,n.__scopeTooltip);return $.jsx(yg,{present:r||l.open,children:l.disableHoverableContent?$.jsx(m0,{side:s,...a,ref:e}):$.jsx(Zb,{side:s,...a,ref:e})})}),Zb=C.forwardRef((n,e)=>{const t=Wd(ka,n.__scopeTooltip),r=h0(ka,n.__scopeTooltip),s=C.useRef(null),a=tr(e,s),[l,h]=C.useState(null),{trigger:f,onClose:p}=t,_=s.current,{onPointerInTransitChange:v}=r,E=C.useCallback(()=>{h(null),v(!1)},[v]),S=C.useCallback((N,x)=>{const b=N.currentTarget,H={x:N.clientX,y:N.clientY},G=ik(H,b.getBoundingClientRect()),K=sk(H,G),J=ok(x.getBoundingClientRect()),ee=lk([...K,...J]);h(ee),v(!0)},[v]);return C.useEffect(()=>()=>E(),[E]),C.useEffect(()=>{if(f&&_){const N=b=>S(b,_),x=b=>S(b,f);return f.addEventListener("pointerleave",N),_.addEventListener("pointerleave",x),()=>{f.removeEventListener("pointerleave",N),_.removeEventListener("pointerleave",x)}}},[f,_,S,E]),C.useEffect(()=>{if(l){const N=x=>{const b=x.target,H={x:x.clientX,y:x.clientY},G=f?.contains(b)||_?.contains(b),K=!ak(H,l);G?E():K&&(E(),p())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,_,l,p,E]),$.jsx(m0,{...n,ref:a})}),[ek,tk]=Kd(f0,{isInside:!1}),nk=cC("TooltipContent"),m0=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...h}=n,f=Wd(ka,t),p=bg(t),{onClose:_}=f;return C.useEffect(()=>(document.addEventListener(Vw,_),()=>document.removeEventListener(Vw,_)),[_]),C.useEffect(()=>{if(f.trigger){const v=E=>{E.target?.contains(f.trigger)&&_()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,_]),$.jsx(gg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:_,children:$.jsxs(Gb,{"data-state":f.stateAttribute,...p,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(nk,{children:r}),$.jsx(ek,{scope:t,isInside:!0,children:$.jsx(DC,{id:f.contentId,role:"tooltip",children:s||r})})]})})});p0.displayName=ka;var g0="TooltipArrow",rk=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=bg(t);return tk(g0,t).isInside?null:$.jsx(Kb,{...s,...r,ref:e})});rk.displayName=g0;function ik(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,s,a)){case a:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sk(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function ok(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function ak(n,e){const{x:t,y:r}=n;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const h=e[a].x,f=e[a].y,p=e[l].x,_=e[l].y;f>r!=_>r&&t<(p-h)*(r-f)/(_-f)+h&&(s=!s)}return s}function lk(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),uk(e)}function uk(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var ck=d0,y0=p0;const hk=ck,dk=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>$.jsx(y0,{ref:r,sideOffset:e,className:hn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));dk.displayName=y0.displayName;const fk=bI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),kg=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const l=r?lC:"button";return $.jsx(l,{className:hn(fk({variant:e,size:t,className:n})),ref:a,...s})});kg.displayName="Button";class pk extends C.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?$.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))] p-4 text-center",children:$.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 md:p-8 rounded-3xl shadow-xl border-4 border-[hsl(var(--macaron-red))] max-w-md w-full",children:[$.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:$.jsx(n1,{className:"w-8 h-8 text-red-500"})}),$.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:""}),$.jsx("p",{className:"text-gray-600 mb-6",children:""}),$.jsxs(kg,{onClick:this.handleReload,className:"w-full bg-[hsl(var(--macaron-blue))] hover:bg-[hsl(var(--macaron-blue-dark))] text-white font-bold py-6 rounded-xl text-lg flex items-center justify-center gap-2 mb-4",children:[$.jsx(t1,{className:"w-5 h-5"}),""]}),$.jsxs("div",{className:"text-left mt-4 border-t pt-4",children:[$.jsx("p",{className:"text-xs text-gray-500 font-mono break-all mb-2",children:" ():"}),$.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono text-red-600 overflow-auto max-h-32",children:[this.state.error&&this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]})]})}):this.props.children}}const _0=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));_0.displayName="Card";const mk=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("flex flex-col space-y-1.5 p-6",n),...e}));mk.displayName="CardHeader";const gk=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("text-2xl font-semibold leading-none tracking-tight",n),...e}));gk.displayName="CardTitle";const yk=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("text-sm text-muted-foreground",n),...e}));yk.displayName="CardDescription";const v0=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("p-6 pt-0",n),...e}));v0.displayName="CardContent";const _k=C.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:hn("flex items-center p-6 pt-0",n),...e}));_k.displayName="CardFooter";function vk(){const n="/kids/".replace(/\/$/,"");return $.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[hsl(var(--macaron-pink)/0.3)] to-[hsl(var(--macaron-blue)/0.3)]",children:$.jsx(_0,{className:"w-full max-w-md mx-4 border-4 border-white rounded-3xl shadow-xl",children:$.jsxs(v0,{className:"pt-6 text-center",children:[$.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[$.jsx(e1,{className:"h-16 w-16 text-[hsl(var(--macaron-pink-dark))]"}),$.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:""})]}),$.jsx("p",{className:"text-muted-foreground mb-6",children:"..."}),$.jsx(PR,{href:n+"/",children:$.jsx(kg,{className:"btn-macaron btn-purple w-full py-6 text-lg rounded-xl",children:""})})]})})})}const wk=()=>{};var Ow={};const w0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Ek=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,h=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,_=a>>2,v=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;f||(S=64,l||(E=64)),r.push(t[_],t[v],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ek(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||v==null)throw new Tk;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const N=p<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Tk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(n){const e=w0(n);return E0.encodeByteArray(e,!0)},T0=function(n){return Ik(n).replace(/\./g,"")},I0=function(n){try{return E0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sk=()=>S0().__FIREBASE_DEFAULTS__,Ak=()=>{if(typeof process>"u"||typeof Ow>"u")return;const n=Ow.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&I0(n[1]);return e&&JSON.parse(e)},Qd=()=>{try{return wk()||Sk()||Ak()||Pk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xk=n=>Qd()?.emulatorHosts?.[n],A0=()=>Qd()?.config,P0=n=>Qd()?.[`_${n}`];class Rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function el(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(n){return(await fetch(n,{credentials:"include"})).ok}const gu={};function Ck(){const n={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?n.emulator.push(e):n.prod.push(e);return n}function bk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Mw=!1;function kk(n,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||gu[n]===e||gu[n]||Mw)return;gu[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=Ck().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Mw=!0,l()},E}function _(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=bk(r),S=t("text"),N=document.getElementById(S)||document.createElement("span"),x=t("learnmore"),b=document.getElementById(x)||document.createElement("a"),H=t("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),_(b,x);const J=p();f(G,H),K.append(G,N,b,J),document.body.appendChild(K)}a?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function R0(){const n=Qd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mk(){const n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function C0(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b0(){return!R0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function k0(){try{return typeof indexedDB=="object"}catch{return!1}}function Lk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const Fk="FirebaseError";class ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fk,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Uk(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new ci(s,h,r)}}function Uk(n,e){return n.replace(jk,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jk=/\{\$([^}]+)}/g;function zk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function uo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(Lw(a)&&Lw(l)){if(!uo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Lw(n){return n!==null&&typeof n=="object"}function Ju(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bk(n,e){const t=new $k(n,e);return t.subscribe.bind(t)}class $k{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qk(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=rm),s.error===void 0&&(s.error=rm),s.complete===void 0&&(s.complete=rm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rm(){}function Rn(n){return n&&n._delegate?n._delegate:n}class co{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ys="[DEFAULT]";class Hk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Rk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(n){return n===Ys?void 0:n}function Kk(n){return n.instantiationMode==="EAGER"}class Wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Hk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const Qk={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Yk=je.INFO,Jk={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Xk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Jk[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dg{constructor(e){this.name=e,this._logLevel=Yk,this._logHandler=Xk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Zk=(n,e)=>e.some(t=>n instanceof t);let Fw,Uw;function eD(){return Fw||(Fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tD(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,km=new WeakMap,N0=new WeakMap,im=new WeakMap,Ng=new WeakMap;function nD(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ts(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&D0.set(t,n)}).catch(()=>{}),Ng.set(e,n),e}function rD(n){if(km.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});km.set(n,e)}let Dm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return km.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function iD(n){Dm=n(Dm)}function sD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(sm(this),e,...t);return N0.set(r,e.sort?e.sort():[e]),ts(r)}:tD().includes(n)?function(...e){return n.apply(sm(this),e),ts(D0.get(this))}:function(...e){return ts(n.apply(sm(this),e))}}function oD(n){return typeof n=="function"?sD(n):(n instanceof IDBTransaction&&rD(n),Zk(n,eD())?new Proxy(n,Dm):n)}function ts(n){if(n instanceof IDBRequest)return nD(n);if(im.has(n))return im.get(n);const e=oD(n);return e!==n&&(im.set(n,e),Ng.set(e,n)),e}const sm=n=>Ng.get(n);function aD(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),h=ts(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ts(l.result),f.oldVersion,f.newVersion,ts(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const lD=["get","getKey","getAll","getAllKeys","count"],uD=["put","add","delete","clear"],om=new Map;function jw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=uD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lD.includes(t)))return;const a=async function(l,...h){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return om.set(e,a),a}iD(n=>({...n,get:(e,t,r)=>jw(e,t)||n.get(e,t,r),has:(e,t)=>!!jw(e,t)||n.has(e,t)}));class cD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hD(n){return n.getComponent()?.type==="VERSION"}const Nm="@firebase/app",zw="0.14.7";const si=new Dg("@firebase/app"),dD="@firebase/app-compat",fD="@firebase/analytics-compat",pD="@firebase/analytics",mD="@firebase/app-check-compat",gD="@firebase/app-check",yD="@firebase/auth",_D="@firebase/auth-compat",vD="@firebase/database",wD="@firebase/data-connect",ED="@firebase/database-compat",TD="@firebase/functions",ID="@firebase/functions-compat",SD="@firebase/installations",AD="@firebase/installations-compat",PD="@firebase/messaging",xD="@firebase/messaging-compat",RD="@firebase/performance",CD="@firebase/performance-compat",bD="@firebase/remote-config",kD="@firebase/remote-config-compat",DD="@firebase/storage",ND="@firebase/storage-compat",VD="@firebase/firestore",OD="@firebase/ai",MD="@firebase/firestore-compat",LD="firebase",FD="12.8.0";const Vm="[DEFAULT]",UD={[Nm]:"fire-core",[dD]:"fire-core-compat",[pD]:"fire-analytics",[fD]:"fire-analytics-compat",[gD]:"fire-app-check",[mD]:"fire-app-check-compat",[yD]:"fire-auth",[_D]:"fire-auth-compat",[vD]:"fire-rtdb",[wD]:"fire-data-connect",[ED]:"fire-rtdb-compat",[TD]:"fire-fn",[ID]:"fire-fn-compat",[SD]:"fire-iid",[AD]:"fire-iid-compat",[PD]:"fire-fcm",[xD]:"fire-fcm-compat",[RD]:"fire-perf",[CD]:"fire-perf-compat",[bD]:"fire-rc",[kD]:"fire-rc-compat",[DD]:"fire-gcs",[ND]:"fire-gcs-compat",[VD]:"fire-fst",[MD]:"fire-fst-compat",[OD]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};const ud=new Map,jD=new Map,Om=new Map;function Bw(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(Om.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,n);for(const t of ud.values())Bw(t,n);for(const t of jD.values())Bw(t,n);return!0}function Vg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Yu("app","Firebase",zD);class BD{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const tl=FD;function V0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Vm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ns.create("bad-app-name",{appName:String(s)});if(t||(t=A0()),!t)throw ns.create("no-options");const a=ud.get(s);if(a){if(uo(t,a.options)&&uo(r,a.config))return a;throw ns.create("duplicate-app",{appName:s})}const l=new Wk(s);for(const f of Om.values())l.addComponent(f);const h=new BD(t,r,l);return ud.set(s,h),h}function $D(n=Vm){const e=ud.get(n);if(!e&&n===Vm&&A0())return V0();if(!e)throw ns.create("no-app",{appName:n});return e}function rs(n,e,t){let r=UD[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}Da(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qD="firebase-heartbeat-database",HD=1,ku="firebase-heartbeat-store";let am=null;function O0(){return am||(am=aD(qD,HD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw ns.create("idb-open",{originalErrorMessage:n.message})})),am}async function GD(n){try{const t=(await O0()).transaction(ku),r=await t.objectStore(ku).get(M0(n));return await t.done,r}catch(e){if(e instanceof ci)si.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e?.message});si.warn(t.message)}}}async function $w(n,e){try{const r=(await O0()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,M0(n)),await r.done}catch(t){if(t instanceof ci)si.warn(t.message);else{const r=ns.create("idb-set",{originalErrorMessage:t?.message});si.warn(r.message)}}}function M0(n){return`${n.name}!${n.options.appId}`}const KD=1024,WD=30;class QD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>WD){const s=XD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qw(),{heartbeatsToSend:t,unsentEntries:r}=YD(this._heartbeatsCache.heartbeats),s=T0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return si.warn(e),""}}}function qw(){return new Date().toISOString().substring(0,10)}function YD(n,e=KD){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Hw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Hw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k0()?Lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $w(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hw(n){return T0(JSON.stringify({version:2,heartbeats:n})).length}function XD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function ZD(n){Da(new co("platform-logger",e=>new cD(e),"PRIVATE")),Da(new co("heartbeat",e=>new QD(e),"PRIVATE")),rs(Nm,zw,n),rs(Nm,zw,"esm2020"),rs("fire-js","")}ZD("");var eN="firebase",tN="12.8.0";rs(eN,tN,"app");function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=L0,F0=new Yu("auth","Firebase",L0());const cd=new Dg("@firebase/auth");function rN(n,...e){cd.logLevel<=je.WARN&&cd.warn(`Auth (${tl}): ${n}`,...e)}function zh(n,...e){cd.logLevel<=je.ERROR&&cd.error(`Auth (${tl}): ${n}`,...e)}function oi(n,...e){throw Og(n,...e)}function xr(n,...e){return Og(n,...e)}function U0(n,e,t){const r={...nN(),[e]:t};return new Yu("auth","Firebase",r).create(e,{appName:n.name})}function is(n){return U0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Og(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return F0.create(n,...e)}function Ce(n,e,...t){if(!n)throw Og(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zh(e),new Error(e)}function ai(n,e){n||Zr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function iN(){return Gw()==="http:"||Gw()==="https:"}function Gw(){return typeof self<"u"&&self.location?.protocol||null}function sN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||Vk()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=Dk()||Ok()}get(){return sN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mg(n,e){ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class j0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uN=new Xu(3e4,6e4);function Yd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function nl(n,e,t,r,s={}){return z0(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Ju({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return Nk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&el(n.emulatorConfig.host)&&(p.credentials="include"),j0.fetch()(await $0(n,n.config.apiHost,t,h),p)})}async function z0(n,e,t){n._canInitEmulator=!1;const r={...aN,...e};try{const s=new cN(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ch(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Ch(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Ch(n,"user-disabled",l);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw U0(n,_,p);oi(n,_)}}catch(s){if(s instanceof ci)throw s;oi(n,"network-request-failed",{message:String(s)})}}async function B0(n,e,t,r,s={}){const a=await nl(n,e,t,r,s);return"mfaPendingCredential"in a&&oi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function $0(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?Mg(n.config,s):`${n.config.apiScheme}://${s}`;return lN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),uN.get())})}}function Ch(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=xr(n,e,r);return s.customData._tokenResponse=t,s}async function hN(n,e){return nl(n,"POST","/v1/accounts:delete",e)}async function hd(n,e){return nl(n,"POST","/v1/accounts:lookup",e)}function yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dN(n,e=!1){const t=Rn(n),r=await t.getIdToken(e),s=Lg(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:yu(lm(s.auth_time)),issuedAtTime:yu(lm(s.iat)),expirationTime:yu(lm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function lm(n){return Number(n)*1e3}function Lg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const s=I0(t);return s?JSON.parse(s):(zh("Failed to decode base64 JWT payload"),null)}catch(s){return zh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Kw(n){const e=Lg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Du(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ci&&fN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(n){const e=n.auth,t=await n.getIdToken(),r=await Du(n,hd(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?q0(s.providerUserInfo):[],l=gN(n.providerData,a),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!l?.length,p=h?f:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Lm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function mN(n){const e=Rn(n);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function q0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function yN(n,e){const t=await z0(n,{},async()=>{const r=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await $0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&el(n.emulatorConfig.host)&&(f.credentials="include"),j0.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _N(n,e){return nl(n,"POST","/v2/accounts:revokeToken",Yd(n,e))}class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Kw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await yN(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Ia;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function qi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Du(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Du(this,hN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:N,stsTokenManager:x}=t;Ce(v&&x,e,"internal-error");const b=Ia.fromJSON(this.name,x);Ce(typeof v=="string",e,"internal-error"),qi(r,e.name),qi(s,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof S=="boolean",e,"internal-error"),qi(a,e.name),qi(l,e.name),qi(h,e.name),qi(f,e.name),qi(p,e.name),qi(_,e.name);const H=new Zn({uid:v,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:_});return N&&Array.isArray(N)&&(H.providerData=N.map(G=>({...G}))),f&&(H._redirectEventId=f),H}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ia;s.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?q0(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,h=new Ia;h.updateFromIdToken(r);const f=new Zn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const Ww=new Map;function ei(n){ai(n instanceof Function,"Expected a class definition");let e=Ww.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ww.set(n,e),e)}class H0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H0.type="NONE";const Qw=H0;function Bh(n,e,t){return`firebase:${n}:${e}:${t}`}class Sa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Bh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Bh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hd(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sa(ei(Qw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ei(Qw);const l=Bh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(l);if(_){let v;if(typeof _=="string"){const E=await hd(e,{idToken:_}).catch(()=>{});if(!E)break;v=await Zn._fromGetAccountInfoResponse(e,E,_)}else v=Zn._fromJSON(e,_);p!==a&&(h=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Sa(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Sa(a,e,r))}}function Yw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J0(e))return"Blackberry";if(X0(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||W0(e))&&!e.includes("edge/"))return"Chrome";if(Y0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function G0(n=Ct()){return/firefox\//i.test(n)}function K0(n=Ct()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W0(n=Ct()){return/crios\//i.test(n)}function Q0(n=Ct()){return/iemobile/i.test(n)}function Y0(n=Ct()){return/android/i.test(n)}function J0(n=Ct()){return/blackberry/i.test(n)}function X0(n=Ct()){return/webos/i.test(n)}function Fg(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vN(n=Ct()){return Fg(n)&&!!window.navigator?.standalone}function wN(){return Mk()&&document.documentMode===10}function Z0(n=Ct()){return Fg(n)||Y0(n)||X0(n)||J0(n)||/windows phone/i.test(n)||Q0(n)}function eS(n,e=[]){let t;switch(n){case"Browser":t=Yw(Ct());break;case"Worker":t=`${Yw(Ct())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${r}`}class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function TN(n,e={}){return nl(n,"GET","/v2/passwordPolicy",Yd(n,e))}const IN=6;class SN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class AN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hd(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(is(this));const t=e?Rn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TN(this),t=new SN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _N(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jd(n){return Rn(n)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bk(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(n){Ug=n}function xN(n){return Ug.loadJS(n)}function RN(){return Ug.gapiScript}function CN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function bN(n,e){const t=Vg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(uo(a,e??{}))return s;oi(s,"already-initialized")}return t.initialize({options:e})}function kN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function DN(n,e,t){const r=Jd(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=tS(e),{host:l,port:h}=NN(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},_=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(uo(p,r.config.emulator)&&uo(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,el(l)?(x0(`${a}//${l}${f}`),kk("Auth",!0)):VN()}function tS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NN(n){const e=tS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Xw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Xw(l)}}}function Xw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class nS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function Aa(n,e){return B0(n,"POST","/v1/accounts:signInWithIdp",Yd(n,e))}const ON="http://localhost";class ho extends nS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new ho(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Aa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Aa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}buildRequest(){const e={requestUri:ON,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}class rS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zu extends rS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qi extends Zu{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";class Yi extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ho._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Yi.credential(t,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class Ji extends Zu{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";class Xi extends Zu{constructor(){super("twitter.com")}static credential(e,t){return ho._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";async function MN(n,e){return B0(n,"POST","/v1/accounts:signUp",Yd(n,e))}class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Zn._fromIdTokenResponse(e,r,s),l=Zw(r);return new hs({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Zw(r);return new hs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function LN(n){if(Xn(n.app))return Promise.reject(is(n));const e=Jd(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new hs({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await MN(e,{returnSecureToken:!0}),r=await hs._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class fd extends ci{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new fd(e,t,r,s)}}function iS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(n,a,e,r):a})}async function FN(n,e,t=!1){const r=await Du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hs._forOperation(n,"link",r)}async function UN(n,e,t=!1){const{auth:r}=n;if(Xn(r.app))return Promise.reject(is(r));const s="reauthenticate";try{const a=await Du(n,iS(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const l=Lg(a.idToken);Ce(l,r,"internal-error");const{sub:h}=l;return Ce(n.uid===h,r,"user-mismatch"),hs._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&oi(r,"user-mismatch"),a}}async function jN(n,e,t=!1){if(Xn(n.app))return Promise.reject(is(n));const r="signIn",s=await iS(n,r,e),a=await hs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function zN(n,e,t,r){return Rn(n).onIdTokenChanged(e,t,r)}function BN(n,e,t){return Rn(n).beforeAuthStateChanged(e,t)}function $N(n,e,t,r){return Rn(n).onAuthStateChanged(e,t,r)}const pd="__sak";class sS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qN=1e3,HN=10;class oS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);wN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oS.type="LOCAL";const GN=oS;class aS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aS.type="SESSION";const lS=aS;function KN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(t.origin,a)),f=await KN(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];function jg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class WN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=jg("",20);s.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Rr(){return window}function QN(n){Rr().location.href=n}function uS(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function YN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){return navigator?.serviceWorker?.controller||null}function XN(){return uS()?self:null}const cS="firebaseLocalStorageDb",ZN=1,md="firebaseLocalStorage",hS="fbase_key";class ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zd(n,e){return n.transaction([md],e?"readwrite":"readonly").objectStore(md)}function eV(){const n=indexedDB.deleteDatabase(cS);return new ec(n).toPromise()}function Fm(){const n=indexedDB.open(cS,ZN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(md,{keyPath:hS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await eV(),e(await Fm()))})})}async function eE(n,e,t){const r=Zd(n,!0).put({[hS]:e,value:t});return new ec(r).toPromise()}async function tV(n,e){const t=Zd(n,!1).get(e),r=await new ec(t).toPromise();return r===void 0?null:r.value}function tE(n,e){const t=Zd(n,!0).delete(e);return new ec(t).toPromise()}const nV=800,rV=3;class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new WN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await eE(e,pd,"1"),await tE(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Zd(s,!1).getAll();return new ec(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dS.type="LOCAL";const iV=dS;new Xu(3e4,6e4);function sV(n,e){return e?ei(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class zg extends nS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oV(n){return jN(n.auth,new zg(n),n.bypassAuthState)}function aV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),UN(t,new zg(n),n.bypassAuthState)}async function lV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),FN(t,new zg(n),n.bypassAuthState)}class fS{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return aV;default:oi(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uV=new Xu(2e3,1e4);class wa extends fS{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uV.get())};e()}}wa.currentPopupAction=null;const cV="pendingRedirect",$h=new Map;class hV extends fS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const r=await dV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dV(n,e){const t=mV(e),r=pV(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function fV(n,e){$h.set(n._key(),e)}function pV(n){return ei(n._redirectPersistence)}function mV(n){return Bh(cV,n.config.apiKey,n.name)}async function gV(n,e,t=!1){if(Xn(n.app))return Promise.reject(is(n));const r=Jd(n),s=sV(r,e),l=await new hV(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const yV=600*1e3;class _V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yV&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(n);default:return!1}}async function wV(n,e={}){return nl(n,"GET","/v1/projects",e)}const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;async function IV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wV(n);for(const t of e)try{if(SV(t))return}catch{}oi(n,"unauthorized-domain")}function SV(n){const e=Mm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!TV.test(t))return!1;if(EV.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const AV=new Xu(3e4,6e4);function rE(){const n=Rr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PV(n){return new Promise((e,t)=>{function r(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),t(xr(n,"network-request-failed"))},timeout:AV.get()})}if(Rr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rr().gapi?.load)r();else{const s=CN("iframefcb");return Rr()[s]=()=>{gapi.load?r():t(xr(n,"network-request-failed"))},xN(`${RN()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw qh=null,e})}let qh=null;function xV(n){return qh=qh||PV(n),qh}const RV=new Xu(5e3,15e3),CV="__/auth/iframe",bV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NV(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mg(e,bV):`https://${n.config.authDomain}/${CV}`,r={apiKey:e.apiKey,appName:n.name,v:tl},s=DV.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ju(r).slice(1)}`}async function VV(n){const e=await xV(n),t=Rr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:NV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=xr(n,"network-request-failed"),h=Rr().setTimeout(()=>{a(l)},RV.get());function f(){Rr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(l)})}))}const OV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MV=500,LV=600,FV="_blank",UV="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(n,e,t,r=MV,s=LV){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...OV,width:r.toString(),height:s.toString(),top:a,left:l},p=Ct().toLowerCase();t&&(h=W0(p)?FV:t),G0(p)&&(e=e||UV,f.scrollbars="yes");const _=Object.entries(f).reduce((E,[S,N])=>`${E}${S}=${N},`,"");if(vN(p)&&h!=="_self")return zV(e||"",h),new iE(null);const v=window.open(e||"",h,_);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new iE(v)}function zV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const BV="__/auth/handler",$V="emulator/auth/handler",qV=encodeURIComponent("fac");async function sE(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:tl,eventId:s};if(e instanceof rS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",zk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))l[_]=v}if(e instanceof Zu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(l.scopes=_.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),p=f?`#${qV}=${encodeURIComponent(f)}`:"";return`${HV(n)}?${Ju(h).slice(1)}${p}`}function HV({config:n}){return n.emulator?Mg(n,$V):`https://${n.authDomain}/${BV}`}const um="webStorageSupport";class GV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=gV,this._overrideRedirectResult=fV}async _openPopup(e,t,r,s){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await sE(e,t,r,Mm(),s);return jV(e,a,jg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await sE(e,t,r,Mm(),s);return QN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await VV(e),r=new _V(e);return t.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(um,{type:um},s=>{const a=s?.[0]?.[um];a!==void 0&&t(!!a),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Z0()||K0()||Fg()}}const KV=GV;var oE="@firebase/auth",aE="1.12.0";class WV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YV(n){Da(new co("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eS(n)},p=new AN(r,s,a,f);return kN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Da(new co("auth-internal",e=>{const t=Jd(e.getProvider("auth").getImmediate());return(r=>new WV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(oE,aE,QV(n)),rs(oE,aE,"esm2020")}const JV=300,XV=P0("authIdTokenMaxAge")||JV;let lE=null;const ZV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XV)return;const s=t?.token;lE!==s&&(lE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eO(n=$D()){const e=Vg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(n,{popupRedirectResolver:KV,persistence:[iV,GN,lS]}),r=P0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=ZV(a.toString());BN(t,l,()=>l(t.currentUser)),zN(t,h=>l(h))}}const s=xk("auth");return s&&DN(t,`http://${s}`),t}function tO(){return document.getElementsByTagName("head")?.[0]??document}PN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=xr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",tO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YV("Browser");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,mS;(function(){var n;function e(P,A){function D(){}D.prototype=A.prototype,P.F=A.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(O,V,M){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return A.prototype[V].apply(O,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,D){D||(D=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;V<16;++V)O[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=P.g[0],D=P.g[1],V=P.g[2];let M=P.g[3],R;R=A+(M^D&(V^M))+O[0]+3614090360&4294967295,A=D+(R<<7&4294967295|R>>>25),R=M+(V^A&(D^V))+O[1]+3905402710&4294967295,M=A+(R<<12&4294967295|R>>>20),R=V+(D^M&(A^D))+O[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=D+(A^V&(M^A))+O[3]+3250441966&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(M^D&(V^M))+O[4]+4118548399&4294967295,A=D+(R<<7&4294967295|R>>>25),R=M+(V^A&(D^V))+O[5]+1200080426&4294967295,M=A+(R<<12&4294967295|R>>>20),R=V+(D^M&(A^D))+O[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=D+(A^V&(M^A))+O[7]+4249261313&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(M^D&(V^M))+O[8]+1770035416&4294967295,A=D+(R<<7&4294967295|R>>>25),R=M+(V^A&(D^V))+O[9]+2336552879&4294967295,M=A+(R<<12&4294967295|R>>>20),R=V+(D^M&(A^D))+O[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=D+(A^V&(M^A))+O[11]+2304563134&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(M^D&(V^M))+O[12]+1804603682&4294967295,A=D+(R<<7&4294967295|R>>>25),R=M+(V^A&(D^V))+O[13]+4254626195&4294967295,M=A+(R<<12&4294967295|R>>>20),R=V+(D^M&(A^D))+O[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=D+(A^V&(M^A))+O[15]+1236535329&4294967295,D=V+(R<<22&4294967295|R>>>10),R=A+(V^M&(D^V))+O[1]+4129170786&4294967295,A=D+(R<<5&4294967295|R>>>27),R=M+(D^V&(A^D))+O[6]+3225465664&4294967295,M=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(M^A))+O[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=D+(M^A&(V^M))+O[0]+3921069994&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^M&(D^V))+O[5]+3593408605&4294967295,A=D+(R<<5&4294967295|R>>>27),R=M+(D^V&(A^D))+O[10]+38016083&4294967295,M=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(M^A))+O[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=D+(M^A&(V^M))+O[4]+3889429448&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^M&(D^V))+O[9]+568446438&4294967295,A=D+(R<<5&4294967295|R>>>27),R=M+(D^V&(A^D))+O[14]+3275163606&4294967295,M=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(M^A))+O[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=D+(M^A&(V^M))+O[8]+1163531501&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(V^M&(D^V))+O[13]+2850285829&4294967295,A=D+(R<<5&4294967295|R>>>27),R=M+(D^V&(A^D))+O[2]+4243563512&4294967295,M=A+(R<<9&4294967295|R>>>23),R=V+(A^D&(M^A))+O[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=D+(M^A&(V^M))+O[12]+2368359562&4294967295,D=V+(R<<20&4294967295|R>>>12),R=A+(D^V^M)+O[5]+4294588738&4294967295,A=D+(R<<4&4294967295|R>>>28),R=M+(A^D^V)+O[8]+2272392833&4294967295,M=A+(R<<11&4294967295|R>>>21),R=V+(M^A^D)+O[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=D+(V^M^A)+O[14]+4259657740&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^M)+O[1]+2763975236&4294967295,A=D+(R<<4&4294967295|R>>>28),R=M+(A^D^V)+O[4]+1272893353&4294967295,M=A+(R<<11&4294967295|R>>>21),R=V+(M^A^D)+O[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=D+(V^M^A)+O[10]+3200236656&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^M)+O[13]+681279174&4294967295,A=D+(R<<4&4294967295|R>>>28),R=M+(A^D^V)+O[0]+3936430074&4294967295,M=A+(R<<11&4294967295|R>>>21),R=V+(M^A^D)+O[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=D+(V^M^A)+O[6]+76029189&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(D^V^M)+O[9]+3654602809&4294967295,A=D+(R<<4&4294967295|R>>>28),R=M+(A^D^V)+O[12]+3873151461&4294967295,M=A+(R<<11&4294967295|R>>>21),R=V+(M^A^D)+O[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=D+(V^M^A)+O[2]+3299628645&4294967295,D=V+(R<<23&4294967295|R>>>9),R=A+(V^(D|~M))+O[0]+4096336452&4294967295,A=D+(R<<6&4294967295|R>>>26),R=M+(D^(A|~V))+O[7]+1126891415&4294967295,M=A+(R<<10&4294967295|R>>>22),R=V+(A^(M|~D))+O[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=D+(M^(V|~A))+O[5]+4237533241&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~M))+O[12]+1700485571&4294967295,A=D+(R<<6&4294967295|R>>>26),R=M+(D^(A|~V))+O[3]+2399980690&4294967295,M=A+(R<<10&4294967295|R>>>22),R=V+(A^(M|~D))+O[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=D+(M^(V|~A))+O[1]+2240044497&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~M))+O[8]+1873313359&4294967295,A=D+(R<<6&4294967295|R>>>26),R=M+(D^(A|~V))+O[15]+4264355552&4294967295,M=A+(R<<10&4294967295|R>>>22),R=V+(A^(M|~D))+O[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=D+(M^(V|~A))+O[13]+1309151649&4294967295,D=V+(R<<21&4294967295|R>>>11),R=A+(V^(D|~M))+O[4]+4149444226&4294967295,A=D+(R<<6&4294967295|R>>>26),R=M+(D^(A|~V))+O[11]+3174756917&4294967295,M=A+(R<<10&4294967295|R>>>22),R=V+(A^(M|~D))+O[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=D+(M^(V|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+M&4294967295}r.prototype.v=function(P,A){A===void 0&&(A=P.length);const D=A-this.blockSize,O=this.C;let V=this.h,M=0;for(;M<A;){if(V==0)for(;M<=D;)s(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<A;)if(O[V++]=P.charCodeAt(M++),V==this.blockSize){s(this,O),V=0;break}}else for(;M<A;)if(O[V++]=P[M++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)P[A++]=this.g[D]>>>O&255;return P};function a(P,A){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=A(P)}function l(P,A){this.h=A;const D=[];let O=!0;for(let V=P.length-1;V>=0;V--){const M=P[V]|0;O&&M==A||(D[V]=M,O=!1)}this.g=D}var h={};function f(P){return-128<=P&&P<128?a(P,function(A){return new l([A|0],A<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(P<0)return b(p(-P));const A=[];let D=1;for(let O=0;P>=D;O++)A[O]=P/D|0,D*=4294967296;return new l(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return b(_(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(A,8));let O=v;for(let M=0;M<P.length;M+=8){var V=Math.min(8,P.length-M);const R=parseInt(P.substring(M,M+V),A);V<8?(V=p(Math.pow(A,V)),O=O.j(V).add(p(R))):(O=O.j(D),O=O.add(p(R)))}return O}var v=f(0),E=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(x(this))return-b(this).m();let P=0,A=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);P+=(O>=0?O:4294967296+O)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(x(this))return"-"+b(this).toString(P);const A=p(Math.pow(P,6));var D=this;let O="";for(;;){const V=J(D,A).g;D=H(D,V.j(A));let M=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=V,N(D))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function x(P){return P.h==-1}n.l=function(P){return P=H(this,P),x(P)?-1:N(P)?0:1};function b(P){const A=P.g.length,D=[];for(let O=0;O<A;O++)D[O]=~P.g[O];return new l(D,~P.h).add(E)}n.abs=function(){return x(this)?b(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),D=[];let O=0;for(let V=0;V<=A;V++){let M=O+(this.i(V)&65535)+(P.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=R>>>16,M&=65535,R&=65535,D[V]=R<<16|M}return new l(D,D[D.length-1]&-2147483648?-1:0)};function H(P,A){return P.add(b(A))}n.j=function(P){if(N(this)||N(P))return v;if(x(this))return x(P)?b(this).j(b(P)):b(b(this).j(P));if(x(P))return b(this.j(b(P)));if(this.l(S)<0&&P.l(S)<0)return p(this.m()*P.m());const A=this.g.length+P.g.length,D=[];for(var O=0;O<2*A;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<P.g.length;V++){const M=this.i(O)>>>16,R=this.i(O)&65535,ae=P.i(V)>>>16,ke=P.i(V)&65535;D[2*O+2*V]+=R*ke,G(D,2*O+2*V),D[2*O+2*V+1]+=M*ke,G(D,2*O+2*V+1),D[2*O+2*V+1]+=R*ae,G(D,2*O+2*V+1),D[2*O+2*V+2]+=M*ae,G(D,2*O+2*V+2)}for(P=0;P<A;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=A;P<2*A;P++)D[P]=0;return new l(D,0)};function G(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function K(P,A){this.g=P,this.h=A}function J(P,A){if(N(A))throw Error("division by zero");if(N(P))return new K(v,v);if(x(P))return A=J(b(P),A),new K(b(A.g),b(A.h));if(x(A))return A=J(P,b(A)),new K(b(A.g),A.h);if(P.g.length>30){if(x(P)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var D=E,O=A;O.l(P)<=0;)D=ee(D),O=ee(O);var V=ie(D,1),M=ie(O,1);for(O=ie(O,2),D=ie(D,2);!N(O);){var R=M.add(O);R.l(P)<=0&&(V=V.add(D),M=R),O=ie(O,1),D=ie(D,1)}return A=H(P,V.j(A)),new K(V,A)}for(V=v;P.l(A)>=0;){for(D=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=p(D),R=M.j(A);x(R)||R.l(P)>0;)D-=O,M=p(D),R=M.j(A);N(M)&&(M=E),V=V.add(M),P=H(P,R)}return new K(V,P)}n.B=function(P){return J(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)&P.i(O);return new l(D,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)|P.i(O);return new l(D,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),D=[];for(let O=0;O<A;O++)D[O]=this.i(O)^P.i(O);return new l(D,this.h^P.h)};function ee(P){const A=P.g.length+1,D=[];for(let O=0;O<A;O++)D[O]=P.i(O)<<1|P.i(O-1)>>>31;return new l(D,P.h)}function ie(P,A){const D=A>>5;A%=32;const O=P.g.length-D,V=[];for(let M=0;M<O;M++)V[M]=A>0?P.i(M+D)>>>A|P.i(M+D+1)<<32-A:P.i(M+D);return new l(V,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=_,ss=l}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gS,hu,yS,Hh,Um,_S,vS,wS;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in w))break e;w=w[B]}c=c[c.length-1],I=w[c],y=y(I),y!=I&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(y){var w=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&w.push([I,y[I]]);return w}});var a=a||{},l=this||self;function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function f(c,y,w){return c.call.apply(c.bind,arguments)}function p(c,y,w){return p=f,p.apply(null,arguments)}function _(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function v(c,y){function w(){}w.prototype=y.prototype,c.Z=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,B,Q){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return y.prototype[B].apply(I,ce)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function S(c){const y=c.length;if(y>0){const w=Array(y);for(let I=0;I<y;I++)w[I]=c[I];return w}return[]}function N(c,y){for(let I=1;I<arguments.length;I++){const B=arguments[I];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=c.length||0;const Q=B.length||0;c.length=w+Q;for(let ce=0;ce<Q;ce++)c[w+ce]=B[ce]}else c.push(B)}}class x{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(c){l.setTimeout(()=>{throw c},0)}function H(){var c=P;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,w){const I=K.get();I.set(y,w),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new x(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ie=!1,P=new G,A=()=>{const c=Promise.resolve(void 0);ee=()=>{c.then(D)}};function D(){for(var c;c=H();){try{c.h.call(c.g)}catch(w){b(w)}var y=K;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ie=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};l.addEventListener("test",w,y),l.removeEventListener("test",w,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ae(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}v(ae,V),ae.prototype.init=function(c,y){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function Te(c,y,w,I,B){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!I,this.ha=B,this.key=++Ae,this.da=this.fa=!1}function X(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function he(c,y,w){for(const I in c)y.call(w,c[I],I,c)}function ue(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function U(c){const y={};for(const w in c)y[w]=c[w];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(c,y){let w,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(w in I)c[w]=I[w];for(let Q=0;Q<Z.length;Q++)w=Z[Q],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function xe(c){this.src=c,this.g={},this.h=0}xe.prototype.add=function(c,y,w,I,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ce=Me(c,y,I,B);return ce>-1?(y=c[ce],w||(y.fa=!1)):(y=new Te(y,this.src,Q,!!I,B),y.fa=w,c.push(y)),y};function Oe(c,y){const w=y.type;if(w in c.g){var I=c.g[w],B=Array.prototype.indexOf.call(I,y,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(I,B,1),Q&&(X(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Me(c,y,w,I){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!w&&Q.ha==I)return B}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ue={};function We(c,y,w,I,B){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)We(c,y[Q],w,I,B);return null}return w=ul(w),c&&c[ke]?c.J(y,w,h(I)?!!I.capture:!1,B):Mt(c,y,w,!1,I,B)}function Mt(c,y,w,I,B,Q){if(!y)throw Error("Invalid event type");const ce=h(B)?!!B.capture:!!B;let De=Io(c);if(De||(c[Fe]=De=new xe(c)),w=De.add(y,w,I,ce,Q),w.proxy)return w;if(I=di(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)M||(B=ce),B===void 0&&(B=!1),c.addEventListener(y.toString(),I,B);else if(c.attachEvent)c.attachEvent(To(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function di(){function c(w){return y.call(c.src,c.listener,w)}const y=uc;return c}function Es(c,y,w,I,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Es(c,y[Q],w,I,B);else I=h(I)?!!I.capture:!!I,w=ul(w),c&&c[ke]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],w=Me(y,w,I,B),w>-1&&(X(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Io(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Me(y,w,I,B)),(w=c>-1?y[c]:null)&&dn(w))}function dn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ke])Oe(y.i,c);else{var w=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(w,I,c.capture):y.detachEvent?y.detachEvent(To(w),I):y.addListener&&y.removeListener&&y.removeListener(I),(w=Io(y))?(Oe(w,c),w.h==0&&(w.src=null,y[Fe]=null)):X(c)}}}function To(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function uc(c,y){if(c.da)c=!0;else{y=new ae(y,this);const w=c.listener,I=c.ha||c.src;c.fa&&dn(c),c=w.call(I,y)}return c}function Io(c){return c=c[Fe],c instanceof xe?c:null}var Ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(c){return typeof c=="function"?c:(c[Ts]||(c[Ts]=function(y){return c.handleEvent(y)}),c[Ts])}function Et(){O.call(this),this.i=new xe(this),this.M=this,this.G=null}v(Et,O),Et.prototype[ke]=!0,Et.prototype.removeEventListener=function(c,y,w,I){Es(this,c,y,w,I)};function gt(c,y){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var B=y;y=new V(I,c),Pe(y,B)}B=!0;let Q,ce;if(w)for(ce=w.length-1;ce>=0;ce--)Q=y.g=w[ce],B=jn(Q,I,!0,y)&&B;if(Q=y.g=c,B=jn(Q,I,!0,y)&&B,B=jn(Q,I,!1,y)&&B,w)for(ce=0;ce<w.length;ce++)Q=y.g=w[ce],B=jn(Q,I,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const w=c.g[y];for(let I=0;I<w.length;I++)X(w[I]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,w,I){return this.i.add(String(c),y,!1,w,I)},Et.prototype.K=function(c,y,w,I){return this.i.add(String(c),y,!0,w,I)};function jn(c,y,w,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Q=0;Q<y.length;++Q){const ce=y[Q];if(ce&&!ce.da&&ce.capture==w){const De=ce.listener,yt=ce.ha||ce.src;ce.fa&&Oe(c.i,ce),B=De.call(yt,I)!==!1&&B}}return B&&!I.defaultPrevented}function cl(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:l.setTimeout(c,y||0)}function hl(c){c.g=cl(()=>{c.g=null,c.i&&(c.i=!1,hl(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cc extends O{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(c){O.call(this),this.h=c,this.g={}}v(fi,O);var dl=[];function So(c){he(c.g,function(y,w){this.g.hasOwnProperty(w)&&dn(y)},c),c.g={}}fi.prototype.N=function(){fi.Z.N.call(this),So(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=l.JSON.stringify,hc=l.JSON.parse,Is=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function mi(){}function dc(){}var gi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ao(){V.call(this,"d")}v(Ao,V);function fl(){V.call(this,"c")}v(fl,V);var zn={},Po=null;function yi(){return Po=Po||new Et}zn.Ia="serverreachability";function xo(c){V.call(this,zn.Ia,c)}v(xo,V);function Vr(c){const y=yi();gt(y,new xo(y))}zn.STAT_EVENT="statevent";function Or(c,y){V.call(this,zn.STAT_EVENT,c),this.stat=y}v(Or,V);function ft(c){const y=yi();gt(y,new Or(y,c))}zn.Ja="timingevent";function pl(c,y){V.call(this,zn.Ja,c),this.size=y}v(pl,V);function _i(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},y)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function fc(c,y,w,I,B,Q){c.info(function(){if(c.g)if(Q){var ce="",De=Q.split("&");for(let Qe=0;Qe<De.length;Qe++){var yt=De[Qe].split("=");if(yt.length>1){const Tt=yt[0];yt=yt[1];const _n=Tt.split("_");ce=_n.length>=2&&_n[1]=="type"?ce+(Tt+"="+yt+"&"):ce+(Tt+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+y+`
`+w+`
`+ce})}function pc(c,y,w,I,B,Q,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+y+`
`+w+`
`+Q+" "+ce})}function ir(c,y,w,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ss(c,w)+(I?" "+I:"")})}function mc(c,y){c.info(function(){return"TIMEOUT: "+y})}vi.prototype.info=function(){};function Ss(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var w=Q[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var B=I[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ce=1;ce<I.length;ce++)I[ce]=""}}}}return pi(Q)}catch{return y}}var wi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ei={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gc;function Mr(){}v(Mr,mi),Mr.prototype.g=function(){return new XMLHttpRequest},gc=new Mr;function sr(c){return encodeURIComponent(String(c))}function Ro(c){var y=1;c=c.split(":");const w=[];for(;y>0&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function bn(c,y,w,I){this.j=c,this.i=y,this.l=w,this.S=I||1,this.V=new fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yc}function yc(){this.i=null,this.g="",this.h=!1}var _c={},ml={};function Bn(c,y,w){c.M=1,c.A=Fr(kn(y)),c.u=w,c.R=!0,gl(c,null)}function gl(c,y){c.F=Date.now(),As(c),c.B=kn(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),Pl(w.i,"t",I),c.C=0,w=c.j.L,c.h=new yc,c.g=Rc(c.j,w?y:null,!c.u),c.P>0&&(c.O=new cc(p(c.Y,c,c.g),c.P)),y=c.V,w=c.g,I=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(dl[0]=B.toString()),B=dl);for(let Q=0;Q<B.length;Q++){const ce=We(w,B[Q],I||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Vr(),fc(c.i,c.v,c.B,c.l,c.S,c.u)}bn.prototype.ba=function(c){c=c.target;const y=this.O;y&&dr(c)==3?y.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)e:{const De=dr(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Pc(this.g)))){this.K||De!=4||yt==7||(yt==8||Qe<=0?Vr(3):Vr(2)),Co(this);var y=this.g.ca();this.X=y;var w=vc(this);if(this.o=y==200,pc(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,B=this.g;if((I=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var Q=I;break t}}Q=null}if(c=Q)ir(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,it(this,c);else{this.o=!1,this.m=3,ft(12),Lr(this),Ps(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<w.length;)if(Tt=Ec(this,w),Tt==ml){De==4&&(this.m=4,ft(14),c=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==_c){this.m=4,ft(15),ir(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else ir(this.i,this.l,Tt,null),it(this,Tt);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||w.length!=0||this.h.h||(this.m=1,ft(16),c=!1),this.o=this.o&&c,!c)ir(this.i,this.l,w,"[Invalid Chunked Response]"),Lr(this),Ps(this);else if(w.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Os(ce),ce.P=!0,ft(11))}}else ir(this.i,this.l,w,null),it(this,w);De==4&&Lr(this),this.o&&!this.K&&(De==4?Uo(this.j,this):(this.o=!1,As(this)))}else Rl(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Lr(this),Ps(this)}}}catch{}};function vc(c){if(!wc(c))return c.g.la();const y=Pc(c.g);if(y==="")return"";let w="";const I=y.length,B=dr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Lr(c),Ps(c),"";c.h.i=new l.TextDecoder}for(let Q=0;Q<I;Q++)c.h.h=!0,w+=c.h.i.decode(y[Q],{stream:!(B&&Q==I-1)});return y.length=0,c.h.g+=w,c.C=0,c.h.g}function wc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ec(c,y){var w=c.C,I=y.indexOf(`
`,w);return I==-1?ml:(w=Number(y.substring(w,I)),isNaN(w)?_c:(I+=1,I+w>y.length?ml:(y=y.slice(I,I+w),c.C=I+w,y)))}bn.prototype.cancel=function(){this.K=!0,Lr(this)};function As(c){c.T=Date.now()+c.H,yl(c,c.H)}function yl(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(p(c.aa,c),y)}function Co(c){c.D&&(l.clearTimeout(c.D),c.D=null)}bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mc(this.i,this.B),this.M!=2&&(Vr(),ft(17)),Lr(this),this.m=2,Ps(this)):yl(this,this.T-c)};function Ps(c){c.j.I==0||c.K||Uo(c.j,c)}function Lr(c){Co(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,So(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function it(c,y){try{var w=c.j;if(w.I!=0&&(w.g==c||vl(w.h,c))){if(!c.L&&vl(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Fo(w),gn(w);else break e;mr(w),ft(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=_i(p(w.Va,w),6e3));xs(w.h)<=1&&w.ta&&(w.ta=void 0)}else yn(w,11)}else if((c.L||w.g==c)&&Fo(w),!R(y))for(B=w.Ba.g.parse(y),y=0;y<B.length;y++){let Qe=B[y];const Tt=Qe[0];if(!(Tt<=w.K))if(w.K=Tt,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const _n=Qe[3];_n!=null&&(w.ka=_n,w.j.info("VER="+w.ka));const $r=Qe[4];$r!=null&&(w.za=$r,w.j.info("SVER="+w.za));const gr=Qe[5];gr!=null&&typeof gr=="number"&&gr>0&&(I=1.5*gr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const yr=c.g;if(yr){const Bo=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var Q=I.h;Q.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ko(Q,Q.h),Q.h=null))}if(I.G){const kl=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(I.wa=kl,Ge(I.J,I.G,kl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var ce=c;if(I.na=bl(I,I.L?I.ba:null,I.W),ce.L){Rs(I.h,ce);var De=ce,yt=I.O;yt&&(De.H=yt),De.D&&(Co(De),As(De)),I.g=ce}else Bt(I);w.i.length>0&&Br(w)}else Qe[0]!="stop"&&Qe[0]!="close"||yn(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?yn(w,7):Mo(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Vr(4)}catch{}}var wf=class{constructor(c,y){this.g=c,this.map=y}};function bo(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xs(c){return c.h?1:c.g?c.g.size:0}function vl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ko(c,y){c.g?c.g.add(y):c.h=y}function Rs(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bo.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.G);return y}return S(c.i)}var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,y){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let B,Q=null;I>=0?(B=c[w].substring(0,I),Q=c[w].substring(I+1)):B=c[w],y(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function or(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof or?(this.l=c.l,Cs(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.u),this.h=c.h,Ti(this,xl(c.i)),this.m=c.m):c&&(y=String(c).match(Tc))?(this.l=!1,Cs(this,y[1]||"",!0),this.o=bs(y[2]||""),this.g=bs(y[3]||"",!0),ar(this,y[4]),this.h=bs(y[5]||"",!0),Ti(this,y[6]||"",!0),this.m=bs(y[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}or.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ks(y,El,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ks(y,El,!0),"@"),c.push(sr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ks(w,w.charAt(0)=="/"?Ds:Tl,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ks(w,Il)),c.join("")},or.prototype.resolve=function(c){const y=kn(this);let w=!!c.j;w?Cs(y,c.j):w=!!c.o,w?y.o=c.o:w=!!c.g,w?y.g=c.g:w=c.u!=null;var I=c.h;if(w)ar(y,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var B=y.h.lastIndexOf("/");B!=-1&&(I=y.h.slice(0,B+1)+I)}if(B=I,B==".."||B==".")I="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){I=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let ce=0;ce<B.length;){const De=B[ce++];De=="."?I&&ce==B.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),I&&ce==B.length&&Q.push("")):(Q.push(De),I=!0)}I=Q.join("/")}else I=B}return w?y.h=I:w=c.i.toString()!=="",w?Ti(y,xl(c.i)):w=!!c.m,w&&(y.m=c.m),y};function kn(c){return new or(c)}function Cs(c,y,w){c.j=w?bs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ti(c,y,w){y instanceof Be?(c.i=y,No(c.i,c.l)):(w||(y=ks(y,Ef)),c.i=new Be(y,c.l))}function Ge(c,y,w){c.i.set(y,w)}function Fr(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,wl),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var El=/[#\/\?@]/g,Tl=/[#\?:]/g,Ds=/[#\?]/g,Ef=/[#\?@]/g,Il=/#/g;function Be(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Be.prototype,n.add=function(c,y){lr(this),this.i=null,c=ur(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Sl(c,y){lr(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Do(c,y){return lr(c),y=ur(c,y),c.g.has(y)}n.forEach=function(c,y){lr(this),this.g.forEach(function(w,I){w.forEach(function(B){c.call(y,B,I,this)},this)},this)};function Al(c,y){lr(c);let w=[];if(typeof y=="string")Do(c,y)&&(w=w.concat(c.g.get(ur(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)w=w.concat(c[y]);return w}n.set=function(c,y){return lr(this),this.i=null,c=ur(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=Al(this,c),c.length>0?String(c[0]):y):y};function Pl(c,y,w){Sl(c,y),w.length>0&&(c.i=null,c.g.set(ur(c,y),S(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var w=y[I];const B=sr(w);w=Al(this,w);for(let Q=0;Q<w.length;Q++){let ce=B;w[Q]!==""&&(ce+="="+sr(w[Q])),c.push(ce)}}return this.i=c.join("&")};function xl(c){const y=new Be;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function No(c,y){y&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(w,I){const B=I.toLowerCase();I!=B&&(Sl(this,I),Pl(this,B,w))},c)),c.j=y}function cr(c,y){const w=new vi;if(l.Image){const I=new Image;I.onload=_(Lt,w,"TestLoadImage: loaded",!0,y,I),I.onerror=_(Lt,w,"TestLoadImage: error",!1,y,I),I.onabort=_(Lt,w,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(Lt,w,"TestLoadImage: timeout",!1,y,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function hr(c,y){const w=new vi,I=new AbortController,B=setTimeout(()=>{I.abort(),Lt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(Q=>{clearTimeout(B),Q.ok?Lt(w,"TestPingServer: ok",!0,y):Lt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Lt(w,"TestPingServer: error",!1,y)})}function Lt(c,y,w,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(w)}catch{}}function Ns(){this.g=new Is}function Ur(c){this.i=c.Sb||null,this.h=c.ab||!1}v(Ur,mi),Ur.prototype.g=function(){return new mn(this.i,this.h)};function mn(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(mn,Et),n=mn.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||l).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ic(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ic(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ii(this):$n(this),this.readyState==3&&Ic(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},n.Na=function(c){this.g&&(this.response=c,Ii(this))},n.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sc(c){let y="";return he(c,function(w,I){y+=I,y+=":",y+=w,y+=`\r
`}),y}function Vo(c,y,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=Sc(w),typeof c=="string"?w!=null&&sr(w):Ge(c,y,w))}function et(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,Et);var Ac=/^https?$/i,Tf=["POST","PUT"];n=et.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gc.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Si(this,Q);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)w.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())w.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(Tf,y,void 0)>=0)||I||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of w)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Si(this,Q)}};function Si(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ai(c),zr(c)}function Ai(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,gt(this,"complete"),gt(this,"abort"),zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),et.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},n.Xa=function(){jr(this)};function jr(c){if(c.h&&typeof a<"u"){if(c.v&&dr(c)==4)setTimeout(c.Ca.bind(c),0);else if(gt(c,"readystatechange"),dr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=Q===0){let ce=String(c.D).match(Tc)[1]||null;!ce&&l.self&&l.self.location&&(ce=l.self.location.protocol.slice(0,-1)),I=!Ac.test(ce?ce.toLowerCase():"")}w=I}if(w)gt(c,"complete"),gt(c,"success");else{c.o=6;try{var B=dr(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Ai(c)}}finally{zr(c)}}}}function zr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,y||gt(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function dr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hc(y)}};function Pc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rl(c){const y={};c=(c.g&&dr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(R(c[I]))continue;var w=Ro(c[I]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=y[B]||[];y[B]=Q,Q.push(w)}ue(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Oo(c){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fr("baseRetryDelayMs",5e3,c),this.Za=fr("retryDelaySeedMs",1e4,c),this.Ta=fr("forwardChannelMaxRetries",2,c),this.va=fr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new Ns,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Oo.prototype,n.ka=8,n.I=1,n.connect=function(c,y,w,I){ft(0),this.W=c,this.H=y||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=bl(this,null,this.W),Br(this)};function Mo(c){if(Lo(c),c.I==3){var y=c.V++,w=kn(c.J);if(Ge(w,"SID",c.M),Ge(w,"RID",y),Ge(w,"TYPE","terminate"),pr(c,w),y=new bn(c,c.j,y),y.M=2,y.A=Fr(kn(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&l.Image&&(new Image().src=y.A,w=!0),w||(y.g=Rc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),As(y)}Ms(c)}function gn(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Lo(c){gn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Fo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function Br(c){if(!_l(c.h)&&!c.m){c.m=!0;var y=c.Ea;ee||A(),ie||(ee(),ie=!0),P.add(y,c),c.D=0}}function xc(c,y){return xs(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(p(c.Ea,c,y),jo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new bn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=U(Q),Pe(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Cl(this,B,y),w=kn(this.J),Ge(w,"RID",c),Ge(w,"CVER",22),this.G&&Ge(w,"X-HTTP-Session-Id",this.G),pr(this,w),Q&&(this.R?y="headers="+sr(Sc(Q))+"&"+y:this.u&&Vo(w,this.u,Q)),ko(this.h,B),this.Ra&&Ge(w,"TYPE","init"),this.S?(Ge(w,"$req",y),Ge(w,"SID","null"),B.U=!0,Bn(B,w,null)):Bn(B,w,y),this.I=2}}else this.I==3&&(c?Vs(this,c):this.i.length==0||_l(this.h)||Vs(this))};function Vs(c,y){var w;y?w=y.l:w=c.V++;const I=kn(c.J);Ge(I,"SID",c.M),Ge(I,"RID",w),Ge(I,"AID",c.K),pr(c,I),c.u&&c.o&&Vo(I,c.u,c.o),w=new bn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Cl(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,w),Bn(w,I,y)}function pr(c,y){c.H&&he(c.H,function(w,I){Ge(y,I,w)}),c.l&&he({},function(w,I){Ge(y,I,w)})}function Cl(c,y,w){w=Math.min(c.i.length,w);const I=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let De=-1;for(;;){const yt=["count="+w];De==-1?w>0?(De=B[0].g,yt.push("ofs="+De)):De=0:yt.push("ofs="+De);let Qe=!0;for(let Tt=0;Tt<w;Tt++){var Q=B[Tt].g;const _n=B[Tt].map;if(Q-=De,Q<0)De=Math.max(0,B[Tt].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ce=_n instanceof Map?_n:Object.entries(_n);for(const[$r,gr]of ce){let yr=gr;h(gr)&&(yr=pi(gr)),yt.push(Q+$r+"="+encodeURIComponent(yr))}}catch($r){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),$r}}catch{I&&I(_n)}}if(Qe){ce=yt.join("&");break e}}ce=void 0}return c=c.i.splice(0,w),y.G=c,ce}function Bt(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ee||A(),ie||(ee(),ie=!0),P.add(y,c),c.A=0}}function mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(p(c.Da,c),jo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),gn(this),Pi(this))};function Os(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function Pi(c){c.g=new bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=kn(c.na);Ge(y,"RID","rpc"),Ge(y,"SID",c.M),Ge(y,"AID",c.K),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(y,"TO",c.ia),Ge(y,"TYPE","xmlhttp"),pr(c,y),c.u&&c.o&&Vo(y,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Fr(kn(y)),w.u=null,w.R=!0,gl(w,c)}n.Va=function(){this.C!=null&&(this.C=null,gn(this),mr(this),ft(19))};function Fo(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Uo(c,y){var w=null;if(c.g==y){Fo(c),Os(c),c.g=null;var I=2}else if(vl(c.h,y))w=y.G,Rs(c.h,y),I=1;else return;if(c.I!=0){if(y.o)if(I==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;I=yi(),gt(I,new pl(I,w)),Br(c)}else Bt(c);else if(B=y.m,B==3||B==0&&y.X>0||!(I==1&&xc(c,y)||I==2&&mr(c)))switch(w&&w.length>0&&(y=c.h,y.i=y.i.concat(w)),B){case 1:yn(c,5);break;case 4:yn(c,10);break;case 3:yn(c,6);break;default:yn(c,2)}}}function jo(c,y){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*y}function yn(c,y){if(c.j.info("Error code "+y),y==2){var w=p(c.bb,c),I=c.Ua;const B=!I;I=new or(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Cs(I,"https"),Fr(I),B?cr(I.toString(),w):hr(I.toString(),w)}else ft(2);c.I=0,c.l&&c.l.pa(y),Ms(c),Lo(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ms(c){if(c.I=0,c.ja=[],c.l){const y=fn(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ja,y),N(c.ja,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.oa()}}function bl(c,y,w){var I=w instanceof or?kn(w):new or(w);if(I.g!="")y&&(I.g=y+"."+I.g),ar(I,I.u);else{var B=l.location;I=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Q=new or(null);I&&Cs(Q,I),y&&(Q.g=y),B&&ar(Q,B),w&&(Q.h=w),I=Q}return w=c.G,y=c.wa,w&&y&&Ge(I,w,y),Ge(I,"VER",c.ka),pr(c,I),I}function Rc(c,y,w){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Ur({ab:w})):new et(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}n=Cc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function zo(){}zo.prototype.g=function(c,y){return new Ft(c,y)};function Ft(c,y){Et.call(this),this.g=new Oo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new xi(this)}v(Ft,Et),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Mo(this.g)},Ft.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=pi(c),c=w);y.i.push(new wf(y.Ya++,c)),y.I==3&&Br(y)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Ft.Z.N.call(this)};function bc(c){Ao.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}v(bc,Ao);function kc(){fl.call(this),this.status=1}v(kc,fl);function xi(c){this.g=c}v(xi,Cc),xi.prototype.ra=function(){gt(this.g,"a")},xi.prototype.qa=function(c){gt(this.g,new bc(c))},xi.prototype.pa=function(c){gt(this.g,new kc)},xi.prototype.oa=function(){gt(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,wS=function(){return new zo},vS=function(){return yi()},_S=zn,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,Hh=wi,Ei.COMPLETE="complete",yS=Ei,dc.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Et.prototype.listen=Et.prototype.J,hu=dc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,gS=et}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let rl="12.8.0";function nO(n){rl=n}const fo=new Dg("@firebase/firestore");function ma(){return fo.logLevel}function ne(n,...e){if(fo.logLevel<=je.DEBUG){const t=e.map(Bg);fo.debug(`Firestore (${rl}): ${n}`,...t)}}function vt(n,...e){if(fo.logLevel<=je.ERROR){const t=e.map(Bg);fo.error(`Firestore (${rl}): ${n}`,...t)}}function Nu(n,...e){if(fo.logLevel<=je.WARN){const t=e.map(Bg);fo.warn(`Firestore (${rl}): ${n}`,...t)}}function Bg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ES(n,r,t)}function ES(n,e,t){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vt(r),new Error(r)}function we(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||ES(e,s,r)}function _e(n,e){return n}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class rO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class sO{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ni,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ni)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new rO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class oO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);const r=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function be(n,e){return n<e?-1:n>e?1:0}function jm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return cm(s)===cm(a)?be(s,a):cm(s)?1:-1}return be(n.length,e.length)}const cO=55296,hO=57343;function cm(n){const e=n.charCodeAt(0);return e>=cO&&e<=hO}function Na(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function TS(n){return n+"\0"}const hE="__name__";class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Tr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),s=Tr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):jm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class Ke extends Tr{construct(e,t,r){return new Ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const dO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Tr{construct(e,t,r){return new dt(e,t,r)}static isValidIdentifier(e){return dO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new dt([hE])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(t)}static emptyPath(){return new dt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(Ke.fromString(e))}static fromName(e){return new de(Ke.fromString(e).popFirst(5))}static empty(){return new de(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ke(e.slice()))}}function IS(n,e,t){if(!t)throw new le(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fO(n,e,t,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dE(n){if(!de.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fE(n){if(de.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ef(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":me(12329,{type:typeof n})}function zm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ef(n);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function At(n,e){const t={typeString:n};return e&&(t.value=e),t}function tc(n,e){if(!SS(n))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new le(Y.INVALID_ARGUMENT,t);return!0}const pE=-62135596800,mE=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mE);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pE)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:At("string",Ye._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ye(0,0))}static max(){return new Ee(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Va=-1;class gd{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Bm(n){return n.fields.find((e=>e.kind===2))}function Js(n){return n.fields.filter((e=>e.kind!==2))}gd.UNKNOWN_ID=-1;class Gh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vu(0,Cn.min())}}function AS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Cn(s,de.empty(),e)}function PS(n){return new Cn(n.readTime,n.key,Va)}class Cn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cn(Ee.min(),de.empty(),Va)}static max(){return new Cn(Ee.max(),de.empty(),Va)}}function qg(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}const xS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gs(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==xS)throw n;ne("LocalStore","Unexpectedly lost primary lease")}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):j.reject(t)}static resolve(e){return new j(((t,r)=>{t(e)}))}static reject(e){return new j(((t,r)=>{r(e)}))}static waitFor(e){return new j(((t,r)=>{let s=0,a=0,l=!1;e.forEach((h=>{++s,h.next((()=>{++a,l&&a===s&&t()}),(f=>r(f)))})),l=!0,a===s&&t()}))}static or(e){let t=j.resolve(!1);for(const r of e)t=t.next((s=>s?j.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new j(((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((_=>{l[p]=_,++h,h===a&&r(l)}),(_=>s(_)))}}))}static doWhile(e,t){return new j(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}const Tn="SimpleDb";class tf{static open(e,t,r,s){try{return new tf(t,e.transaction(s,r))}catch(a){throw new _u(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ni,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new _u(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Hg(r.target.error);this.S.reject(new _u(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ne(Tn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mO(t)}}class os{static delete(e){return ne(Tn,"Removing database:",e),Zs(S0().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!k0())return!1;if(os.F())return!0;const e=Ct(),t=os.M(e),r=0<t&&t<10,s=CS(e),a=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,os.M(Ct())===12.2&&vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ne(Tn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=a=>{const l=a.target.result;t(l)},s.onblocked=()=>{r(new _u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new le(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new le(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new _u(e,l))},s.onupgradeneeded=a=>{ne(Tn,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,s.transaction,a.oldVersion,this.version).next((()=>{ne(Tn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const a=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const h=tf.open(this.db,e,a?"readonly":"readwrite",r),f=s(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),j.reject(p)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&l<3;if(ne(Tn,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function CS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class pO{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Zs(this.U.delete())}}class _u extends le{constructor(e,t){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ys(n){return n.name==="IndexedDbTransactionError"}class mO{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ne(Tn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ne(Tn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zs(r)}add(e){return ne(Tn,"ADD",this.store.name,e,e),Zs(this.store.add(e))}get(e){return Zs(this.store.get(e)).next((t=>(t===void 0&&(t=null),ne(Tn,"GET",this.store.name,e,t),t)))}delete(e){return ne(Tn,"DELETE",this.store.name,e),Zs(this.store.delete(e))}count(){return ne(Tn,"COUNT",this.store.name),Zs(this.store.count())}H(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const a=s.getAll(r.range);return new j(((l,h)=>{a.onerror=f=>{h(f.target.error)},a.onsuccess=f=>{l(f.target.result)}}))}{const a=this.cursor(r),l=[];return this.J(a,((h,f)=>{l.push(f)})).next((()=>l))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new j(((s,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}X(e,t){ne(Tn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.J(s,((a,l,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.J(s,t)}te(e){const t=this.cursor({});return new j(((r,s)=>{t.onerror=a=>{const l=Hg(a.target.error);s(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((h=>{h?l.continue():r()})):r()}}))}J(e,t){const r=[];return new j(((s,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void s();const f=new pO(h),p=t(h.primaryKey,h.value,f);if(p instanceof j){const _=p.catch((v=>(f.done(),j.reject(v))));r.push(_)}f.isDone?s():f.G===null?h.continue():h.continue(f.G)}})).next((()=>j.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zs(n){return new j(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=Hg(r.target.error);t(s)}}))}let gE=!1;function Hg(n){const e=os.M(Ct());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gE||(gE=!0,setTimeout((()=>{throw r}),0)),r}}return n}const vu="IndexBackfiller";class gO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ne(vu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ne(vu,`Documents written: ${t}`)}catch(t){ys(t)?ne(vu,"Ignoring IndexedDB error during index backfill: ",t):await gs(t)}await this.re(6e4)}))}}class yO{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,a=!0;return j.doWhile((()=>a===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return ne(vu,`Processing collection: ${l}`),this.oe(e,l,s).next((h=>{s-=h,r.add(l)}));a=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,a))).next((h=>(ne(vu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,a)=>{const l=PS(a);qg(l,r)>0&&(r=l)})),new Cn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class un{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}un.ce=-1;const io=-1;function nf(n){return n==null}function Ou(n){return n===0&&1/n==-1/0}function bS(n){return typeof n=="number"&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yd="";function Yt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yE(e)),e=_O(n.get(t),e);return yE(e)}function _O(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case yd:t+="";break;default:t+=a}}return t}function yE(n){return n+yd+""}function Sr(n){const e=n.length;if(we(e>=2,64408,{path:n}),e===2)return we(n.charAt(0)===yd&&n.charAt(1)==="",56145,{path:n}),Ke.emptyPath();const t=e-2,r=[];let s="";for(let a=0;a<e;){const l=n.indexOf(yd,a);switch((l<0||l>t)&&me(50515,{path:n}),n.charAt(l+1)){case"":const h=n.substring(a,l);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(a,l),s+="\0";break;case"":s+=n.substring(a,l+1);break;default:me(61167,{path:n})}a=l+2}return new Ke(r)}const Xs="remoteDocuments",nc="owner",ua="owner",Mu="mutationQueues",vO="userId",Jn="mutations",_E="batchId",ro="userMutationsIndex",vE=["userId","batchId"];function Kh(n,e){return[n,Yt(e)]}function kS(n,e,t){return[n,Yt(e),t]}const wO={},Oa="documentMutations",_d="remoteDocumentsV14",EO=["prefixPath","collectionGroup","readTime","documentId"],Wh="documentKeyIndex",TO=["prefixPath","collectionGroup","documentId"],DS="collectionGroupIndex",IO=["collectionGroup","readTime","prefixPath","documentId"],Lu="remoteDocumentGlobal",$m="remoteDocumentGlobalKey",Ma="targets",NS="queryTargetsIndex",SO=["canonicalId","targetId"],La="targetDocuments",AO=["targetId","path"],Gg="documentTargetsIndex",PO=["path","targetId"],vd="targetGlobalKey",so="targetGlobal",Fu="collectionParents",xO=["collectionId","parent"],Fa="clientMetadata",RO="clientId",rf="bundles",CO="bundleId",sf="namedQueries",bO="name",Kg="indexConfiguration",kO="indexId",qm="collectionGroupIndex",DO="collectionGroup",wu="indexState",NO=["indexId","uid"],VS="sequenceNumberIndex",VO=["uid","sequenceNumber"],Eu="indexEntries",OO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OS="documentKeyIndex",MO=["indexId","uid","orderedDocumentKey"],of="documentOverlays",LO=["userId","collectionPath","documentId"],Hm="collectionPathOverlayIndex",FO=["userId","collectionPath","largestBatchId"],MS="collectionGroupOverlayIndex",UO=["userId","collectionGroup","largestBatchId"],Wg="globals",jO="name",LS=[Mu,Jn,Oa,Xs,Ma,nc,so,La,Fa,Lu,Fu,rf,sf],zO=[...LS,of],FS=[Mu,Jn,Oa,_d,Ma,nc,so,La,Fa,Lu,Fu,rf,sf,of],US=FS,Qg=[...US,Kg,wu,Eu],BO=Qg,jS=[...Qg,Wg],$O=jS;class Gm extends RS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function bt(n,e){const t=_e(n);return os.O(t.le,e)}function wE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new zt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xe(this.comparator);return t.data=e,t}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ca(n){return n.hasNext()?n.getNext():void 0}class Un{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Xe(dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BS("Invalid base64 string: "+a):a}})(e);return new wt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const qO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(n){if(we(!!n,39018),typeof n=="string"){let e=0;const t=qO.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ui(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}const $S="server_timestamp",qS="__type__",HS="__previous_value__",GS="__local_write_time__";function Yg(n){return(n?.mapValue?.fields||{})[qS]?.stringValue===$S}function af(n){const e=n.mapValue.fields[HS];return Yg(e)?af(e):e}function Uu(n){const e=li(n.mapValue.fields[GS].timestampValue);return new Ye(e.seconds,e.nanos)}class HO{constructor(e,t,r,s,a,l,h,f,p,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=v}}const wd="(default)";class po{constructor(e,t){this.projectId=e,this.database=t||wd}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===wd}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}function GO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(n.options.projectId,e)}const Jg="__type__",KS="__max__",es={mapValue:{fields:{__type__:{stringValue:KS}}}},Xg="__vector__",Ua="value",Qh={nullValue:"NULL_VALUE"};function ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yg(n)?4:WS(n)?9007199254740991:lf(n)?10:11:me(28295,{value:n})}function Dr(n,e){if(n===e)return!0;const t=ds(n);if(t!==ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uu(n).isEqual(Uu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=li(s.timestampValue),h=li(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return ui(s.bytesValue).isEqual(ui(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return ut(s.geoPointValue.latitude)===ut(a.geoPointValue.latitude)&&ut(s.geoPointValue.longitude)===ut(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return ut(s.integerValue)===ut(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ut(s.doubleValue),h=ut(a.doubleValue);return l===h?Ou(l)===Ou(h):isNaN(l)&&isNaN(h)}return!1})(n,e);case 9:return Na(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(wE(l)!==wE(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Dr(l[f],h[f])))return!1;return!0})(n,e);default:return me(52216,{left:n})}}function ju(n,e){return(n.values||[]).find((t=>Dr(t,e)))!==void 0}function fs(n,e){if(n===e)return 0;const t=ds(n),r=ds(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=ut(a.integerValue||a.doubleValue),f=ut(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return TE(n.timestampValue,e.timestampValue);case 4:return TE(Uu(n),Uu(e));case 5:return jm(n.stringValue,e.stringValue);case 6:return(function(a,l){const h=ui(a),f=ui(l);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const _=be(h[p],f[p]);if(_!==0)return _}return be(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=be(ut(a.latitude),ut(l.latitude));return h!==0?h:be(ut(a.longitude),ut(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return IE(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[Ua]?.arrayValue,_=f[Ua]?.arrayValue,v=be(p?.values?.length||0,_?.values?.length||0);return v!==0?v:IE(p,_)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===es.mapValue&&l===es.mapValue)return 0;if(a===es.mapValue)return 1;if(l===es.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const E=jm(f[v],_[v]);if(E!==0)return E;const S=fs(h[f[v]],p[_[v]]);if(S!==0)return S}return be(f.length,_.length)})(n.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function TE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=li(n),r=li(e),s=be(t.seconds,r.seconds);return s!==0?s:be(t.nanos,r.nanos)}function IE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=fs(t[s],r[s]);if(a)return a}return be(t.length,r.length)}function ja(n){return Km(n)}function Km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=li(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return de.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Km(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Km(t.fields[l])}`;return s+"}"})(n.mapValue):me(61005,{value:n})}function Yh(n){switch(ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(n);return e?16+Yh(e):16;case 5:return 2*n.stringValue.length;case 6:return ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Yh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return wo(r.fields,((a,l)=>{s+=a.length+Yh(l)})),s})(n.mapValue);default:throw me(13486,{value:n})}}function zu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wm(n){return!!n&&"integerValue"in n}function Bu(n){return!!n&&"arrayValue"in n}function SE(n){return!!n&&"nullValue"in n}function AE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function lf(n){return(n?.mapValue?.fields||{})[Jg]?.stringValue===Xg}function Tu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Tu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(n.arrayValue.values[t]);return e}return{...n}}function WS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KS}const QS={mapValue:{fields:{[Jg]:{stringValue:Xg},[Ua]:{arrayValue:{}}}}};function KO(n){return"nullValue"in n?Qh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zu(po.empty(),de.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?lf(n)?QS:{mapValue:{}}:me(35942,{value:n})}function WO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zu(po.empty(),de.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?QS:"mapValue"in n?lf(n)?{mapValue:{}}:es:me(61959,{value:n})}function PE(n,e){const t=fs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xE(n,e){const t=fs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=dt.emptyPath(),r={},s=[];e.forEach(((l,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}l?r[h.lastSegment()]=Tu(l):s.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Jh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){wo(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new ln(Tu(this.value))}}function YS(n){const e=[];return wo(n.fields,((t,r)=>{const s=new dt([t]);if(Jh(r)){const a=YS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Un(e)}class mt{constructor(e,t,r,s,a,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new mt(e,0,Ee.min(),Ee.min(),Ee.min(),ln.empty(),0)}static newFoundDocument(e,t,r,s){return new mt(e,1,t,Ee.min(),r,s,0)}static newNoDocument(e,t){return new mt(e,2,t,Ee.min(),Ee.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,Ee.min(),Ee.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class za{constructor(e,t){this.position=e,this.inclusive=t}}function RE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=de.comparator(de.fromName(l.referenceValue),t.key):r=fs(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function CE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}class $u{constructor(e,t="asc"){this.field=e,this.dir=t}}function QO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JS{}class ze extends JS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YO(e,t,r):t==="array-contains"?new ZO(e,r):t==="in"?new rA(e,r):t==="not-in"?new e2(e,r):t==="array-contains-any"?new t2(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JO(e,r):new XO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fs(t,this.value)):t!==null&&ds(this.value)===ds(t)&&this.matchesComparison(fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends JS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Je(e,t)}matches(e){return Ba(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ba(n){return n.op==="and"}function Qm(n){return n.op==="or"}function Zg(n){return XS(n)&&Ba(n)}function XS(n){for(const e of n.filters)if(e instanceof Je)return!1;return!0}function Ym(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+ja(n.value);if(Zg(n))return n.filters.map((e=>Ym(e))).join(",");{const e=n.filters.map((t=>Ym(t))).join(",");return`${n.op}(${e})`}}function ZS(n,e){return n instanceof ze?(function(r,s){return s instanceof ze&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)})(n,e):n instanceof Je?(function(r,s){return s instanceof Je&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,h)=>a&&ZS(l,s.filters[h])),!0):!1})(n,e):void me(19439)}function eA(n,e){const t=n.filters.concat(e);return Je.create(t,n.op)}function tA(n){return n instanceof ze?(function(t){return`${t.field.canonicalString()} ${t.op} ${ja(t.value)}`})(n):n instanceof Je?(function(t){return t.op.toString()+" {"+t.getFilters().map(tA).join(" ,")+"}"})(n):"Filter"}class YO extends ze{constructor(e,t,r){super(e,t,r),this.key=de.fromName(r.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class JO extends ze{constructor(e,t){super(e,"in",t),this.keys=nA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XO extends ze{constructor(e,t){super(e,"not-in",t),this.keys=nA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nA(n,e){return(e.arrayValue?.values||[]).map((t=>de.fromName(t.referenceValue)))}class ZO extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bu(t)&&ju(t.arrayValue,this.value)}}class rA extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ju(this.value.arrayValue,t)}}class e2 extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ju(this.value.arrayValue,t)}}class t2 extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ju(this.value.arrayValue,r)))}}class n2{constructor(e,t=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function Jm(n,e=null,t=[],r=[],s=null,a=null,l=null){return new n2(n,e,t,r,s,a,l)}function mo(n){const e=_e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ym(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ja(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ja(r))).join(",")),e.Te=t}return e.Te}function rc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CE(n.startAt,e.startAt)&&CE(n.endAt,e.endAt)}function Ed(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Td(n,e){return n.filters.filter((t=>t instanceof ze&&t.field.isEqual(e)))}function bE(n,e,t){let r=Qh,s=!0;for(const a of Td(n,e)){let l=Qh,h=!0;switch(a.op){case"<":case"<=":l=KO(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,h=!1;break;case"!=":case"not-in":l=Qh}PE({value:r,inclusive:s},{value:l,inclusive:h})<0&&(r=l,s=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];PE({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function kE(n,e,t){let r=es,s=!0;for(const a of Td(n,e)){let l=es,h=!0;switch(a.op){case">=":case">":l=WO(a.value),h=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,h=!1;break;case"!=":case"not-in":l=es}xE({value:r,inclusive:s},{value:l,inclusive:h})>0&&(r=l,s=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];xE({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}class il{constructor(e,t=null,r=[],s=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iA(n,e,t,r,s,a,l,h){return new il(n,e,t,r,s,a,l,h)}function ey(n){return new il(n)}function DE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r2(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function sA(n){return n.collectionGroup!==null}function Iu(n){const e=_e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Xe(dt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $u(a,r))})),t.has(dt.keyField().canonicalString())||e.Ie.push(new $u(dt.keyField(),r))}return e.Ie}function xn(n){const e=_e(n);return e.Ee||(e.Ee=i2(e,Iu(n))),e.Ee}function i2(n,e){if(n.limitType==="F")return Jm(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new $u(s.field,a)}));const t=n.endAt?new za(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new za(n.startAt.position,n.startAt.inclusive):null;return Jm(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Xm(n,e){const t=n.filters.concat([e]);return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function s2(n,e){const t=n.explicitOrderBy.concat([e]);return new il(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Id(n,e,t){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uf(n,e){return rc(xn(n),xn(e))&&n.limitType===e.limitType}function oA(n){return`${mo(xn(n))}|lt:${n.limitType}`}function ga(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>tA(s))).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ja(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ja(s))).join(",")),`Target(${r})`})(xn(n))}; limitType=${n.limitType})`}function ic(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):de.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Iu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,h,f){const p=RE(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,Iu(r),s)||r.endAt&&!(function(l,h,f){const p=RE(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,Iu(r),s))})(n,e)}function aA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lA(n){return(e,t)=>{let r=!1;for(const s of Iu(n)){const a=o2(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function o2(n,e,t){const r=n.field.isKeyField()?de.comparator(e.key,t.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?fs(f,p):me(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return me(19790,{direction:n.dir})}}class hi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}const a2=new rt(de.comparator);function Sn(){return a2}const uA=new rt(de.comparator);function du(...n){let e=uA;for(const t of n)e=e.insert(t.key,t);return e}function cA(n){let e=uA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ar(){return Su()}function hA(){return Su()}function Su(){return new hi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const l2=new rt(de.comparator),u2=new Xe(de.comparator);function Ve(...n){let e=u2;for(const t of n)e=e.add(t);return e}const c2=new Xe(be);function ty(){return c2}function ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function dA(n){return{integerValue:""+n}}function h2(n,e){return bS(e)?dA(e):ny(n,e)}class cf{constructor(){this._=void 0}}function d2(n,e,t){return n instanceof $a?(function(s,a){const l={fields:{[qS]:{stringValue:$S},[GS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Yg(a)&&(a=af(a)),a&&(l.fields[HS]=a),{mapValue:l}})(t,e):n instanceof qa?pA(n,e):n instanceof Ha?mA(n,e):(function(s,a){const l=fA(s,a),h=NE(l)+NE(s.Ae);return Wm(l)&&Wm(s.Ae)?dA(h):ny(s.serializer,h)})(n,e)}function f2(n,e,t){return n instanceof qa?pA(n,e):n instanceof Ha?mA(n,e):t}function fA(n,e){return n instanceof qu?(function(r){return Wm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class $a extends cf{}class qa extends cf{constructor(e){super(),this.elements=e}}function pA(n,e){const t=gA(e);for(const r of n.elements)t.some((s=>Dr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Ha extends cf{constructor(e){super(),this.elements=e}}function mA(n,e){let t=gA(e);for(const r of n.elements)t=t.filter((s=>!Dr(s,r)));return{arrayValue:{values:t}}}class qu extends cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function NE(n){return ut(n.integerValue||n.doubleValue)}function gA(n){return Bu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yA{constructor(e,t){this.field=e,this.transform=t}}function p2(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof qa&&s instanceof qa||r instanceof Ha&&s instanceof Ha?Na(r.elements,s.elements,Dr):r instanceof qu&&s instanceof qu?Dr(r.Ae,s.Ae):r instanceof $a&&s instanceof $a})(n.transform,e.transform)}class m2{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hf{}function _A(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ry(n.key,An.none()):new sl(n.key,n.data,An.none());{const t=n.data,r=ln.empty();let s=new Xe(dt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new _s(n.key,r,new Un(s.toArray()),An.none())}}function g2(n,e,t){n instanceof sl?(function(s,a,l){const h=s.value.clone(),f=OE(s.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):n instanceof _s?(function(s,a,l){if(!Xh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=OE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(vA(s)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Au(n,e,t,r){return n instanceof sl?(function(a,l,h,f){if(!Xh(a.precondition,l))return h;const p=a.value.clone(),_=ME(a.fieldTransforms,f,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof _s?(function(a,l,h,f){if(!Xh(a.precondition,l))return h;const p=ME(a.fieldTransforms,f,l),_=l.data;return _.setAll(vA(a)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(a,l,h){return Xh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(n,e,t)}function y2(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=fA(r.transform,s||null);a!=null&&(t===null&&(t=ln.empty()),t.set(r.field,a))}return t||null}function VE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,((a,l)=>p2(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sl extends hf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _s extends hf{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function OE(n,e,t){const r=new Map;we(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,f2(l,h,t[s]))}return r}function ME(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,d2(a,l,e))}return r}class ry extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iy{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&g2(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Au(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hA();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=t.has(s.key)?null:h;const f=_A(l,h);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,((t,r)=>VE(t,r)))&&Na(this.baseMutations,e.baseMutations,((t,r)=>VE(t,r)))}}class sy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return l2})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new sy(e,t,r,s)}}class oy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _2{constructor(e,t){this.count=e,this.unchangedNames=t}}var St,$e;function v2(n){switch(n){case Y.OK:return me(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return me(15467,{code:n})}}function EA(n){if(n===void 0)return vt("GRPC error has no .code"),Y.UNKNOWN;switch(n){case St.OK:return Y.OK;case St.CANCELLED:return Y.CANCELLED;case St.UNKNOWN:return Y.UNKNOWN;case St.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case St.INTERNAL:return Y.INTERNAL;case St.UNAVAILABLE:return Y.UNAVAILABLE;case St.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case St.NOT_FOUND:return Y.NOT_FOUND;case St.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case St.ABORTED:return Y.ABORTED;case St.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case St.DATA_LOSS:return Y.DATA_LOSS;default:return me(39323,{code:n})}}($e=St||(St={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function w2(){return new TextEncoder}const E2=new ss([4294967295,4294967295],0);function LE(n){const e=w2().encode(n),t=new mS;return t.update(e),new Uint8Array(t.digest())}function FE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ss([t,r],0),new ss([s,a],0)]}class ay{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ss.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ss.fromNumber(r)));return s.compare(E2)===1&&(s=new ss([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=LE(e),[r,s]=FE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ay(a,s,t);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const t=LE(e),[r,s]=FE(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sc{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sc(Ee.min(),s,new rt(be),Sn(),Ve())}}class oc{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new oc(r,t,Ve(),Ve(),Ve())}}class Zh{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class TA{constructor(e,t){this.targetId=e,this.Ce=t}}class IA{constructor(e,t,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class UE{constructor(){this.ve=0,this.Fe=jE(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:me(38017,{changeType:a})}})),new oc(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=jE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class T2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sn(),this.He=Dh(),this.Je=Dh(),this.Ze=new rt(be)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Ed(a))if(r===0){const l=new de(a.path);this.et(t,l,mt.newNoDocument(l,Ee.min()))}else we(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,h;try{l=ui(r).toUint8Array()}catch(f){if(f instanceof BS)return Nu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ay(l,s,a)}catch(f){return Nu(f instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&Ed(h.target)){const f=new de(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,mt.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=Ve();this.Je.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new sc(e,t,this.Ze,this.je,r);return this.je=Sn(),this.He=Dh(),this.Je=Dh(),this.Ze=new rt(be),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new UE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Xe(be),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Xe(be),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new rt(de.comparator)}function jE(){return new rt(de.comparator)}const I2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class P2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function Ga(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x2(n,e){return Ga(n,e.toTimestamp())}function en(n){return we(!!n,49232),Ee.fromTimestamp((function(t){const r=li(t);return new Ye(r.seconds,r.nanos)})(n))}function ly(n,e){return eg(n,e).canonicalString()}function eg(n,e){const t=(function(s){return new Ke(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function AA(n){const e=Ke.fromString(n);return we(VA(e),10190,{key:e.toString()}),e}function Sd(n,e){return ly(n.databaseId,e.path)}function oo(n,e){const t=AA(e);if(t.get(1)!==n.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new de(RA(t))}function PA(n,e){return ly(n.databaseId,e)}function xA(n){const e=AA(n);return e.length===4?Ke.emptyPath():RA(e)}function tg(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RA(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zE(n,e,t){return{name:Sd(n,e),fields:t.value.mapValue.fields}}function R2(n,e,t){const r=oo(n,e.name),s=en(e.updateTime),a=e.createTime?en(e.createTime):Ee.min(),l=new ln({mapValue:{fields:e.fields}}),h=mt.newFoundDocument(r,s,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function C2(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,_){return p.useProto3Json?(we(_===void 0||typeof _=="string",58123),wt.fromBase64String(_||"")):(we(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),wt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const _=p.code===void 0?Y.UNKNOWN:EA(p.code);return new le(_,p.message||"")})(l);t=new IA(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=oo(n,r.document.name),a=en(r.document.updateTime),l=r.document.createTime?en(r.document.createTime):Ee.min(),h=new ln({mapValue:{fields:r.document.fields}}),f=mt.newFoundDocument(s,a,l,h),p=r.targetIds||[],_=r.removedTargetIds||[];t=new Zh(p,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=oo(n,r.document),a=r.readTime?en(r.readTime):Ee.min(),l=mt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Zh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=oo(n,r.document),a=r.removedTargetIds||[];t=new Zh([],a,s,null)}else{if(!("filter"in e))return me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new _2(s,a),h=r.targetId;t=new TA(h,l)}}return t}function Ad(n,e){let t;if(e instanceof sl)t={update:zE(n,e.key,e.value)};else if(e instanceof ry)t={delete:Sd(n,e.key)};else if(e instanceof _s)t={update:zE(n,e.key,e.data),updateMask:O2(e.fieldMask)};else{if(!(e instanceof wA))return me(16599,{dt:e.type});t={verify:Sd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof $a)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ha)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qu)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:x2(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:me(27497)})(n,e.precondition)),t}function ng(n,e){const t=e.currentDocument?(function(a){return a.updateTime!==void 0?An.updateTime(en(a.updateTime)):a.exists!==void 0?An.exists(a.exists):An.none()})(e.currentDocument):An.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,h){let f=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new $a;else if("appendMissingElements"in h){const _=h.appendMissingElements.values||[];f=new qa(_)}else if("removeAllFromArray"in h){const _=h.removeAllFromArray.values||[];f=new Ha(_)}else"increment"in h?f=new qu(l,h.increment):me(16584,{proto:h});const p=dt.fromServerFormat(h.fieldPath);return new yA(p,f)})(n,s))):[];if(e.update){e.update.name;const s=oo(n,e.update.name),a=new ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(f){const p=f.fieldPaths||[];return new Un(p.map((_=>dt.fromServerFormat(_))))})(e.updateMask);return new _s(s,a,l,t,r)}return new sl(s,a,t,r)}if(e.delete){const s=oo(n,e.delete);return new ry(s,t)}if(e.verify){const s=oo(n,e.verify);return new wA(s,t)}return me(1463,{proto:e})}function b2(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?en(s.updateTime):en(a);return l.isEqual(Ee.min())&&(l=en(a)),new m2(l,s.transformResults||[])})(t,e)))):[]}function CA(n,e){return{documents:[PA(n,e.path)]}}function bA(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=PA(n,s);const a=(function(p){if(p.length!==0)return NA(Je.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((_=>(function(E){return{field:ya(E.field),direction:D2(E.dir)}})(_)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=Zm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function kA(n){let e=xA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){we(r===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(v){const E=DA(v);return E instanceof Je&&Zg(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((E=>(function(N){return new $u(_a(N.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,nf(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(v){const E=!!v.before,S=v.values||[];return new za(S,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const E=!v.before,S=v.values||[];return new za(S,E)})(t.endAt)),iA(e,s,l,a,h,"F",f,p)}function k2(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_a(t.unaryFilter.field);return ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return ze.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_a(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ze.create(_a(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Je.create(t.compositeFilter.filters.map((r=>DA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(n):me(30097,{filter:n})}function D2(n){return I2[n]}function N2(n){return S2[n]}function V2(n){return A2[n]}function ya(n){return{fieldPath:n.canonicalString()}}function _a(n){return dt.fromServerFormat(n.fieldPath)}function NA(n){return n instanceof ze?(function(t){if(t.op==="=="){if(AE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NAN"}};if(SE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NAN"}};if(SE(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(t.field),op:N2(t.op),value:t.value}}})(n):n instanceof Je?(function(t){const r=t.getFilters().map((s=>NA(s)));return r.length===1?r[0]:{compositeFilter:{op:V2(t.op),filters:r}}})(n):me(54877,{filter:n})}function O2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function VA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function OA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ti{constructor(e,t,r,s,a=Ee.min(),l=Ee.min(),h=wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MA{constructor(e){this.yt=e}}function M2(n,e){let t;if(e.document)t=R2(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=yo(e.noDocument.readTime);t=mt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me(56709);{const r=de.fromSegments(e.unknownDocument.path),s=yo(e.unknownDocument.version);t=mt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const a=new Ye(s[0],s[1]);return Ee.fromTimestamp(a)})(e.readTime)),t}function BE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:Sd(a,l.key),fields:l.data.value.mapValue.fields,updateTime:Ga(a,l.version.toTimestamp()),createTime:Ga(a,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:go(e.version)};else{if(!e.isUnknownDocument())return me(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:go(e.version)}}return r}function Pd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function go(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yo(n){const e=new Ye(n.seconds,n.nanoseconds);return Ee.fromTimestamp(e)}function eo(n,e){const t=(e.baseMutations||[]).map((a=>ng(n.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const h=e.mutations[a+1];l.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>ng(n.yt,a))),s=Ye.fromMillis(e.localWriteTimeMs);return new iy(e.batchId,s,t,r)}function pu(n){const e=yo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yo(n.lastLimboFreeSnapshotVersion):Ee.min();let r;return r=(function(a){return a.documents!==void 0})(n.query)?(function(a){const l=a.documents.length;return we(l===1,1966,{count:l}),xn(ey(xA(a.documents[0])))})(n.query):(function(a){return xn(kA(a))})(n.query),new ti(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,wt.fromBase64String(n.resumeToken))}function LA(n,e){const t=go(e.snapshotVersion),r=go(e.lastLimboFreeSnapshotVersion);let s;s=Ed(e.target)?CA(n.yt,e.target):bA(n.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mo(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function FA(n){const e=kA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Id(e,e.limit,"L"):e}function hm(n,e){return new oy(e.largestBatchId,ng(n.yt,e.overlayMutation))}function $E(n,e){const t=e.path.lastSegment();return[n,Yt(e.path.popLast()),t]}function qE(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:go(r.readTime),documentKey:Yt(r.documentKey.path),largestBatchId:r.largestBatchId}}class L2{getBundleMetadata(e,t){return HE(e).get(t).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:yo(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,t){return HE(e).put((function(s){return{bundleId:s.id,createTime:go(en(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return GE(e).get(t).next((r=>{if(r)return(function(a){return{name:a.name,query:FA(a.bundledQuery),readTime:yo(a.readTime)}})(r)}))}saveNamedQuery(e,t){return GE(e).put((function(s){return{name:s.name,readTime:go(en(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function HE(n){return bt(n,rf)}function GE(n){return bt(n,sf)}class df{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new df(e,r)}getOverlay(e,t){return su(e).get($E(this.userId,t)).next((r=>r?hm(this.serializer,r):null))}getOverlays(e,t){const r=Ar();return j.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((a,l)=>{const h=new oy(t,l);s.push(this.bt(e,h))})),j.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Yt(l.getCollectionPath()))));const a=[];return s.forEach((l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(su(e).X(Hm,h))})),j.waitFor(a)}getOverlaysForCollection(e,t,r){const s=Ar(),a=Yt(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return su(e).H(Hm,l).next((h=>{for(const f of h){const p=hm(this.serializer,f);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const a=Ar();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return su(e).ee({index:MS,range:h},((f,p,_)=>{const v=hm(this.serializer,p);a.size()<s||v.largestBatchId===l?(a.set(v.getKey(),v),l=v.largestBatchId):_.done()})).next((()=>a))}bt(e,t){return su(e).put((function(s,a,l){const[h,f,p]=$E(a,l.mutation.key);return{userId:a,collectionPath:f,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Ad(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function su(n){return bt(n,of)}class F2{St(e){return bt(e,Wg)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?wt.fromUint8Array(r):wt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class to{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Ou(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=li(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ui(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?WS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):lf(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):me(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=Ua,a=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ut(a)),this.Ot(s,t),this.Ct(r[s],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),de.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}to.Wt=new to;const ha=255;function U2(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function KE(n){const e=64-(function(r){let s=0;for(let a=0;a<8;++a){const l=U2(255&r[a]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class j2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),r=KE(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=KE(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(ha),this.sn(255)}_n(){this.an(ha),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===ha?(this.sn(ha),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===ha?(this.an(ha),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class z2{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class B2{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ou{constructor(){this.cn=new j2,this.ascending=new z2(this.cn),this.descending=new B2(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class no{constructor(e,t,r,s){this.hn=e,this.Pn=t,this.Tn=r,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new no(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:ed(this.Tn),directionalValue:ed(this.In),orderedDocumentKey:ed(t),documentKey:r.path.toArray()}}An(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Hi(n,e){let t=n.hn-e.hn;return t!==0?t:(t=WE(n.Tn,e.Tn),t!==0?t:(t=WE(n.In,e.In),t!==0?t:de.comparator(n.Pn,e.Pn)))}function WE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function ed(n){return b0()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function QE(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class YE{constructor(e){this.Vn=new Xe(((t,r)=>dt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(we(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Bm(e);if(t!==void 0&&!this.pn(t))return!1;const r=Js(e);let s=new Set,a=0,l=0;for(;a<r.length&&this.pn(r[a]);++a)s=s.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[a];if(!this.yn(h,f)||!this.wn(this.dn[l++],f))return!1}++a}for(;a<r.length;++a){const h=r[a];if(l>=this.dn.length||!this.wn(this.dn[l++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new Xe(dt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Gh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Gh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Gh(r.field,r.dir==="asc"?0:1)));return new gd(gd.UNKNOWN_ID,this.collectionId,t,Vu.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function UA(n){if(we(n instanceof ze||n instanceof Je,20012),n instanceof ze){if(n instanceof rA){const t=n.value.arrayValue?.values?.map((r=>ze.create(n.field,"==",r)))||[];return Je.create(t,"or")}return n}const e=n.filters.map((t=>UA(t)));return Je.create(e,n.op)}function $2(n){if(n.getFilters().length===0)return[];const e=sg(UA(n));return we(jA(e),7391),rg(e)||ig(e)?[e]:e.getFilters()}function rg(n){return n instanceof ze}function ig(n){return n instanceof Je&&Zg(n)}function jA(n){return rg(n)||ig(n)||(function(t){if(t instanceof Je&&Qm(t)){for(const r of t.getFilters())if(!rg(r)&&!ig(r))return!1;return!0}return!1})(n)}function sg(n){if(we(n instanceof ze||n instanceof Je,34018),n instanceof ze)return n;if(n.filters.length===1)return sg(n.filters[0]);const e=n.filters.map((r=>sg(r)));let t=Je.create(e,n.op);return t=xd(t),jA(t)?t:(we(t instanceof Je,64498),we(Ba(t),40251),we(t.filters.length>1,57927),t.filters.reduce(((r,s)=>uy(r,s))))}function uy(n,e){let t;return we(n instanceof ze||n instanceof Je,38388),we(e instanceof ze||e instanceof Je,25473),t=n instanceof ze?e instanceof ze?(function(s,a){return Je.create([s,a],"and")})(n,e):JE(n,e):e instanceof ze?JE(e,n):(function(s,a){if(we(s.filters.length>0&&a.filters.length>0,48005),Ba(s)&&Ba(a))return eA(s,a.getFilters());const l=Qm(s)?s:a,h=Qm(s)?a:s,f=l.filters.map((p=>uy(p,h)));return Je.create(f,"or")})(n,e),xd(t)}function JE(n,e){if(Ba(e))return eA(e,n.getFilters());{const t=e.filters.map((r=>uy(n,r)));return Je.create(t,"or")}}function xd(n){if(we(n instanceof ze||n instanceof Je,11850),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return xd(e[0]);if(XS(n))return n;const t=e.map((s=>xd(s))),r=[];return t.forEach((s=>{s instanceof ze?r.push(s):s instanceof Je&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Je.create(r,n.op)}class q2{constructor(){this.Sn=new cy}addToCollectionParentIndex(e,t){return this.Sn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Cn.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class cy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Xe(Ke.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xe(Ke.comparator)).toArray()}}const XE="IndexedDbIndexManager",Nh=new Uint8Array(0);class H2{constructor(e,t){this.databaseId=t,this.Dn=new cy,this.Cn=new hi((r=>mo(r)),((r,s)=>rc(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const a={collectionId:r,parent:Yt(s)};return ZE(e).put(a)}return j.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[TS(t),""],!1,!0);return ZE(e).H(s).next((a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Sr(l.parent))}return r}))}addFieldIndex(e,t){const r=au(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const a=r.add(s);if(t.indexState){const l=fa(e);return a.next((h=>{l.put(qE(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}deleteFieldIndex(e,t){const r=au(e),s=fa(e),a=da(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=au(e),r=da(e),s=fa(e);return t.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(e,t){return j.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const a=new YE(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,t){const r=da(e);let s=!0;const a=new Map;return j.forEach(this.vn(t),(l=>this.Fn(e,l).next((h=>{s&&(s=!!h),a.set(l,h)})))).next((()=>{if(s){let l=Ve();const h=[];return j.forEach(a,((f,p)=>{ne(XE,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(f)} to execute ${mo(t)}`);const _=(function(K,J){const ee=Bm(J);if(ee===void 0)return null;for(const ie of Td(K,ee.fieldPath))switch(ie.op){case"array-contains-any":return ie.value.arrayValue.values||[];case"array-contains":return[ie.value]}return null})(p,f),v=(function(K,J){const ee=new Map;for(const ie of Js(J))for(const P of Td(K,ie.fieldPath))switch(P.op){case"==":case"in":ee.set(ie.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return ee.set(ie.fieldPath.canonicalString(),P.value),Array.from(ee.values())}return null})(p,f),E=(function(K,J){const ee=[];let ie=!0;for(const P of Js(J)){const A=P.kind===0?bE(K,P.fieldPath,K.startAt):kE(K,P.fieldPath,K.startAt);ee.push(A.value),ie&&(ie=A.inclusive)}return new za(ee,ie)})(p,f),S=(function(K,J){const ee=[];let ie=!0;for(const P of Js(J)){const A=P.kind===0?kE(K,P.fieldPath,K.endAt):bE(K,P.fieldPath,K.endAt);ee.push(A.value),ie&&(ie=A.inclusive)}return new za(ee,ie)})(p,f),N=this.Mn(f,p,E),x=this.Mn(f,p,S),b=this.xn(f,p,v),H=this.On(f.indexId,_,N,E.inclusive,x,S.inclusive,b);return j.forEach(H,(G=>r.Z(G,t.limit).next((K=>{K.forEach((J=>{const ee=de.fromSegments(J.documentKey);l.has(ee)||(l=l.add(ee),h.push(ee))}))}))))})).next((()=>h))}return j.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=$2(Je.create(e.filters,"and")).map((r=>Jm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,s,a,l,h){const f=(t!=null?t.length:1)*Math.max(r.length,a.length),p=f/(t!=null?t.length:1),_=[];for(let v=0;v<f;++v){const E=t?this.Nn(t[v/p]):Nh,S=this.Bn(e,E,r[v%p],s),N=this.Ln(e,E,a[v%p],l),x=h.map((b=>this.Bn(e,E,b,!0)));_.push(...this.createRange(S,N,x))}return _}Bn(e,t,r,s){const a=new no(e,de.empty(),t,r);return s?a:a.En()}Ln(e,t,r,s){const a=new no(e,de.empty(),t,r);return s?a.En():a}Fn(e,t){const r=new YE(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((a=>{let l=null;for(const h of a)r.gn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l}))}getIndexType(e,t){let r=2;const s=this.vn(t);return j.forEach(s,(a=>this.Fn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(f){let p=new Xe(dt.comparator),_=!1;for(const v of f.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?_=!0:p=p.add(E.field));for(const v of f.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(_?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}kn(e,t){const r=new ou;for(const s of Js(e)){const a=t.data.field(s.fieldPath);if(a==null)return null;const l=r.ln(s.kind);to.Wt.Dt(a,l)}return r.un()}Nn(e){const t=new ou;return to.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new ou;return to.Wt.Dt(zu(this.databaseId,t),r.ln((function(a){const l=Js(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let s=[];s.push(new ou);let a=0;for(const l of Js(e)){const h=r[a++];for(const f of s)if(this.qn(t,l.fieldPath)&&Bu(h))s=this.Un(s,l,h);else{const p=f.ln(l.kind);to.Wt.Dt(h,p)}}return this.$n(s)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const s=[...e],a=[];for(const l of r.arrayValue.values||[])for(const h of s){const f=new ou;f.seed(h.un()),to.Wt.Dt(l,f.ln(t.kind)),a.push(f)}return a}qn(e,t){return!!e.filters.find((r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=au(e),s=fa(e);return(t?r.H(qm,IDBKeyRange.bound(t,t)):r.H()).next((a=>{const l=[];return j.forEach(a,(h=>s.get([h.indexId,this.uid]).next((f=>{l.push((function(_,v){const E=v?new Vu(v.sequenceNumber,new Cn(yo(v.readTime),new de(Sr(v.documentKey)),v.largestBatchId)):Vu.empty(),S=_.fields.map((([N,x])=>new Gh(dt.fromServerFormat(N),x)));return new gd(_.indexId,_.collectionGroup,S,E)})(h,f))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const a=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return a!==0?a:be(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=au(e),a=fa(e);return this.Wn(e).next((l=>s.H(qm,IDBKeyRange.bound(t,t)).next((h=>j.forEach(h,(f=>a.put(qE(f.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return j.forEach(t,((s,a)=>{const l=r.get(s.collectionGroup);return(l?j.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(r.set(s.collectionGroup,h),j.forEach(h,(f=>this.Qn(e,s,f).next((p=>{const _=this.Gn(a,f);return p.isEqual(_)?j.resolve():this.zn(e,a,f,p,_)})))))))}))}jn(e,t,r,s){return da(e).put(s.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,s){return da(e).delete(s.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const s=da(e);let a=new Xe(Hi);return s.ee({index:OS,range:IDBKeyRange.only([r.indexId,this.uid,ed(this.Kn(r,t))])},((l,h)=>{a=a.add(new no(r.indexId,t,QE(h.arrayValue),QE(h.directionalValue)))})).next((()=>a))}Gn(e,t){let r=new Xe(Hi);const s=this.kn(t,e);if(s==null)return r;const a=Bm(t);if(a!=null){const l=e.data.field(a.fieldPath);if(Bu(l))for(const h of l.arrayValue.values||[])r=r.add(new no(t.indexId,e.key,this.Nn(h),s))}else r=r.add(new no(t.indexId,e.key,Nh,s));return r}zn(e,t,r,s,a){ne(XE,"Updating index entries for document '%s'",t.key);const l=[];return(function(f,p,_,v,E){const S=f.getIterator(),N=p.getIterator();let x=ca(S),b=ca(N);for(;x||b;){let H=!1,G=!1;if(x&&b){const K=_(x,b);K<0?G=!0:K>0&&(H=!0)}else x!=null?G=!0:H=!0;H?(v(b),b=ca(N)):G?(E(x),x=ca(S)):(x=ca(S),b=ca(N))}})(s,a,Hi,(h=>{l.push(this.jn(e,t,r,h))}),(h=>{l.push(this.Hn(e,t,r,h))})),j.waitFor(l)}Wn(e){let t=1;return fa(e).ee({index:VS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,a)=>{a.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,h)=>Hi(l,h))).filter(((l,h,f)=>!h||Hi(l,f[h-1])!==0));const s=[];s.push(e);for(const l of r){const h=Hi(l,e),f=Hi(l,t);if(h===0)s[0]=e.En();else if(h>0&&f<0)s.push(l),s.push(l.En());else if(f>0)break}s.push(t);const a=[];for(let l=0;l<s.length;l+=2){if(this.Jn(s[l],s[l+1]))return[];const h=s[l].An(this.uid,Nh,de.empty()),f=s[l+1].An(this.uid,Nh,de.empty());a.push(IDBKeyRange.bound(h,f))}return a}Jn(e,t){return Hi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(eT)}getMinOffset(e,t){return j.mapArray(this.vn(t),(r=>this.Fn(e,r).next((s=>s||me(44426))))).next(eT)}}function ZE(n){return bt(n,Fu)}function da(n){return bt(n,Eu)}function au(n){return bt(n,Kg)}function fa(n){return bt(n,wu)}function eT(n){we(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;qg(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Cn(e.readTime,e.documentKey,t)}const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function BA(n,e,t){const r=n.store(Jn),s=n.store(Oa),a=[],l=IDBKeyRange.only(t.batchId);let h=0;const f=r.ee({range:l},((_,v,E)=>(h++,E.delete())));a.push(f.next((()=>{we(h===1,47070,{batchId:t.batchId})})));const p=[];for(const _ of t.mutations){const v=kS(e,_.key.path,t.batchId);a.push(s.delete(v)),p.push(_.key)}return j.waitFor(a).next((()=>p))}function Rd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw me(14731);e=n.noDocument}return JSON.stringify(e).length}Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(zA,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);class ff{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(e,t,r,s){we(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new ff(a,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).ee({index:ro,range:r},((s,a,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const a=va(e),l=Gi(e);return l.add({}).next((h=>{we(typeof h=="number",49019);const f=new iy(h,t,r,s),p=(function(S,N,x){const b=x.baseMutations.map((G=>Ad(S.yt,G))),H=x.mutations.map((G=>Ad(S.yt,G)));return{userId:N,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:b,mutations:H}})(this.serializer,this.userId,f),_=[];let v=new Xe(((E,S)=>be(E.canonicalString(),S.canonicalString())));for(const E of s){const S=kS(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),_.push(l.put(p)),_.push(a.put(S,wO))}return v.forEach((E=>{_.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),j.waitFor(_).next((()=>f))}))}lookupMutationBatch(e,t){return Gi(e).get(t).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),eo(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?j.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Gi(e).ee({index:ro,range:s},((l,h,f)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{Yn:r}),a=eo(this.serializer,h)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=io;return Gi(e).ee({index:ro,range:t,reverse:!0},((s,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,io],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).H(ro,t).next((r=>r.map((s=>eo(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Kh(this.userId,t.path),s=IDBKeyRange.lowerBound(r),a=[];return va(e).ee({range:s},((l,h,f)=>{const[p,_,v]=l,E=Sr(_);if(p===this.userId&&t.path.isEqual(E))return Gi(e).get(v).next((S=>{if(!S)throw me(61480,{er:l,batchId:v});we(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:v}),a.push(eo(this.serializer,S))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(be);const s=[];return t.forEach((a=>{const l=Kh(this.userId,a.path),h=IDBKeyRange.lowerBound(l),f=va(e).ee({range:h},((p,_,v)=>{const[E,S,N]=p,x=Sr(S);E===this.userId&&a.path.isEqual(x)?r=r.add(N):v.done()}));s.push(f)})),j.waitFor(s).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,a=Kh(this.userId,r),l=IDBKeyRange.lowerBound(a);let h=new Xe(be);return va(e).ee({range:l},((f,p,_)=>{const[v,E,S]=f,N=Sr(E);v===this.userId&&r.isPrefixOf(N)?N.length===s&&(h=h.add(S)):_.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],s=[];return t.forEach((a=>{s.push(Gi(e).get(a).next((l=>{if(l===null)throw me(35274,{batchId:a});we(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(eo(this.serializer,l))})))})),j.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return BA(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),j.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return j.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return va(e).ee({range:r},((a,l,h)=>{if(a[0]===this.userId){const f=Sr(a[1]);s.push(f)}else h.done()})).next((()=>{we(s.length===0,56720,{rr:s.map((a=>a.canonicalString()))})}))}))}containsKey(e,t){return $A(e,this.userId,t)}ir(e){return qA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:io,lastStreamToken:""}))}}function $A(n,e,t){const r=Kh(e,t.path),s=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return va(n).ee({range:a,Y:!0},((h,f,p)=>{const[_,v,E]=h;_===e&&v===s&&(l=!0),p.done()})).next((()=>l))}function Gi(n){return bt(n,Jn)}function va(n){return bt(n,Oa)}function qA(n){return bt(n,Mu)}class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}class G2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new _o(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ee.fromTimestamp(new Ye(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>pa(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let s=0;const a=[];return pa(e).ee(((l,h)=>{const f=pu(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,a.push(this.removeTargetData(e,f)))})).next((()=>j.waitFor(a))).next((()=>s))}forEachTarget(e,t){return pa(e).ee(((r,s)=>{const a=pu(s);t(a)}))}ur(e){return nT(e).get(vd).next((t=>(we(t!==null,2888),t)))}cr(e,t){return nT(e).put(vd,t)}lr(e,t){return pa(e).put(LA(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=mo(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return pa(e).ee({range:s,index:NS},((l,h,f)=>{const p=pu(h);rc(t,p.target)&&(a=p,f.done())})).next((()=>a))}addMatchingKeys(e,t,r){const s=[],a=Zi(e);return t.forEach((l=>{const h=Yt(l.path);s.push(a.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,l))})),j.waitFor(s)}removeMatchingKeys(e,t,r){const s=Zi(e);return j.forEach(t,(a=>{const l=Yt(a.path);return j.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,t){const r=Zi(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Zi(e);let a=Ve();return s.ee({range:r,Y:!0},((l,h,f)=>{const p=Sr(l[1]),_=new de(p);a=a.add(_)})).next((()=>a))}containsKey(e,t){const r=Yt(t.path),s=IDBKeyRange.bound([r],[TS(r)],!1,!0);let a=0;return Zi(e).ee({index:Gg,Y:!0,range:s},(([l,h],f,p)=>{l!==0&&(a++,p.done())})).next((()=>a>0))}At(e,t){return pa(e).get(t).next((r=>r?pu(r):null))}}function pa(n){return bt(n,Ma)}function nT(n){return bt(n,so)}function Zi(n){return bt(n,La)}const rT="LruGarbageCollector",HA=1048576;function iT([n,e],[t,r]){const s=be(n,t);return s===0?be(e,r):s}class K2{constructor(e){this.Pr=e,this.buffer=new Xe(iT),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ne(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ys(t)?ne(rT,"Ignoring IndexedDB error during garbage collection: ",t):await gs(t)}await this.Ar(3e5)}))}}class W2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return j.resolve(un.ce);const r=new K2(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(tT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,l,h,f,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),ma()<=je.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-_}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-_}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function KA(n,e){return new W2(n,e)}class Q2{constructor(e,t){this.db=e,this.garbageCollector=KA(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,s)=>t(s)))}addReference(e,t,r){return Vh(e,r)}removeReference(e,t,r){return Vh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vh(e,t)}wr(e,t){return(function(s,a){let l=!1;return qA(s).te((h=>$A(s,h,a).next((f=>(f&&(l=!0),j.resolve(!f)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.yr(e,((l,h)=>{if(h<=t){const f=this.wr(e,l).next((p=>{if(!p)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ee.min()),Zi(e).delete((function(v){return[0,Yt(v.path)]})(l)))))}));s.push(f)}})).next((()=>j.waitFor(s))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vh(e,t)}yr(e,t){const r=Zi(e);let s,a=un.ce;return r.ee({index:Gg},(([l,h],{path:f,sequenceNumber:p})=>{l===0?(a!==un.ce&&t(new de(Sr(s)),a),a=p,s=f):a=un.ce})).next((()=>{a!==un.ce&&t(new de(Sr(s)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vh(n,e){return Zi(n).put((function(r,s){return{targetId:0,path:Yt(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class WA{constructor(){this.changes=new hi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qs(e).put(r)}removeEntry(e,t,r){return Qs(e).delete((function(a,l){const h=a.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Pd(l),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=mt.newInvalidDocument(t);return Qs(e).ee({index:Wh,range:IDBKeyRange.only(lu(t))},((s,a)=>{r=this.Sr(t,a)})).next((()=>r))}Dr(e,t){let r={size:0,document:mt.newInvalidDocument(t)};return Qs(e).ee({index:Wh,range:IDBKeyRange.only(lu(t))},((s,a)=>{r={document:this.Sr(t,a),size:Rd(a)}})).next((()=>r))}getEntries(e,t){let r=Sn();return this.Cr(e,t,((s,a)=>{const l=this.Sr(s,a);r=r.insert(s,l)})).next((()=>r))}vr(e,t){let r=Sn(),s=new rt(de.comparator);return this.Cr(e,t,((a,l)=>{const h=this.Sr(a,l);r=r.insert(a,h),s=s.insert(a,Rd(l))})).next((()=>({documents:r,Fr:s})))}Cr(e,t,r){if(t.isEmpty())return j.resolve();let s=new Xe(aT);t.forEach((f=>s=s.add(f)));const a=IDBKeyRange.bound(lu(s.first()),lu(s.last())),l=s.getIterator();let h=l.getNext();return Qs(e).ee({index:Wh,range:a},((f,p,_)=>{const v=de.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&aT(h,v)<0;)r(h,null),h=l.getNext();h&&h.isEqual(v)&&(r(h,p),h=l.hasNext()?l.getNext():null),h?_.j(lu(h)):_.done()})).next((()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,a){const l=t.path,h=[l.popLast().toArray(),l.lastSegment(),Pd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qs(e).H(IDBKeyRange.bound(h,f,!0)).next((p=>{a?.incrementDocumentReadCount(p.length);let _=Sn();for(const v of p){const E=this.Sr(de.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(ic(t,E)||s.has(E.key))&&(_=_.insert(E.key,E))}return _}))}getAllFromCollectionGroup(e,t,r,s){let a=Sn();const l=oT(t,r),h=oT(t,Cn.max());return Qs(e).ee({index:DS,range:IDBKeyRange.bound(l,h,!0)},((f,p,_)=>{const v=this.Sr(de.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);a=a.insert(v.key,v),a.size===s&&_.done()})).next((()=>a))}newChangeBuffer(e){return new J2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return sT(e).get($m).next((t=>(we(!!t,20021),t)))}br(e,t){return sT(e).put($m,t)}Sr(e,t){if(t){const r=M2(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ee.min())))return r}return mt.newInvalidDocument(e)}}function QA(n){return new Y2(n)}class J2 extends WA{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new hi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new Xe(((a,l)=>be(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const h=this.Or.get(a);if(t.push(this.Mr.removeEntry(e,a,h.readTime)),l.isValidDocument()){const f=BE(this.Mr.serializer,l);s=s.add(a.path.popLast());const p=Rd(f);r+=p-h.size,t.push(this.Mr.addEntry(e,a,f))}else if(r-=h.size,this.trackRemovals){const f=BE(this.Mr.serializer,l.convertToNoDocument(Ee.min()));t.push(this.Mr.addEntry(e,a,f))}})),s.forEach((a=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,a))})),t.push(this.Mr.updateMetadata(e,r)),j.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:s})=>(s.forEach(((a,l)=>{this.Or.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function sT(n){return bt(n,Lu)}function Qs(n){return bt(n,_d)}function lu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oT(n,e){const t=e.documentKey.path.toArray();return[n,Pd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aT(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(s=be(t[a],r[a]),s)return s;return s=be(t.length,r.length),s||(s=be(t[t.length-2],r[r.length-2]),s||be(t[t.length-1],r[r.length-1]))}class X2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Au(r.mutation,s,Un.empty(),Ye.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ve()){const s=Ar();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=du();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ar();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ve())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,h)=>{t.set(l,h)}))}))}computeViews(e,t,r,s){let a=Sn();const l=Su(),h=(function(){return Su()})();return t.forEach(((f,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof _s)?a=a.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),Au(_.mutation,p,_.mutation.getFieldMask(),Ye.now())):l.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,_)=>l.set(p,_))),t.forEach(((p,_)=>h.set(p,new X2(_,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Su();let s=new rt(((l,h)=>l-h)),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let _=r.get(f)||Un.empty();_=h.applyToLocalView(p,_),r.set(f,_);const v=(s.get(h.batchId)||Ve()).add(f);s=s.insert(h.batchId,v)}))})).next((()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,_=f.value,v=hA();_.forEach((E=>{if(!a.has(E)){const S=_A(t.get(E),r.get(E));S!==null&&v.set(E,S),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return j.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return r2(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):j.resolve(Ar());let h=Va,f=a;return l.next((p=>j.forEach(p,((_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(_)?j.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{f=f.insert(_,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Ve()))).next((_=>({batchId:h,changes:cA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next((r=>{let s=du();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=du();return this.indexManager.getCollectionParents(e,a).next((h=>j.forEach(h,(f=>{const p=(function(v,E){return new il(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((_=>{_.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((f,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,mt.newInvalidDocument(_)))}));let h=du();return l.forEach(((f,p)=>{const _=a.get(f);_!==void 0&&Au(_.mutation,p,Un.empty(),Ye.now()),ic(t,p)&&(h=h.insert(f,p))})),h}))}}class Z2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return j.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:en(s.createTime)}})(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:FA(s.bundledQuery),readTime:en(s.readTime)}})(t)),j.resolve()}}class eM{constructor(){this.overlays=new rt(de.comparator),this.Lr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ar();return j.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),j.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){const s=Ar(),a=t.length+1,l=new de(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return j.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new rt(((p,_)=>p-_));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=a.get(p.largestBatchId);_===null&&(_=Ar(),a=a.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=Ar(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,_)=>h.set(p,_))),!(h.size()>=s)););return j.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oy(t,r));let a=this.Lr.get(t);a===void 0&&(a=Ve(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class tM{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}}class hy{constructor(){this.kr=new Xe(Vt.Kr),this.qr=new Xe(Vt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new de(new Ke([])),r=new Vt(t,e),s=new Vt(t,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new de(new Ke([])),r=new Vt(t,e),s=new Vt(t,e+1);let a=Ve();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Vt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return de.comparator(e.key,t.key)||be(e.Hr,t.Hr)}static Ur(e,t){return be(e.Hr,t.Hr)||de.comparator(e.key,t.key)}}class nM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(Vt.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iy(a,t,r,s);this.mutationQueue.push(l);for(const h of s)this.Jr=this.Jr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return j.resolve(l)}lookupMutationBatch(e,t){return j.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return j.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?io:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),s=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const h=this.Zr(l.Hr);a.push(h)})),j.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(be);return t.forEach((s=>{const a=new Vt(s,0),l=new Vt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(h=>{r=r.add(h.Hr)}))})),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;de.isDocumentKey(a)||(a=a.child(""));const l=new Vt(new de(a),0);let h=new Xe(be);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Hr)),!0)}),l),j.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){we(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(t.mutations,(s=>{const a=new Vt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Vt(t,0),s=this.Jr.firstAfterOrEqual(r);return j.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rM{constructor(e){this.ti=e,this.docs=(function(){return new rt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=Sn();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():mt.newInvalidDocument(s))})),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Sn();const l=t.path,h=new de(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||qg(PS(_),r)<=0||(s.has(_.key)||ic(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return j.resolve(a)}getAllFromCollectionGroup(e,t,r,s){me(9500)}ni(e,t){return j.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new iM(this)}getSize(e){return j.resolve(this.size)}}class iM extends WA{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),j.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class sM{constructor(e){this.persistence=e,this.ri=new hi((t=>mo(t)),rc),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new hy,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),j.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.lr(t),j.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((l,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),j.waitFor(a).next((()=>s))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),j.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.si.containsKey(t))}}class dy{constructor(e,t){this._i={},this.overlays={},this.ai=new un(0),this.ui=!1,this.ui=!0,this.ci=new tM,this.referenceDelegate=e(this),this.li=new sM(this),this.indexManager=new q2,this.remoteDocumentCache=(function(s){return new rM(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new MA(t),this.Pi=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new nM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ne("MemoryPersistence","Starting transaction:",e);const s=new oM(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return j.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class oM extends RS{constructor(e){super(),this.currentSequenceNumber=e}}class pf{constructor(e){this.persistence=e,this.Ri=new hy,this.Ai=null}static Vi(e){return new pf(e)}get di(){if(this.Ai)return this.Ai;throw me(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,(r=>{const s=de.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,Ee.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return j.or([()=>j.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cd{constructor(e,t){this.persistence=e,this.fi=new hi((r=>Yt(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=KA(this,t)}static Vi(e,t){return new Cd(e,t)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return j.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?j.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,t).next((h=>{h||(r++,a.removeEntry(l,Ee.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yh(e.data.value)),t}wr(e,t,r){return j.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class aM{constructor(e){this.serializer=e}k(e,t,r,s){const a=new tf("createOrUpgrade",t);r<1&&s>=1&&((function(f){f.createObjectStore(nc)})(e),(function(f){f.createObjectStore(Mu,{keyPath:vO}),f.createObjectStore(Jn,{keyPath:_E,autoIncrement:!0}).createIndex(ro,vE,{unique:!0}),f.createObjectStore(Oa)})(e),lT(e),(function(f){f.createObjectStore(Xs)})(e));let l=j.resolve();return r<3&&s>=3&&(r!==0&&((function(f){f.deleteObjectStore(La),f.deleteObjectStore(Ma),f.deleteObjectStore(so)})(e),lT(e)),l=l.next((()=>(function(f){const p=f.store(so),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return p.put(vd,_)})(a)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(f,p){return p.store(Jn).H().next((v=>{f.deleteObjectStore(Jn),f.createObjectStore(Jn,{keyPath:_E,autoIncrement:!0}).createIndex(ro,vE,{unique:!0});const E=p.store(Jn),S=v.map((N=>E.put(N)));return j.waitFor(S)}))})(e,a)))),l=l.next((()=>{(function(f){f.createObjectStore(Fa,{keyPath:RO})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.gi(a)))),r<6&&s>=6&&(l=l.next((()=>((function(f){f.createObjectStore(Lu)})(e),this.pi(a))))),r<7&&s>=7&&(l=l.next((()=>this.yi(a)))),r<8&&s>=8&&(l=l.next((()=>this.wi(e,a)))),r<9&&s>=9&&(l=l.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.bi(a)))),r<11&&s>=11&&(l=l.next((()=>{(function(f){f.createObjectStore(rf,{keyPath:CO})})(e),(function(f){f.createObjectStore(sf,{keyPath:bO})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(f){const p=f.createObjectStore(of,{keyPath:LO});p.createIndex(Hm,FO,{unique:!1}),p.createIndex(MS,UO,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(f){const p=f.createObjectStore(_d,{keyPath:EO});p.createIndex(Wh,TO),p.createIndex(DS,IO)})(e))).next((()=>this.Si(e,a))).next((()=>e.deleteObjectStore(Xs)))),r<14&&s>=14&&(l=l.next((()=>this.Di(e,a)))),r<15&&s>=15&&(l=l.next((()=>(function(f){f.createObjectStore(Kg,{keyPath:kO,autoIncrement:!0}).createIndex(qm,DO,{unique:!1}),f.createObjectStore(wu,{keyPath:NO}).createIndex(VS,VO,{unique:!1}),f.createObjectStore(Eu,{keyPath:OO}).createIndex(OS,MO,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(wu).clear()})).next((()=>{t.objectStore(Eu).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(f){f.createObjectStore(Wg,{keyPath:jO})})(e)}))),r<18&&s>=18&&b0()&&(l=l.next((()=>{t.objectStore(wu).clear()})).next((()=>{t.objectStore(Eu).clear()}))),l}pi(e){let t=0;return e.store(Xs).ee(((r,s)=>{t+=Rd(s)})).next((()=>{const r={byteSize:t};return e.store(Lu).put($m,r)}))}gi(e){const t=e.store(Mu),r=e.store(Jn);return t.H().next((s=>j.forEach(s,(a=>{const l=IDBKeyRange.bound([a.userId,io],[a.userId,a.lastAcknowledgedBatchId]);return r.H(ro,l).next((h=>j.forEach(h,(f=>{we(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=eo(this.serializer,f);return BA(e,a.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(La),r=e.store(Xs);return e.store(so).get(vd).next((s=>{const a=[];return r.ee(((l,h)=>{const f=new Ke(l),p=(function(v){return[0,Yt(v)]})(f);a.push(t.get(p).next((_=>_?j.resolve():(v=>t.put({targetId:0,path:Yt(v),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>j.waitFor(a)))}))}wi(e,t){e.createObjectStore(Fu,{keyPath:xO});const r=t.store(Fu),s=new cy,a=l=>{if(s.add(l)){const h=l.lastSegment(),f=l.popLast();return r.put({collectionId:h,parent:Yt(f)})}};return t.store(Xs).ee({Y:!0},((l,h)=>{const f=new Ke(l);return a(f.popLast())})).next((()=>t.store(Oa).ee({Y:!0},(([l,h,f],p)=>{const _=Sr(h);return a(_.popLast())}))))}bi(e){const t=e.store(Ma);return t.ee(((r,s)=>{const a=pu(s),l=LA(this.serializer,a);return t.put(l)}))}Si(e,t){const r=t.store(Xs),s=[];return r.ee(((a,l)=>{const h=t.store(_d),f=(function(v){return v.document?new de(Ke.fromString(v.document.name).popFirst(5)):v.noDocument?de.fromSegments(v.noDocument.path):v.unknownDocument?de.fromSegments(v.unknownDocument.path):me(36783)})(l).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(h.put(p))})).next((()=>j.waitFor(s)))}Di(e,t){const r=t.store(Jn),s=QA(this.serializer),a=new dy(pf.Vi,this.serializer.yt);return r.H().next((l=>{const h=new Map;return l.forEach((f=>{let p=h.get(f.userId)??Ve();eo(this.serializer,f).keys().forEach((_=>p=p.add(_))),h.set(f.userId,p)})),j.forEach(h,((f,p)=>{const _=new Wt(p),v=df.wt(this.serializer,_),E=a.getIndexManager(_),S=ff.wt(_,this.serializer,E,a.referenceDelegate);return new YA(s,S,v,E).recalculateAndSaveOverlaysForDocumentKeys(new Gm(t,un.ce),f).next()}))}))}}function lT(n){n.createObjectStore(La,{keyPath:AO}).createIndex(Gg,PO,{unique:!0}),n.createObjectStore(Ma,{keyPath:"targetId"}).createIndex(NS,SO,{unique:!0}),n.createObjectStore(so)}const Ki="IndexedDbPersistence",dm=18e5,fm=5e3,pm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lM="main";class fy{constructor(e,t,r,s,a,l,h,f,p,_,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=a,this.window=l,this.document=h,this.Fi=p,this.Mi=_,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!fy.v())throw new le(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Q2(this,s),this.Ki=t+lM,this.serializer=new MA(f),this.qi=new os(this.Ki,this.xi,new aM(this.serializer)),this.ci=new F2,this.li=new G2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QA(this.serializer),this.Pi=new L2,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,_===!1&&vt(Ki,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(Y.FAILED_PRECONDITION,pm);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new un(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Oh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(ys(e))return ne(Ki,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne(Ki,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return uu(e).get(ua).next((t=>j.resolve(this.Xi(t))))}Yi(e){return Oh(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,dm)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=bt(t,Fa);return r.H().next((s=>{const a=this.ns(s,dm),l=s.filter((h=>a.indexOf(h)===-1));return j.forEach(l,(h=>r.delete(h.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?j.resolve(!0):uu(e).get(ua).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,fm)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new le(Y.FAILED_PRECONDITION,pm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oh(e).H().next((r=>this.ns(r,fm).find((s=>{if(this.clientId!==s.clientId){const a=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(a||l&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ne(Ki,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[nc,Fa],(e=>{const t=new Gm(e,un.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Oh(e).H().next((t=>this.ns(t,dm).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return ff.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H2(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return df.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){ne(Ki,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?$O:f===17?jS:f===16?BO:f===15?Qg:f===14?US:f===13?FS:f===12?zO:f===11?LS:void me(60245)})(this.xi);let l;return this.qi.runTransaction(e,s,a,(h=>(l=new Gm(h,this.ai?this.ai.next():un.ce),t==="readwrite-primary"?this.ji(l).next((f=>!!f||this.Hi(l))).next((f=>{if(!f)throw vt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new le(Y.FAILED_PRECONDITION,xS);return r(l)})).next((f=>this.Zi(l).next((()=>f)))):this.Ps(l).next((()=>r(l)))))).then((h=>(l.raiseOnCommittedEvent(),h)))}Ps(e){return uu(e).get(ua).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,fm)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(Y.FAILED_PRECONDITION,pm)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uu(e).put(ua,t)}static v(){return os.v()}Ji(e){const t=uu(e);return t.get(ua).next((r=>this.Xi(r)?(ne(Ki,"Releasing primary lease."),t.delete(ua)):j.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(vt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;C0()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return ne(Ki,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return vt(Ki,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){vt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uu(n){return bt(n,nc)}function Oh(n){return bt(n,Fa)}function JA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class py{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Ve(),s=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new py(e,t.fromCache,r,s)}}class uM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return C0()?8:CS(Ct())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new uM;return this.ys(e,t,l).next((h=>{if(a.result=h,this.As)return this.ws(e,t,l,h.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(ma()<=je.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(ma()<=je.DEBUG&&ne("QueryEngine","Query:",ga(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ma()<=je.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(t))):j.resolve())}gs(e,t){if(DE(t))return j.resolve(null);let r=xn(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Id(t,null,"F"),r=xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ve(...a);return this.fs.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(t,h);return this.Ss(t,p,l,f.readTime)?this.gs(e,Id(t,null,"F")):this.Ds(e,p,t,f)}))))})))))}ps(e,t,r,s){return DE(t)||s.isEqual(Ee.min())?j.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,s)?j.resolve(null):(ma()<=je.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ga(t)),this.Ds(e,l,t,AS(s,Va)).next((h=>h)))}))}bs(e,t){let r=new Xe(lA(e));return t.forEach(((s,a)=>{ic(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return ma()<=je.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ga(t)),this.fs.getDocumentsMatchingQuery(e,t,Cn.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const my="LocalStore",cM=3e8;class hM{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new rt(be),this.Fs=new hi((a=>mo(a)),rc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function ZA(n,e,t,r){return new hM(n,e,t,r)}async function eP(n,e){const t=_e(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=Ve();for(const p of s){l.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of a){h.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function dM(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,_){const v=p.batch,E=v.keys();let S=j.resolve();return E.forEach((N=>{S=S.next((()=>_.getEntry(f,N))).next((x=>{const b=p.docVersions.get(N);we(b!==null,48541),x.version.compareTo(b)<0&&(v.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),_.addEntry(x)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Ve();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function tP(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function fM(n,e){const t=_e(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((_,v)=>{const E=s.get(v);if(!E)return;h.push(t.li.removeMatchingKeys(a,_.removedDocuments,v).next((()=>t.li.addMatchingKeys(a,_.addedDocuments,v))));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,r)),s=s.insert(v,S),(function(x,b,H){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=cM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,S,_)&&h.push(t.li.updateTargetData(a,S))}));let f=Sn(),p=Ve();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(pM(a,l,e.documentUpdates).next((_=>{f=_.Bs,p=_.Ls}))),!r.isEqual(Ee.min())){const _=t.li.getLastRemoteSnapshotVersion(a).next((v=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(_)}return j.waitFor(h).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.vs=s,a)))}function pM(n,e,t){let r=Ve(),s=Ve();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Sn();return t.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ee.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ne(my,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:l,Ls:s}}))}function mM(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=io),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bd(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,j.resolve(s)):t.li.allocateTargetId(r).next((l=>(s=new ti(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Ka(n,e,t){const r=_e(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ys(l))throw l;ne(my,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function og(n,e,t){const r=_e(n);let s=Ee.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,_){const v=_e(f),E=v.Fs.get(_);return E!==void 0?j.resolve(v.vs.get(E)):v.li.getTargetData(p,_)})(r,l,xn(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:Ee.min(),t?a:Ve()))).next((h=>(iP(r,aA(e),h),{documents:h,ks:a})))))}function nP(n,e){const t=_e(n),r=_e(t.li),s=t.vs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((l=>l?l.target:null))))}function rP(n,e){const t=_e(n),r=t.Ms.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.xs.getAllFromCollectionGroup(s,e,AS(r,Va),Number.MAX_SAFE_INTEGER))).then((s=>(iP(t,e,s),s)))}function iP(n,e,t){let r=n.Ms.get(e)||Ee.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}const sP="firestore_clients";function uT(n,e){return`${sP}_${n}_${e}`}const oP="firestore_mutations";function cT(n,e,t){let r=`${oP}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const aP="firestore_targets";function mm(n,e){return`${aP}_${n}_${e}`}const Ir="SharedClientState";class kd{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static $s(e,t,r){const s=JSON.parse(r);let a,l=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return l&&s.error&&(l=typeof s.error.message=="string"&&typeof s.error.code=="string",l&&(a=new le(s.error.code,s.error.message))),l?new kd(e,t,s.state,a):(vt(Ir,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let s,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(s=new le(r.error.code,r.error.message))),a?new Pu(e,r.state,s):(vt(Ir,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,a=ty();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=bS(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return s?new Dd(e,a):(vt(Ir,`Failed to parse client data for instance '${e}': ${t}`),null)}}class gy{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new gy(t.clientId,t.onlineState):(vt(Ir,`Failed to parse online state: ${e}`),null)}}class ag{constructor(){this.activeTargetIds=ty()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gm{constructor(e,t,r,s,a){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new rt(be),this.started=!1,this.Zs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Xs=uT(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new ag),this.eo=new RegExp(`^${sP}_${l}_([^_]*)$`),this.no=new RegExp(`^${oP}_${l}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${aP}_${l}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const s=this.getItem(uT(this.persistenceKey,r));if(s){const a=Dd.$s(r,s);a&&(this.Js=this.Js.insert(a.clientId,a))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(mm(this.persistenceKey,e));if(s){const a=Pu.$s(e,s);a&&(r=a.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.lo(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ne(Ir,"READ",e,t),t}setItem(e,t){ne(Ir,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ne(Ir,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(ne(Ir,"EVENT",t.key,t.newValue),t.key===this.Xs)return void vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(a){let l=un.ce;if(a!=null)try{const h=JSON.parse(a);we(typeof h=="number",30636,{yo:a}),l=h}catch(h){vt(Ir,"Failed to read sequence number from WebStorage",h)}return l})(t.newValue);r!==un.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.bo(s))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const s=new kd(this.currentUser,e,t,r),a=cT(this.persistenceKey,this.currentUser,e);this.setItem(a,s.Ws())}lo(e){const t=cT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const s=mm(this.persistenceKey,e),a=new Pu(e,t,r);this.setItem(s,a.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return Dd.$s(r,t)}Vo(e,t){const r=this.no.exec(e),s=Number(r[1]),a=r[2]!==void 0?r[2]:null;return kd.$s(new Wt(a),s,t)}fo(e,t){const r=this.ro.exec(e),s=Number(r[1]);return Pu.$s(s,t)}_o(e){return gy.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);ne(Ir,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),s=this.uo(this.Js),a=this.uo(r),l=[],h=[];return a.forEach((f=>{s.has(f)||l.push(f)})),s.forEach((f=>{a.has(f)||h.push(f)})),this.syncEngine.Co(l,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=ty();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class lP{constructor(){this.vo=new ag,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ag,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gM{Mo(e){}shutdown(){}}const hT="ConnectivityMonitor";class dT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ne(hT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ne(hT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mh=null;function lg(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}const ym="RestConnection",yM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _M{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===wd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const l=lg(),h=this.Qo(e,t.toUriEncodedString());ne(ym,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:p}=new URL(h),_=el(p);return this.zo(e,h,f,r,_).then((v=>(ne(ym,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Nu(ym,`RPC '${e}' ${l} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,t,r,s,a,l){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=yM[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class vM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Kt="WebChannelConnection",cu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Pa extends _M{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pa.c_){const e=vS();cu(e,_S.STAT_EVENT,(t=>{t.stat===Um.PROXY?ne(Kt,"STAT_EVENT: detected buffering proxy"):t.stat===Um.NOPROXY&&ne(Kt,"STAT_EVENT: detected no buffering proxy")})),Pa.c_=!0}}zo(e,t,r,s,a){const l=lg();return new Promise(((h,f)=>{const p=new gS;p.setWithCredentials(!0),p.listenOnce(yS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Hh.NO_ERROR:const v=p.getResponseJson();ne(Kt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),h(v);break;case Hh.TIMEOUT:ne(Kt,`RPC '${e}' ${l} timed out`),f(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const E=p.getStatus();if(ne(Kt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const x=(function(H){const G=H.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(G)>=0?G:Y.UNKNOWN})(N.status);f(new le(x,N.message))}else f(new le(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Y.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ne(Kt,`RPC '${e}' ${l} completed.`)}}));const _=JSON.stringify(s);ne(Kt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",_,r,15)}))}T_(e,t,r){const s=lg(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=a.join("");ne(Kt,`Creating RPC '${e}' stream ${s}: ${p}`,h);const _=l.createWebChannel(p,h);this.I_(_);let v=!1,E=!1;const S=new vM({Ho:N=>{E?ne(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(v||(ne(Kt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),ne(Kt,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Jo:()=>_.close()});return cu(_,hu.EventType.OPEN,(()=>{E||(ne(Kt,`RPC '${e}' stream ${s} transport opened.`),S.i_())})),cu(_,hu.EventType.CLOSE,(()=>{E||(E=!0,ne(Kt,`RPC '${e}' stream ${s} transport closed`),S.o_(),this.E_(_))})),cu(_,hu.EventType.ERROR,(N=>{E||(E=!0,Nu(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),S.o_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),cu(_,hu.EventType.MESSAGE,(N=>{if(!E){const x=N.data[0];we(!!x,16349);const b=x,H=b?.error||b[0]?.error;if(H){ne(Kt,`RPC '${e}' stream ${s} received error:`,H);const G=H.status;let K=(function(ie){const P=St[ie];if(P!==void 0)return EA(P)})(G),J=H.message;K===void 0&&(K=Y.INTERNAL,J="Unknown error status: "+G+" with message "+H.message),E=!0,S.o_(new le(K,J)),_.close()}else ne(Kt,`RPC '${e}' stream ${s} received:`,x),S.__(x)}})),Pa.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wS()}}function wM(n){return new Pa(n)}function uP(){return typeof window<"u"?window:null}function td(){return typeof document<"u"?document:null}function mf(n){return new P2(n,!0)}Pa.c_=!1;class cP{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fT="PersistentStream";class hP{constructor(e,t,r,s,a,l,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cP(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(vt(t.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(fT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ne(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EM extends hP{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=C2(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ee.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ee.min():l.readTime?en(l.readTime):Ee.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=tg(this.serializer),t.addTarget=(function(a,l){let h;const f=l.target;if(h=Ed(f)?{documents:CA(a,f)}:{query:bA(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=SA(a,l.resumeToken);const p=Zm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ee.min())>0){h.readTime=Ga(a,l.snapshotVersion.toTimestamp());const p=Zm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=k2(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=tg(this.serializer),t.removeTarget=e,this.K_(t)}}class TM extends hP{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=b2(e.writeResults,e.commitTime),r=en(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=tg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Ad(this.serializer,r)))};this.K_(t)}}class IM{}class SM extends IM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,eg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.jo(e,eg(t,r),s,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Y.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AM(n,e,t,r){return new SM(n,e,t,r)}class PM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vt(t),this.aa=!1):ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class xM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Eo(this)&&(ne(vo,"Restarting streams for network reachability change."),await(async function(f){const p=_e(f);p.Ea.add(4),await ac(p),p.Va.set("Unknown"),p.Ea.delete(4),await gf(p)})(this))}))})),this.Va=new PM(r,s)}}async function gf(n){if(Eo(n))for(const e of n.Ra)await e(!0)}async function ac(n){for(const e of n.Ra)await e(!1)}function yf(n,e){const t=_e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vy(t)?_y(t):al(t).O_()&&yy(t,e))}function Wa(n,e){const t=_e(n),r=al(t);t.Ia.delete(e),r.O_()&&dP(t,e),t.Ia.size===0&&(r.O_()?r.L_():Eo(t)&&t.Va.set("Unknown"))}function yy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(n).Z_(e)}function dP(n,e){n.da.$e(e),al(n).X_(e)}function _y(n){n.da=new T2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Va.ua()}function vy(n){return Eo(n)&&!al(n).x_()&&n.Ia.size>0}function Eo(n){return _e(n).Ea.size===0}function fP(n){n.da=void 0}async function RM(n){n.Va.set("Online")}async function CM(n){n.Ia.forEach(((e,t)=>{yy(n,e)}))}async function bM(n,e){fP(n),vy(n)?(n.Va.ha(e),_y(n)):n.Va.set("Unknown")}async function kM(n,e,t){if(n.Va.set("Online"),e instanceof IA&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){ne(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(n,r)}else if(e instanceof Zh?n.da.Xe(e):e instanceof TA?n.da.st(e):n.da.tt(e),!t.isEqual(Ee.min()))try{const r=await tP(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const h=a.da.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.Ia.get(p);_&&a.Ia.set(p,_.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const _=a.Ia.get(f);if(!_)return;a.Ia.set(f,_.withResumeToken(wt.EMPTY_BYTE_STRING,_.snapshotVersion)),dP(a,f);const v=new ti(_.target,f,p,_.sequenceNumber);yy(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ne(vo,"Failed to raise snapshot:",r),await Nd(n,r)}}async function Nd(n,e,t){if(!ys(e))throw e;n.Ea.add(1),await ac(n),n.Va.set("Offline"),t||(t=()=>tP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ne(vo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gf(n)}))}function pP(n,e){return e().catch((t=>Nd(n,t,e)))}async function ol(n){const e=_e(n),t=ps(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:io;for(;DM(e);)try{const s=await mM(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,NM(e,s)}catch(s){await Nd(e,s)}mP(e)&&gP(e)}function DM(n){return Eo(n)&&n.Ta.length<10}function NM(n,e){n.Ta.push(e);const t=ps(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function mP(n){return Eo(n)&&!ps(n).x_()&&n.Ta.length>0}function gP(n){ps(n).start()}async function VM(n){ps(n).ra()}async function OM(n){const e=ps(n);for(const t of n.Ta)e.ea(t.mutations)}async function MM(n,e,t){const r=n.Ta.shift(),s=sy.from(r,e,t);await pP(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await ol(n)}async function LM(n,e){e&&ps(n).Y_&&await(async function(r,s){if((function(l){return v2(l)&&l!==Y.ABORTED})(s.code)){const a=r.Ta.shift();ps(r).B_(),await pP(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await ol(r)}})(n,e),mP(n)&&gP(n)}async function pT(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),ne(vo,"RemoteStore received new credentials");const r=Eo(t);t.Ea.add(3),await ac(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gf(t)}async function ug(n,e){const t=_e(n);e?(t.Ea.delete(2),await gf(t)):e||(t.Ea.add(2),await ac(t),t.Va.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(t,r,s){const a=_e(t);return a.sa(),new EM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:RM.bind(null,n),Yo:CM.bind(null,n),t_:bM.bind(null,n),J_:kM.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),vy(n)?_y(n):n.Va.set("Unknown")):(await n.ma.stop(),fP(n))}))),n.ma}function ps(n){return n.fa||(n.fa=(function(t,r,s){const a=_e(t);return a.sa(),new TM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VM.bind(null,n),t_:LM.bind(null,n),ta:OM.bind(null,n),na:MM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await ol(n)):(await n.fa.stop(),n.Ta.length>0&&(ne(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class wy{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,h=new wy(e,t,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,e){if(vt("AsyncQueue",`${e}: ${n}`),ys(n))return new le(Y.UNAVAILABLE,`${e}: ${n}`);throw n}class xa{static emptySet(e){return new xa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||de.comparator(t.key,r.key):(t,r)=>de.comparator(t.key,r.key),this.keyedMap=du(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mT{constructor(){this.ga=new rt(de.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Qa{constructor(e,t,r,s,a,l,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((h=>{l.push({type:0,doc:h})})),new Qa(e,t,xa.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class FM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class UM{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=_e(t),a=s.queries;s.queries=gT(),a.forEach(((l,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function gT(){return new hi((n=>oA(n)),uf)}async function jM(n,e){const t=_e(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new FM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const h=Ey(l,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ty(t)}async function zM(n,e){const t=_e(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BM(n,e){const t=_e(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const h of l.ba)h.Fa(s)&&(r=!0);l.wa=s}}r&&Ty(t)}function $M(n,e,t){const r=_e(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function Ty(n){n.Ca.forEach((e=>{e.next()}))}var cg,yT;(yT=cg||(cg={})).Ma="default",yT.Cache="cache";class qM{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cg.Cache}}class yP{constructor(e){this.key=e}}class _P{constructor(e){this.key=e}}class HM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=lA(e),this.tu=new xa(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new mT,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,v)=>{const E=s.get(_),S=ic(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),x=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;E&&S?E.data.isEqual(S.data)?N!==x&&(r.track({type:3,doc:S}),b=!0):this.su(E,S)||(r.track({type:2,doc:S}),b=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),b=!0):E&&!S&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(h=!0)),b&&(S?(l=l.add(S),a=x?a.add(_):a.delete(_)):(l=l.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:l,iu:r,Ss:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((_,v)=>(function(S,N){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Vt:b})}};return x(S)-x(N)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,p=f!==this.Xa;return this.Xa=f,l.length!==0||p?{snapshot:new Qa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new _P(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new yP(r))})),t}cu(e){this.Za=e.ks,this.Ya=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ll="SyncEngine";class GM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KM{constructor(e){this.key=e,this.hu=!1}}class WM{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new hi((h=>oA(h)),uf),this.Iu=new Map,this.Eu=new Set,this.Ru=new rt(de.comparator),this.Au=new Map,this.Vu=new hy,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QM(n,e,t=!0){const r=_f(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await vP(r,e,t,!0),s}async function YM(n,e){const t=_f(n);await vP(t,e,!0,!1)}async function vP(n,e,t,r){const s=await bd(n.localStore,xn(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await Iy(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&yf(n.remoteStore,s),h}async function Iy(n,e,t,r,s){n.pu=(v,E,S)=>(async function(x,b,H,G){let K=b.view.ru(H);K.Ss&&(K=await og(x.localStore,b.query,!1).then((({documents:P})=>b.view.ru(P,K))));const J=G&&G.targetChanges.get(b.targetId),ee=G&&G.targetMismatches.get(b.targetId)!=null,ie=b.view.applyChanges(K,x.isPrimaryClient,J,ee);return hg(x,b.targetId,ie.au),ie.snapshot})(n,v,E,S);const a=await og(n.localStore,e,!0),l=new HM(e,a.ks),h=l.ru(a.documents),f=oc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(h,n.isPrimaryClient,f);hg(n,t,p.au);const _=new GM(e,t,l);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function JM(n,e,t){const r=_e(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!uf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ka(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Wa(r.remoteStore,s.targetId),Ya(r,s.targetId)})).catch(gs)):(Ya(r,s.targetId),await Ka(r.localStore,s.targetId,!0))}async function XM(n,e){const t=_e(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wa(t.remoteStore,r.targetId))}async function ZM(n,e,t){const r=xy(n);try{const s=await(function(l,h){const f=_e(l),p=Ye.now(),_=h.reduce(((S,N)=>S.add(N.key)),Ve());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=Sn(),x=Ve();return f.xs.getEntries(S,_).next((b=>{N=b,N.forEach(((H,G)=>{G.isValidDocument()||(x=x.add(H))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,N))).next((b=>{v=b;const H=[];for(const G of h){const K=y2(G,v.get(G.key).overlayedDocument);K!=null&&H.push(new _s(G.key,K,YS(K.value.mapValue),An.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,H,h)})).next((b=>{E=b;const H=b.applyToLocalDocumentSet(v,x);return f.documentOverlayCache.saveOverlays(S,b.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:cA(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,h,f){let p=l.du[l.currentUser.toKey()];p||(p=new rt(be)),p=p.insert(h,f),l.du[l.currentUser.toKey()]=p})(r,s.batchId,t),await vs(r,s.changes),await ol(r.remoteStore)}catch(s){const a=Ey(s,"Failed to persist write");t.reject(a)}}async function wP(n,e){const t=_e(n);try{const r=await fM(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?we(l.hu,14607):s.removedDocuments.size>0&&(we(l.hu,42227),l.hu=!1))})),await vs(t,r,e)}catch(r){await gs(r)}}function _T(n,e,t){const r=_e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(l,h){const f=_e(l);f.onlineState=h;let p=!1;f.queries.forEach(((_,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&Ty(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eL(n,e,t){const r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new rt(de.comparator);l=l.insert(a,mt.newNoDocument(a,Ee.min()));const h=Ve().add(a),f=new sc(Ee.min(),new Map,new rt(be),l,h);await wP(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Py(r)}else await Ka(r.localStore,e,!1).then((()=>Ya(r,e,t))).catch(gs)}async function tL(n,e){const t=_e(n),r=e.batch.batchId;try{const s=await dM(t.localStore,e);Ay(t,r,null),Sy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vs(t,s)}catch(s){await gs(s)}}async function nL(n,e,t){const r=_e(n);try{const s=await(function(l,h){const f=_e(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return f.mutationQueue.lookupMutationBatch(p,h).next((v=>(we(v!==null,37113),_=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>f.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);Ay(r,e,t),Sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vs(r,s)}catch(s){await gs(s)}}function Sy(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ay(n,e,t){const r=_e(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Ya(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||EP(n,r)}))}function EP(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Wa(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Py(n))}function hg(n,e,t){for(const r of t)r instanceof yP?(n.Vu.addReference(r.key,e),rL(n,r)):r instanceof _P?(ne(ll,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||EP(n,r.key)):me(19791,{wu:r})}function rL(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ne(ll,"New document in limbo: "+t),n.Eu.add(r),Py(n))}function Py(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new de(Ke.fromString(e)),r=n.fu.next();n.Au.set(r,new KM(t)),n.Ru=n.Ru.insert(t,r),yf(n.remoteStore,new ti(xn(ey(t.path)),r,"TargetPurposeLimboResolution",un.ce))}}async function vs(n,e,t){const r=_e(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=py.Es(f.targetId,p);a.push(_)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(f,p){const _=_e(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>j.forEach(p,(E=>j.forEach(E.Ts,(S=>_.persistence.referenceDelegate.addReference(v,E.targetId,S))).next((()=>j.forEach(E.Is,(S=>_.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))))))}catch(v){if(!ys(v))throw v;ne(my,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const S=_.vs.get(E),N=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(N);_.vs=_.vs.insert(E,x)}}})(r.localStore,a))}async function iL(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){ne(ll,"User change. New user:",e.toKey());const r=await eP(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Y.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vs(t,r.Ns)}}function sL(n,e){const t=_e(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let s=Ve();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const h=t.Tu.get(l);s=s.unionWith(h.view.nu)}return s}}async function oL(n,e){const t=_e(n),r=await og(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&hg(t,e.targetId,s.au),s}async function aL(n,e){const t=_e(n);return rP(t.localStore,e).then((r=>vs(t,r)))}async function lL(n,e,t,r){const s=_e(n),a=await(function(h,f){const p=_e(h),_=_e(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(v=>_.Xn(v,f).next((E=>E?p.localDocuments.getDocuments(v,E):j.resolve(null)))))})(s.localStore,e);a!==null?(t==="pending"?await ol(s.remoteStore):t==="acknowledged"||t==="rejected"?(Ay(s,e,r||null),Sy(s,e),(function(h,f){_e(_e(h).mutationQueue).nr(f)})(s.localStore,e)):me(6720,"Unknown batchState",{bu:t}),await vs(s,a)):ne(ll,"Cannot apply mutation batch with id: "+e)}async function uL(n,e){const t=_e(n);if(_f(t),xy(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await vT(t,r.toArray());t.gu=!0,await ug(t.remoteStore,!0);for(const a of s)yf(t.remoteStore,a)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then((()=>(Ya(t,l),Ka(t.localStore,l,!0)))),Wa(t.remoteStore,l)})),await s,await vT(t,r),(function(l){const h=_e(l);h.Au.forEach(((f,p)=>{Wa(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new rt(de.comparator)})(t),t.gu=!1,await ug(t.remoteStore,!1)}}async function vT(n,e,t){const r=_e(n),s=[],a=[];for(const l of e){let h;const f=r.Iu.get(l);if(f&&f.length!==0){h=await bd(r.localStore,xn(f[0]));for(const p of f){const _=r.Tu.get(p),v=await oL(r,_);v.snapshot&&a.push(v.snapshot)}}else{const p=await nP(r.localStore,l);h=await bd(r.localStore,p),await Iy(r,TP(p),l,!1,h.resumeToken)}s.push(h)}return r.Pu.J_(a),s}function TP(n){return iA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cL(n){return(function(t){return _e(_e(t).persistence).hs()})(_e(n).localStore)}async function hL(n,e,t,r){const s=_e(n);if(s.gu)return void ne(ll,"Ignoring unexpected query state notification.");const a=s.Iu.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=await rP(s.localStore,aA(a[0])),h=sc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",wt.EMPTY_BYTE_STRING);await vs(s,l,h);break}case"rejected":await Ka(s.localStore,e,!0),Ya(s,e,r);break;default:me(64155,t)}}async function dL(n,e,t){const r=_f(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){ne(ll,"Adding an already active target "+s);continue}const a=await nP(r.localStore,s),l=await bd(r.localStore,a);await Iy(r,TP(a),l.targetId,!1,l.resumeToken),yf(r.remoteStore,l)}for(const s of t)r.Iu.has(s)&&await Ka(r.localStore,s,!1).then((()=>{Wa(r.remoteStore,s),Ya(r,s)})).catch(gs)}}function _f(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eL.bind(null,e),e.Pu.J_=BM.bind(null,e.eventManager),e.Pu.yu=$M.bind(null,e.eventManager),e}function xy(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nL.bind(null,e),e}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZA(this.persistence,new XA,e.initialUser,this.serializer)}Cu(e){return new dy(pf.Vi,this.serializer)}Du(e){return new lP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class fL extends Hu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){we(this.persistence.referenceDelegate instanceof Cd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new dy((r=>Cd.Vi(r,t)),this.serializer)}}class IP extends Hu{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await xy(this.xu.syncEngine),await ol(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return ZA(this.persistence,new XA,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new GA(r,e.asyncQueue,t)}Mu(e,t){const r=new yO(t,this.persistence);return new gO(e.asyncQueue,r)}Cu(e){const t=JA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new fy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,uP(),td(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new lP}}class pL extends IP{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof gm&&(this.sharedClientState.syncEngine={So:lL.bind(null,t),Do:hL.bind(null,t),Co:dL.bind(null,t),hs:cL.bind(null,t),bo:aL.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await uL(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=uP();if(!gm.v(t))throw new le(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=JA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,this.syncEngine),await ug(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UM})()}createDatastore(e){const t=mf(e.databaseInfo.databaseId),r=wM(e.databaseInfo);return AM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,h){return new xM(r,s,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>_T(this.syncEngine,t,0)),(function(){return dT.v()?new dT:new gM})())}createSyncEngine(e,t){return(function(s,a,l,h,f,p,_){const v=new WM(s,a,l,h,f,p);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=_e(t);ne(vo,"RemoteStore shutting down."),r.Ea.add(5),await ac(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gu.provider={build:()=>new Gu};class mL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ms="FirestoreClient";class gL{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ne(ms,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ne(ms,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ey(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _m(n,e){n.asyncQueue.verifyOperationInProgress(),ne(ms,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await eP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function wT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yL(n);ne(ms,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>pT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>pT(e.remoteStore,s))),n._onlineComponents=e}async function yL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne(ms,"Using user provided OfflineComponentProvider");try{await _m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Nu("Error using user provided cache. Falling back to memory cache: "+t),await _m(n,new Hu)}}else ne(ms,"Using default OfflineComponentProvider"),await _m(n,new fL(void 0));return n._offlineComponents}async function SP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne(ms,"Using user provided OnlineComponentProvider"),await wT(n,n._uninitializedComponentsProvider._online)):(ne(ms,"Using default OnlineComponentProvider"),await wT(n,new Gu))),n._onlineComponents}function _L(n){return SP(n).then((e=>e.syncEngine))}async function vL(n){const e=await SP(n),t=e.eventManager;return t.onListen=QM.bind(null,e.syncEngine),t.onUnlisten=JM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=YM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XM.bind(null,e.syncEngine),t}function wL(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const _=new mL({next:E=>{_.Nu(),l.enqueueAndForget((()=>zM(a,v))),E.fromCache&&f.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new qM(h,_,{includeMetadataChanges:!0,Ka:!0});return jM(a,v)})(await vL(n),n.asyncQueue,e,t,r))),r.promise}function EL(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((async()=>ZM(await _L(n),e,t))),t.promise}function AP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const TL="ComponentProvider",ET=new Map;function IL(n,e,t,r,s){return new HO(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,AP(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const SL="firestore.googleapis.com",TT=!0;class IT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SL,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HA)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AP(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ry{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iO;switch(r.type){case"firstParty":return new aO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ET.get(t);r&&(ne(TL,"Removing Datastore"),ET.delete(t),r.terminate())})(this),Promise.resolve()}}class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(tc(t,Ot._jsonSchema))return new Ot(e,r||null,new de(Ke.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:At("string",Ot._jsonSchemaVersion),referencePath:At("string")};class as extends ws{constructor(e,t,r){super(e,t,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new de(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function KF(n,e,...t){if(n=Rn(n),IS("collection","path",e),n instanceof Ry){const r=Ke.fromString(e,...t);return fE(r),new as(n,null,r)}{if(!(n instanceof Ot||n instanceof as))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return fE(r),new as(n.firestore,null,r)}}function AL(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=$g.newId()),IS("doc","path",e),n instanceof Ry){const r=Ke.fromString(e,...t);return dE(r),new Ot(n,null,new de(r))}{if(!(n instanceof Ot||n instanceof as))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return dE(r),new Ot(n.firestore,n instanceof as?n.converter:null,new de(r))}}const ST="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cP(this,"async_queue_retry"),this._c=()=>{const r=td();r&&ne(ST,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=td();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=td();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ni;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ys(e))throw e;ne(ST,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vt("INTERNAL UNHANDLED ERROR: ",PT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=wy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&me(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function PT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Cy extends Ry{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new AT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function PL(n,e,t){t||(t=wd);const r=Vg(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),a=r.getOptions(t);if(uo(a,e))return s;throw new le(Y.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new le(Y.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HA)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&el(e.host)&&x0(e.host),r.initialize({options:e,instanceIdentifier:t})}function PP(n){if(n._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xL(n),n._firestoreClient}function xL(n){const e=n._freezeSettings(),t=IL(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new gL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(wt.fromBase64String(e))}catch(t){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:At("string",Fn._jsonSchemaVersion),bytes:At("string")};class xP{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(tc(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:At("string",Cr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};class er{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new er(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:At("string",er._jsonSchemaVersion),vectorValues:At("object")};const RL=/^__.*__$/;class CL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}function RP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{dataSource:n})}}class ky{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ky({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Vd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(RP(this.dataSource)&&RL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class bL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mf(e)}createContext(e,t,r,s=!1){return new ky({dataSource:e,methodName:t,targetDoc:r,path:dt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CP(n){const e=n._freezeSettings(),t=mf(n._databaseId);return new bL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kL(n,e,t,r,s,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);DP("Data must be an object, but it was:",l,r);const h=bP(r,l);let f,p;if(a.merge)f=new Un(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const _=[];for(const v of a.mergeFields){const E=lc(e,v,t);if(!l.contains(E))throw new le(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);OL(_,E)||_.push(E)}f=new Un(_),p=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=l.fieldTransforms;return new CL(new ln(h),f,p)}class Dy extends by{_toFieldTransform(e){return new yA(e.path,new $a)}isEqual(e){return e instanceof Dy}}function DL(n,e,t,r=!1){return Ny(t,n.createContext(r?4:3,e))}function Ny(n,e){if(kP(n=Rn(n)))return DP("Unsupported field value:",e,n),bP(n,e);if(n instanceof by)return(function(r,s){if(!RP(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const h of r){let f=Ny(h,s.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:Ga(s.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ga(s.serializer,a)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:SA(s.serializer,r._byteString)};if(r instanceof Ot){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ly(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof er)return(function(l,h){const f=l instanceof er?l.toArray():l;return{mapValue:{fields:{[Jg]:{stringValue:Xg},[Ua]:{arrayValue:{values:f.map((_=>{if(typeof _!="number")throw h.createError("VectorValues must only contain numeric values.");return ny(h.serializer,_)}))}}}}}})(r,s);if(OA(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${ef(r)}`)})(n,e)}function bP(n,e){const t={};return zS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,((r,s)=>{const a=Ny(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function kP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof Cr||n instanceof Fn||n instanceof Ot||n instanceof by||n instanceof er||OA(n))}function DP(n,e,t){if(!kP(t)||!SS(t)){const r=ef(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function lc(n,e,t){if((e=Rn(e))instanceof xP)return e._internalPath;if(typeof e=="string")return VL(n,e);throw Vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const NL=new RegExp("[~\\*/\\[\\]]");function VL(n,e,t){if(e.search(NL)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xP(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vd(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new le(Y.INVALID_ARGUMENT,h+n+f)}function OL(n,e){return n.some((t=>t.isEqual(e)))}class ML{convertValue(e,t="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wo(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Ua].arrayValue?.values?.map((r=>ut(r.doubleValue)));return new er(t)}convertGeoPoint(e){return new Cr(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=af(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const t=li(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ke.fromString(e);we(VA(r),9688,{name:e});const s=new po(r.get(1),r.get(3)),a=new de(r.popFirst(5));return s.isEqual(t)||vt(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class LL extends ML{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function WF(){return new Dy("serverTimestamp")}const xT="@firebase/firestore",RT="4.10.0";class NP{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(lc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FL extends NP{data(){return super.data()}}function UL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class Oy extends Vy{}function QF(n,e,...t){let r=[];e instanceof Vy&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof My)).length,h=a.filter((f=>f instanceof vf)).length;if(l>1||l>0&&h>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class vf extends Oy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vf(e,t,r)}_apply(e){const t=this._parse(e);return VP(e._query,t),new ws(e.firestore,e.converter,Xm(e._query,t))}_parse(e){const t=CP(e.firestore);return(function(a,l,h,f,p,_,v){let E;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){bT(v,_);const N=[];for(const x of v)N.push(CT(f,a,x));E={arrayValue:{values:N}}}else E=CT(f,a,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||bT(v,_),E=DL(h,l,v,_==="in"||_==="not-in");return ze.create(p,_,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function YF(n,e,t){const r=e,s=lc("where",n);return vf._create(s,r,t)}class My extends Vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new My(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Je.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const h=a.getFlattenedFilters();for(const f of h)VP(l,f),l=Xm(l,f)})(e._query,t),new ws(e.firestore,e.converter,Xm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ly extends Oy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ly(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $u(a,l)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,s2(e._query,t))}}function JF(n,e="asc"){const t=e,r=lc("orderBy",n);return Ly._create(r,t)}class Fy extends Oy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Fy(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,Id(e._query,this._limit,this._limitType))}}function XF(n){return Fy._create("limit",n,"F")}function CT(n,e,t){if(typeof(t=Rn(t))=="string"){if(t==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(e)&&t.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ke.fromString(t));if(!de.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zu(n,new de(r))}if(t instanceof Ot)return zu(n,t._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(t)}.`)}function bT(n,e){if(!Array.isArray(n)||n.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VP(n,e){const t=(function(s,a){for(const l of s)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function jL(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class zL{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=HL(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function BL(n){return new zL(n)}class $L{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Gu.provider,this._offlineComponentProvider={build:t=>new IP(t,e?.cacheSizeBytes,this.forceOwnership)}}}class qL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Gu.provider,this._offlineComponentProvider={build:t=>new pL(t,e?.cacheSizeBytes)}}}function HL(n){return new $L(n?.forceOwnership)}function GL(){return new qL}class Lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends NP{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ra._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:At("string",Ra._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class nd extends Ra{data(e={}){return super.data(e)}}class Ca{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new nd(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((h=>{const f=new nd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new nd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),_=l.indexOf(h.doc.key)),{type:KL(h.type),doc:f,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:n})}}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:At("string",Ca._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};function ZF(n){n=zm(n,ws);const e=zm(n.firestore,Cy),t=PP(e),r=new LL(e);return UL(n._query),wL(t,n._query).then((s=>new Ca(e,r,n,s)))}function e4(n,e){const t=zm(n.firestore,Cy),r=AL(n),s=jL(n.converter,e),a=CP(n.firestore);return WL(t,[kL(a,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then((()=>r))}function WL(n,e){const t=PP(n);return EL(t,e)}(function(e,t=!0){nO(tl),Da(new co("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new Cy(new sO(r.getProvider("auth-internal")),new lO(l,r.getProvider("app-check-internal")),GO(l,s),l);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),rs(xT,RT,e),rs(xT,RT,"esm2020")})();const QL={apiKey:"AIzaSyCfccug_3K7B7SOM7iU5e8mp_Qmkdd-oow",authDomain:"kids-c368a.firebaseapp.com",projectId:"kids-c368a",storageBucket:"kids-c368a.firebasestorage.app",messagingSenderId:"721834841947",appId:"1:721834841947:web:f2943b388dfaa4f8baac7e"},OP=V0(QL),kT=eO(OP),t4=PL(OP,{localCache:BL({tabManager:GL()})});function YL(){const[n,e]=C.useState(null),[t,r]=C.useState(!0);return C.useEffect(()=>{const s=$N(kT,a=>{e(a),r(!1)});return LN(kT).catch(a=>{console.error("Failed to sign in anonymously:",a),r(!1)}),()=>s()},[]),{user:n,loading:t}}const MP=C.createContext(void 0);function JL({children:n}){const[e,t]=C.useState(()=>{const f=localStorage.getItem("kidszone_muted");return f?JSON.parse(f):!1});C.useEffect(()=>{localStorage.setItem("kidszone_muted",JSON.stringify(e))},[e]),C.useEffect(()=>{const f=()=>{const p=window.AudioContext||window.webkitAudioContext;if(p){const _=new p;_.state==="suspended"&&_.resume();const v=_.createBuffer(1,1,22050),E=_.createBufferSource();E.buffer=v,E.connect(_.destination),E.start(0)}};return document.addEventListener("touchstart",f,{once:!0}),document.addEventListener("click",f,{once:!0}),()=>{document.removeEventListener("touchstart",f),document.removeEventListener("click",f)}},[]);const r=()=>t(!e),s=(f,p,_,v)=>{if(!e)try{const E=window.AudioContext||window.webkitAudioContext;if(!E)return;const S=new E,N=S.createOscillator(),x=S.createGain();N.connect(x),x.connect(S.destination),N.type=f,N.frequency.setValueAtTime(p,S.currentTime),v&&N.frequency.setValueAtTime(v,S.currentTime+.1),x.gain.setValueAtTime(.1,S.currentTime),x.gain.exponentialRampToValueAtTime(1e-5,S.currentTime+_),N.start(),N.stop(S.currentTime+_)}catch(E){console.warn("Audio play failed",E)}},a=()=>s("sine",440,.1),l=()=>{e||s("sine",523.25,.3,659.25)},h=()=>s("sawtooth",200,.3);return $.jsx(MP.Provider,{value:{isMuted:e,toggleMute:r,playClick:a,playCorrect:l,playWrong:h},children:n})}function n4(){const n=C.useContext(MP);if(n===void 0)throw new Error("useSound must be used within a SoundProvider");return n}const LP=C.createContext(void 0),XL="";function ZL({children:n}){const[e,t]=C.useState(()=>{const s=localStorage.getItem("kidszone_user");return s?JSON.parse(s):{name:"",avatar:XL}});C.useEffect(()=>{localStorage.setItem("kidszone_user",JSON.stringify(e))},[e]);const r=(s,a)=>{t({name:s,avatar:a})};return $.jsx(LP.Provider,{value:{profile:e,updateProfile:r},children:n})}function r4(){const n=C.useContext(LP);if(n===void 0)throw new Error("useUser must be used within a UserProvider");return n}const DT=[{id:1,emoji:"",name:"",rarity:""},{id:2,emoji:"",name:"",rarity:""},{id:3,emoji:"",name:"",rarity:""},{id:4,emoji:"",name:"",rarity:""},{id:5,emoji:"",name:"",rarity:""},{id:6,emoji:"",name:"",rarity:""},{id:7,emoji:"",name:"",rarity:""},{id:8,emoji:"",name:"",rarity:""},{id:9,emoji:"",name:"",rarity:""},{id:10,emoji:"",name:"",rarity:""},{id:11,emoji:"",name:"",rarity:""},{id:12,emoji:"",name:"",rarity:""},{id:13,emoji:"",name:"",rarity:""},{id:14,emoji:"",name:"",rarity:""},{id:15,emoji:"",name:"",rarity:""},{id:16,emoji:"",name:"",rarity:""},{id:17,emoji:"",name:"",rarity:""},{id:18,emoji:"",name:"",rarity:""},{id:19,emoji:"",name:"",rarity:""},{id:20,emoji:"",name:"",rarity:""}],FP=C.createContext(void 0),NT="kidszone_stickers_collected",VT="kidszone_stickers_positions",OT="kidszone_user_stats",eF=[{id:"first_win",name:"",criteria:n=>n.gamesPlayed>=1,rewardStickerId:1,description:""},{id:"score_100",name:"",criteria:n=>n.totalScore>=100,rewardStickerId:2,description:" 100 "},{id:"games_5",name:"",criteria:n=>n.gamesPlayed>=5,rewardStickerId:3,description:" 5 "},{id:"score_500",name:"",criteria:n=>n.totalScore>=500,rewardStickerId:19,description:" 500 "}];function tF({children:n}){const[e,t]=C.useState(()=>{const v=localStorage.getItem(NT);return v?JSON.parse(v):[]}),[r,s]=C.useState(()=>{const v=localStorage.getItem(VT);return v?JSON.parse(v):{}}),[a,l]=C.useState(()=>{const v=localStorage.getItem(OT);return v?JSON.parse(v):{totalScore:0,gamesPlayed:0}});C.useEffect(()=>{localStorage.setItem(NT,JSON.stringify(e))},[e]),C.useEffect(()=>{localStorage.setItem(VT,JSON.stringify(r))},[r]),C.useEffect(()=>{localStorage.setItem(OT,JSON.stringify(a))},[a]);const h=v=>{e.includes(v)||t(E=>[...E,v])},f=(v,E,S)=>{s(N=>({...N,[v]:{id:v,x:E,y:S}}))},p=v=>{l(E=>({totalScore:E.totalScore+v,gamesPlayed:E.gamesPlayed+1}))},_=()=>{for(const v of eF)if(v.criteria(a)&&!e.includes(v.rewardStickerId))return h(v.rewardStickerId),DT.find(E=>E.id===v.rewardStickerId)||null;if(a.totalScore>0&&a.totalScore%50===0){const v=DT.filter(E=>!e.includes(E.id));if(v.length>0){const E=v[Math.floor(Math.random()*v.length)];return h(E.id),E}}return null};return $.jsx(FP.Provider,{value:{collectedStickers:e,stickerPositions:r,userStats:a,unlockSticker:h,updateStickerPosition:f,updateStats:p,checkAchievements:_},children:n})}function i4(){const n=C.useContext(FP);if(n===void 0)throw new Error("useSticker must be used within a StickerProvider");return n}function nF(){const n=Math.random()>.3;let e,t,r,s;n?(e=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*10)+1,r=e+t,s="+"):(e=Math.floor(Math.random()*10)+5,t=Math.floor(Math.random()*5)+1,r=e-t,s="-");const a=new Set;for(a.add(r);a.size<4;){const h=r+Math.floor(Math.random()*6)-3;h>=0&&h!==r&&a.add(h)}const l=Array.from(a).sort(()=>.5-Math.random());return{a:e,b:t,op:s,ans:r,options:l}}const vm=[{name:"",hex:"#FF6B6B",id:"red"},{name:"",hex:"#4D96FF",id:"blue"},{name:"",hex:"#6BCB77",id:"green"},{name:"",hex:"#FFD93D",id:"yellow"},{name:"",hex:"#9D4EDD",id:"purple"},{name:"",hex:"#FF9F45",id:"orange"},{name:"",hex:"#FF99CC",id:"pink"},{name:"",hex:"#8D6E63",id:"brown"}];function rF(){const n=vm[Math.floor(Math.random()*vm.length)],e=vm.filter(r=>r.id!==n.id).sort(()=>.5-Math.random()).slice(0,3),t=[n,...e].sort(()=>.5-Math.random());return{target:n,options:t}}const wm=[{word:"Apple",chinese:"",emoji:""},{word:"Dog",chinese:"",emoji:""},{word:"Cat",chinese:"",emoji:""},{word:"Car",chinese:"",emoji:""},{word:"Ball",chinese:"",emoji:""},{word:"Sun",chinese:"",emoji:""},{word:"Book",chinese:"",emoji:""},{word:"Fish",chinese:"",emoji:""},{word:"Tree",chinese:"",emoji:""},{word:"House",chinese:"",emoji:""},{word:"Star",chinese:"",emoji:""},{word:"Moon",chinese:"",emoji:""}];function iF(){const n=wm[Math.floor(Math.random()*wm.length)],e=Math.random()>.5?"emoji-to-word":"word-to-emoji",t=wm.filter(s=>s.word!==n.word).sort(()=>.5-Math.random()).slice(0,3),r=[n,...t].sort(()=>.5-Math.random());return{target:n,options:r,mode:e}}function sF(){const n=[];for(let e=0;e<2;e++)n.push({id:`math-${e}`,type:"math",data:nF()});for(let e=0;e<2;e++)n.push({id:`english-${e}`,type:"english",data:iF()});return n.push({id:"color-0",type:"color",data:rF()}),n.sort(()=>.5-Math.random())}const UP=C.createContext(void 0),MT="kidszone_daily_challenge";function oF({children:n}){const[e,t]=C.useState(()=>{const l=localStorage.getItem(MT),h=new Date().toDateString();if(l){const f=JSON.parse(l);if(f.date===h)return f}return{date:h,questions:[],currentIndex:0,score:0,isCompleted:!1,isStarted:!1}});C.useEffect(()=>{localStorage.setItem(MT,JSON.stringify(e))},[e]);const r=()=>{if(e.isStarted&&e.questions.length>0)return;const l=sF();t(h=>({...h,questions:l,isStarted:!0,currentIndex:0,score:0,isCompleted:!1}))},s=l=>{t(h=>{const f=l?h.score+20:h.score,p=h.currentIndex+1,_=p>=h.questions.length;return{...h,score:f,currentIndex:p,isCompleted:_}})},a=()=>{t({date:new Date().toDateString(),questions:[],currentIndex:0,score:0,isCompleted:!1,isStarted:!1})};return $.jsx(UP.Provider,{value:{state:e,startChallenge:r,answerQuestion:s,resetChallenge:a},children:n})}function s4(){const n=C.useContext(UP);if(n===void 0)throw new Error("useDailyChallenge must be used within a DailyChallengeProvider");return n}const aF=C.lazy(()=>tt(()=>import("./Home-DYHh3GG7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),lF=C.lazy(()=>tt(()=>import("./ColorGame-BOgxWDra.js"),__vite__mapDeps([9,1,10,11,12,3,4,13,2]))),uF=C.lazy(()=>tt(()=>import("./MathGame-Aq28PlPT.js"),__vite__mapDeps([14,1,10,11,12,3,4,13,2,8]))),cF=C.lazy(()=>tt(()=>import("./EnglishGame-DwJHg6qw.js"),__vite__mapDeps([15,1,10,11,12,3,4,13,2]))),hF=C.lazy(()=>tt(()=>import("./ShapeGame-C6KIRDOm.js"),__vite__mapDeps([16,1,10,11,12,3,4,17,2]))),dF=C.lazy(()=>tt(()=>import("./MelodyGame-DcmReCXK.js"),__vite__mapDeps([18,1,10,11,12,3,4,2]))),fF=C.lazy(()=>tt(()=>import("./ClockGame-BTes8osX.js"),__vite__mapDeps([19,1,10,11,12,3,4,2]))),pF=C.lazy(()=>tt(()=>import("./BopomofoGame-DClyAudr.js"),__vite__mapDeps([20,1,10,11,12,3,4,2]))),mF=C.lazy(()=>tt(()=>import("./EmotionGame-B9Cdp9AS.js"),__vite__mapDeps([21,1,10,11,12,3,4,17,2]))),gF=C.lazy(()=>tt(()=>import("./CodingGame-D-X0vmrN.js"),__vite__mapDeps([22,1,10,11,12,3,4,2]))),yF=C.lazy(()=>tt(()=>import("./GardenGame-CvX4A54Z.js"),__vite__mapDeps([23,1,10,11,12,3,4,2,5]))),_F=C.lazy(()=>tt(()=>import("./MarketGame-hy8XBgfH.js"),__vite__mapDeps([24,1,10,11,12,3,4,2,7]))),vF=C.lazy(()=>tt(()=>import("./RecycleGame-DYSAq3BE.js"),__vite__mapDeps([25,1,10,11,12,3,4,2,17]))),wF=C.lazy(()=>tt(()=>import("./MemoryGame-CJJyXUQZ.js"),__vite__mapDeps([26,1,10,11,12,3,4,2]))),EF=C.lazy(()=>tt(()=>import("./AnimalGame-C8fFZ4Po.js"),__vite__mapDeps([27,1,10,11,12,3,4,13,2]))),TF=C.lazy(()=>tt(()=>import("./TrafficGame-CwWyfJZ-.js"),__vite__mapDeps([28,1,10,11,12,3,4,13,2]))),IF=C.lazy(()=>tt(()=>import("./BodyGame-YGPYN3WN.js"),__vite__mapDeps([29,1,10,11,12,3,4,13,2]))),SF=C.lazy(()=>tt(()=>import("./FoodGame-Jsl7-Tig.js"),__vite__mapDeps([30,1,10,11,12,3,4,13,2]))),AF=C.lazy(()=>tt(()=>import("./JobGame-DpuVFW21.js"),__vite__mapDeps([31,1,10,11,12,3,4,13,2]))),PF=C.lazy(()=>tt(()=>import("./PuzzleGame-Cz0bdYFI.js"),__vite__mapDeps([32,1,10,11,12,3,4,17]))),xF=C.lazy(()=>tt(()=>import("./DifferenceGame-ddaJ2yIv.js"),__vite__mapDeps([33,1,10,11,12,3,4]))),RF=C.lazy(()=>tt(()=>import("./SequenceGame-BYMg-T0k.js"),__vite__mapDeps([34,1,10,11,12,3,4,17]))),CF=C.lazy(()=>tt(()=>import("./SortingGame-Cl3Gk__o.js"),__vite__mapDeps([35,1,10,11,12,3,4,17]))),bF=C.lazy(()=>tt(()=>import("./Scores-BX3kqoe1.js"),__vite__mapDeps([36,1,11,12,6]))),kF=C.lazy(()=>tt(()=>import("./Stickers-DcEmDXop.js"),__vite__mapDeps([37,1,17,38]))),DF=C.lazy(()=>tt(()=>import("./Certificates-BV3Am7Cj.js"),__vite__mapDeps([39,1,12,4,2,38]))),NF=C.lazy(()=>tt(()=>import("./DailyChallenge-C6rNijqm.js"),__vite__mapDeps([40,1,10,11,12,3,4,13,2,8])));function VF(){const n="/kids/".replace(/\/$/,"");return $.jsx(C.Suspense,{fallback:$.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))]",children:$.jsx(DI,{className:"w-12 h-12 animate-spin text-[hsl(var(--macaron-purple-dark))]"})}),children:$.jsxs(xR,{children:[$.jsx(Ze,{path:n+"/",component:aF}),$.jsx(Ze,{path:n+"/scores",component:bF}),$.jsx(Ze,{path:n+"/stickers",component:kF}),$.jsx(Ze,{path:n+"/daily",component:NF}),$.jsx(Ze,{path:n+"/game/color",component:lF}),$.jsx(Ze,{path:n+"/game/math",component:uF}),$.jsx(Ze,{path:n+"/game/english",component:cF}),$.jsx(Ze,{path:n+"/game/shape",component:hF}),$.jsx(Ze,{path:n+"/game/melody",component:dF}),$.jsx(Ze,{path:n+"/game/clock",component:fF}),$.jsx(Ze,{path:n+"/game/bopomofo",component:pF}),$.jsx(Ze,{path:n+"/game/emotion",component:mF}),$.jsx(Ze,{path:n+"/game/coding",component:gF}),$.jsx(Ze,{path:n+"/game/garden",component:yF}),$.jsx(Ze,{path:n+"/game/market",component:_F}),$.jsx(Ze,{path:n+"/game/recycle",component:vF}),$.jsx(Ze,{path:n+"/game/memory",component:wF}),$.jsx(Ze,{path:n+"/game/animal",component:EF}),$.jsx(Ze,{path:n+"/game/traffic",component:TF}),$.jsx(Ze,{path:n+"/game/body",component:IF}),$.jsx(Ze,{path:n+"/game/food",component:SF}),$.jsx(Ze,{path:n+"/game/job",component:AF}),$.jsx(Ze,{path:n+"/game/puzzle",component:PF}),$.jsx(Ze,{path:n+"/game/difference",component:xF}),$.jsx(Ze,{path:n+"/game/sequence",component:RF}),$.jsx(Ze,{path:n+"/game/sorting",component:CF}),$.jsx(Ze,{path:n+"/certificates",component:DF}),$.jsx(Ze,{component:vk})]})})}function OF({children:n}){const{loading:e}=YL();return e?$.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))]",children:$.jsx(DI,{className:"w-12 h-12 animate-spin text-[hsl(var(--macaron-purple-dark))]"})}):$.jsx($.Fragment,{children:n})}function MF(){return $.jsx(YR,{client:ZR,children:$.jsxs(hk,{children:[$.jsx(U1,{}),$.jsx(JL,{children:$.jsx(ZL,{children:$.jsx(tF,{children:$.jsx(oF,{children:$.jsx(OF,{children:$.jsx(pk,{children:$.jsx(VF,{})})})})})})})]})})}eR.createRoot(document.getElementById("root")).render($.jsx(MF,{}));export{LF as $,zF as A,kg as B,e4 as C,gg as D,KF as E,t4 as F,QF as G,XF as H,JF as I,YF as J,ZF as K,PR as L,WF as M,FR as N,kR as O,cn as P,cw as Q,t1 as R,DT as S,Yn as T,Fd as U,CR as V,bR as W,r1 as X,YT as Y,BR as Z,NR as _,Wi as a,n4 as a0,hn as b,Wu as c,i4 as d,Ud as e,s4 as f,nF as g,rR as h,ao as i,$ as j,br as k,tr as l,CC as m,jd as n,yg as o,lI as p,Rt as q,C as r,id as s,BF as t,r4 as u,Ld as v,FF as w,xu as x,GR as y,Zt as z};
