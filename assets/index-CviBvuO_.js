const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Dfm4koRE.js","assets/Layout-DWGereyf.js","assets/use-tts-CdUF0GqX.js","assets/confetti.module-CKEGaJVs.js","assets/input-BWSWGmnF.js","assets/sparkles-B6-XDyvG.js","assets/palette-Bv4FvLxn.js","assets/shapes-BnpfI3ta.js","assets/shopping-cart-BiS4YMgx.js","assets/apple-BYMCRf3z.js","assets/ColorGame-CuKSLGBk.js","assets/GameShell-D7iUMIaC.js","assets/use-scores-DGCWyIxn.js","assets/SpeakableOption--oiuaenw.js","assets/MathGame-B2rF44Uq.js","assets/EnglishGame-BRcD69bA.js","assets/ShapeGame-DGqmRdur.js","assets/core.esm-CkJzmFJ3.js","assets/MelodyGame-BgwqdqVi.js","assets/ClockGame-CBNhzMjf.js","assets/BopomofoGame-BxFdyDqF.js","assets/EmotionGame-DS4oUusQ.js","assets/CodingGame-Ca6UZSSr.js","assets/play-Cz7ctb1O.js","assets/GardenGame-cE-8c9uv.js","assets/MarketGame-BqYiYtvy.js","assets/RecycleGame-BpCKviPV.js","assets/MemoryGame-DeeGClC1.js","assets/AnimalGame-kp77mh53.js","assets/TrafficGame-C9BDvwov.js","assets/BodyGame-C5SyPNta.js","assets/FoodGame-DRlz8z-0.js","assets/JobGame-ChBUBZfW.js","assets/PuzzleGame-CCBpOIu0.js","assets/DifferenceGame-Dhk-PDRP.js","assets/SequenceGame-v0AAO-G6.js","assets/SortingGame-DAcXNt9t.js","assets/Scores-ER8OaKOl.js","assets/medal-Bie7sUr_.js","assets/Stickers-XsckYNMN.js","assets/lock-CCboKNY0.js","assets/Certificates-BxYkyTzE.js","assets/download-C5VYn7dp.js","assets/DailyChallenge-IwdpgoOG.js","assets/DrawingGame-CVIVqKbA.js","assets/MoleGame-DfnkOW6S.js"])))=>i.map(i=>d[i]);
function Kx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function XE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tp={exports:{}},Ul={},Ip={exports:{}},Me={};var f_;function Gx(){if(f_)return Me;f_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,P={};function b(j,X,xe){this.props=j,this.context=X,this.refs=P,this.updater=xe||A}b.prototype.isReactComponent={},b.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=b.prototype;function K(j,X,xe){this.props=j,this.context=X,this.refs=P,this.updater=xe||A}var Q=K.prototype=new q;Q.constructor=K,D(Q,b.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray,Z=Object.prototype.hasOwnProperty,re={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(j,X,xe){var Pe,Oe={},Ve=null,Fe=null;if(X!=null)for(Pe in X.ref!==void 0&&(Fe=X.ref),X.key!==void 0&&(Ve=""+X.key),X)Z.call(X,Pe)&&!x.hasOwnProperty(Pe)&&(Oe[Pe]=X[Pe]);var je=arguments.length-2;if(je===1)Oe.children=xe;else if(1<je){for(var We=Array(je),Vt=0;Vt<je;Vt++)We[Vt]=arguments[Vt+2];Oe.children=We}if(j&&j.defaultProps)for(Pe in je=j.defaultProps,je)Oe[Pe]===void 0&&(Oe[Pe]=je[Pe]);return{$$typeof:n,type:j,key:Ve,ref:Fe,props:Oe,_owner:re.current}}function N(j,X){return{$$typeof:n,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function O(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(xe){return X[xe]})}var M=/\/+/g;function R(j,X){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):X.toString(36)}function ae(j,X,xe,Pe,Oe){var Ve=typeof j;(Ve==="undefined"||Ve==="boolean")&&(j=null);var Fe=!1;if(j===null)Fe=!0;else switch(Ve){case"string":case"number":Fe=!0;break;case"object":switch(j.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=j,Oe=Oe(Fe),j=Pe===""?"."+R(Fe,0):Pe,Y(Oe)?(xe="",j!=null&&(xe=j.replace(M,"$&/")+"/"),ae(Oe,X,xe,"",function(Vt){return Vt})):Oe!=null&&(V(Oe)&&(Oe=N(Oe,xe+(!Oe.key||Fe&&Fe.key===Oe.key?"":(""+Oe.key).replace(M,"$&/")+"/")+j)),X.push(Oe)),1;if(Fe=0,Pe=Pe===""?".":Pe+":",Y(j))for(var je=0;je<j.length;je++){Ve=j[je];var We=Pe+R(Ve,je);Fe+=ae(Ve,X,xe,We,Oe)}else if(We=T(j),typeof We=="function")for(j=We.call(j),je=0;!(Ve=j.next()).done;)Ve=Ve.value,We=Pe+R(Ve,je++),Fe+=ae(Ve,X,xe,We,Oe);else if(Ve==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ke(j,X,xe){if(j==null)return j;var Pe=[],Oe=0;return ae(j,Pe,"","",function(Ve){return X.call(xe,Ve,Oe++)}),Pe}function Ae(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(xe){(j._status===0||j._status===-1)&&(j._status=1,j._result=xe)},function(xe){(j._status===0||j._status===-1)&&(j._status=2,j._result=xe)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},J={transition:null},ce={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:J,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:ke,forEach:function(j,X,xe){ke(j,function(){X.apply(this,arguments)},xe)},count:function(j){var X=0;return ke(j,function(){X++}),X},toArray:function(j){return ke(j,function(X){return X})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Me.Component=b,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=K,Me.StrictMode=r,Me.Suspense=f,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Me.act=le,Me.cloneElement=function(j,X,xe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Pe=D({},j.props),Oe=j.key,Ve=j.ref,Fe=j._owner;if(X!=null){if(X.ref!==void 0&&(Ve=X.ref,Fe=re.current),X.key!==void 0&&(Oe=""+X.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(We in X)Z.call(X,We)&&!x.hasOwnProperty(We)&&(Pe[We]=X[We]===void 0&&je!==void 0?je[We]:X[We])}var We=arguments.length-2;if(We===1)Pe.children=xe;else if(1<We){je=Array(We);for(var Vt=0;Vt<We;Vt++)je[Vt]=arguments[Vt+2];Pe.children=je}return{$$typeof:n,type:j.type,key:Oe,ref:Ve,props:Pe,_owner:Fe}},Me.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Me.createElement=S,Me.createFactory=function(j){var X=S.bind(null,j);return X.type=j,X},Me.createRef=function(){return{current:null}},Me.forwardRef=function(j){return{$$typeof:h,render:j}},Me.isValidElement=V,Me.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Ae}},Me.memo=function(j,X){return{$$typeof:p,type:j,compare:X===void 0?null:X}},Me.startTransition=function(j){var X=J.transition;J.transition={};try{j()}finally{J.transition=X}},Me.unstable_act=le,Me.useCallback=function(j,X){return Te.current.useCallback(j,X)},Me.useContext=function(j){return Te.current.useContext(j)},Me.useDebugValue=function(){},Me.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},Me.useEffect=function(j,X){return Te.current.useEffect(j,X)},Me.useId=function(){return Te.current.useId()},Me.useImperativeHandle=function(j,X,xe){return Te.current.useImperativeHandle(j,X,xe)},Me.useInsertionEffect=function(j,X){return Te.current.useInsertionEffect(j,X)},Me.useLayoutEffect=function(j,X){return Te.current.useLayoutEffect(j,X)},Me.useMemo=function(j,X){return Te.current.useMemo(j,X)},Me.useReducer=function(j,X,xe){return Te.current.useReducer(j,X,xe)},Me.useRef=function(j){return Te.current.useRef(j)},Me.useState=function(j){return Te.current.useState(j)},Me.useSyncExternalStore=function(j,X,xe){return Te.current.useSyncExternalStore(j,X,xe)},Me.useTransition=function(){return Te.current.useTransition()},Me.version="18.3.1",Me}var p_;function vd(){return p_||(p_=1,Ip.exports=Gx()),Ip.exports}var m_;function Wx(){if(m_)return Ul;m_=1;var n=vd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,_={},T=null,A=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:A,props:_,_owner:s.current}}return Ul.Fragment=t,Ul.jsx=u,Ul.jsxs=u,Ul}var g_;function Qx(){return g_||(g_=1,Tp.exports=Wx()),Tp.exports}var B=Qx(),sh={},Sp={exports:{}},sn={},Ap={exports:{}},xp={};var y_;function Yx(){return y_||(y_=1,(function(n){function e(J,ce){var le=J.length;J.push(ce);e:for(;0<le;){var j=le-1>>>1,X=J[j];if(0<s(X,ce))J[j]=ce,J[le]=X,le=j;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],le=J.pop();if(le!==ce){J[0]=le;e:for(var j=0,X=J.length,xe=X>>>1;j<xe;){var Pe=2*(j+1)-1,Oe=J[Pe],Ve=Pe+1,Fe=J[Ve];if(0>s(Oe,le))Ve<X&&0>s(Fe,Oe)?(J[j]=Fe,J[Ve]=le,j=Ve):(J[j]=Oe,J[Pe]=le,j=Pe);else if(Ve<X&&0>s(Fe,le))J[j]=Fe,J[Ve]=le,j=Ve;else break e}}return ce}function s(J,ce){var le=J.sortIndex-ce.sortIndex;return le!==0?le:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,_=null,T=3,A=!1,D=!1,P=!1,b=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(J){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=J)r(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(p)}}function Y(J){if(P=!1,Q(J),!D)if(t(f)!==null)D=!0,Ae(Z);else{var ce=t(p);ce!==null&&Te(Y,ce.startTime-J)}}function Z(J,ce){D=!1,P&&(P=!1,q(S),S=-1),A=!0;var le=T;try{for(Q(ce),_=t(f);_!==null&&(!(_.expirationTime>ce)||J&&!O());){var j=_.callback;if(typeof j=="function"){_.callback=null,T=_.priorityLevel;var X=j(_.expirationTime<=ce);ce=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(f)&&r(f),Q(ce)}else r(f);_=t(f)}if(_!==null)var xe=!0;else{var Pe=t(p);Pe!==null&&Te(Y,Pe.startTime-ce),xe=!1}return xe}finally{_=null,T=le,A=!1}}var re=!1,x=null,S=-1,N=5,V=-1;function O(){return!(n.unstable_now()-V<N)}function M(){if(x!==null){var J=n.unstable_now();V=J;var ce=!0;try{ce=x(!0,J)}finally{ce?R():(re=!1,x=null)}}else re=!1}var R;if(typeof K=="function")R=function(){K(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ke=ae.port2;ae.port1.onmessage=M,R=function(){ke.postMessage(null)}}else R=function(){b(M,0)};function Ae(J){x=J,re||(re=!0,R())}function Te(J,ce){S=b(function(){J(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,Ae(Z))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(J){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var le=T;T=ce;try{return J()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=T;T=J;try{return ce()}finally{T=le}},n.unstable_scheduleCallback=function(J,ce,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,J){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,J={id:v++,callback:ce,priorityLevel:J,startTime:le,expirationTime:X,sortIndex:-1},le>j?(J.sortIndex=le,e(p,J),t(f)===null&&J===t(p)&&(P?(q(S),S=-1):P=!0,Te(Y,le-j))):(J.sortIndex=X,e(f,J),D||A||(D=!0,Ae(Z))),J},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(J){var ce=T;return function(){var le=T;T=ce;try{return J.apply(this,arguments)}finally{T=le}}}})(xp)),xp}var v_;function Jx(){return v_||(v_=1,Ap.exports=Yx()),Ap.exports}var __;function Xx(){if(__)return sn;__=1;var n=vd(),e=Jx();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function T(i){return f.call(_,i)?!0:f.call(v,i)?!1:p.test(i)?_[i]=!0:(v[i]=!0,!1)}function A(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,o,l,d){if(o===null||typeof o>"u"||A(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,l,d,m,g,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=g,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(q,K);b[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(q,K);b[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(q,K);b[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,o,l,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,l,m,d)&&(l=null),d||m===null?T(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),re=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),J=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,j;function X(i){if(j===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var xe=!1;function Pe(i,o){if(!i||xe)return"";xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){d=G}i.call(o.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),g=d.stack.split(`
`),E=m.length-1,k=g.length-1;1<=E&&0<=k&&m[E]!==g[k];)k--;for(;1<=E&&0<=k;E--,k--)if(m[E]!==g[k]){if(E!==1||k!==1)do if(E--,k--,0>k||m[E]!==g[k]){var L=`
`+m[E].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=E&&0<=k);break}}}finally{xe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Oe(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case re:return"Portal";case N:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ke:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case Ae:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vt(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function si(i){i._valueTracker||(i._valueTracker=Vt(i))}function us(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function cn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ho(i,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hu(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function fo(i,o){o=o.checked,o!=null&&Q(i,"checked",o,!1)}function cs(i,o){fo(i,o);var l=je(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?_t(i,o.type,l):o.hasOwnProperty("defaultValue")&&_t(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ga(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function _t(i,o,l){(o!=="number"||cn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var pt=Array.isArray;function Vn(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Wa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qa(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(pt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function qu(i,o){var l=je(o.value),d=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function oi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ya(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ya(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ai,Ku=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ai.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function hs(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gu=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(i){Gu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),li[o]=li[i]})});function ui(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||li.hasOwnProperty(i)&&li[i]?(""+o).trim():o+"px"}function mo(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ui(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Ja=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(i,o){if(o){if(Ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function go(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function yo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cr=null,br=null,ht=null;function Xa(i){if(i=Al(i)){if(typeof Cr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=wc(o),Cr(i.stateNode,i.type,o))}}function hi(i){br?ht?ht.push(i):ht=[i]:br=i}function di(){if(br){var i=br,o=ht;if(ht=br=null,Xa(i),o)for(i=0;i<o.length;i++)Xa(o[i])}}function Wu(i,o){return i(o)}function Qu(){}var Zn=!1;function Yu(i,o,l){if(Zn)return i(o,l);Zn=!0;try{return Wu(i,o,l)}finally{Zn=!1,(br!==null||ht!==null)&&(Qu(),di())}}function ds(i,o){var l=i.stateNode;if(l===null)return null;var d=wc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var fi=!1;if(h)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){fi=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{fi=!1}function Ju(i,o,l,d,m,g,E,k,L){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(te){this.onError(te)}}var kr=!1,er=null,vo=!1,Sn=null,Xu={onError:function(i){kr=!0,er=i}};function Zu(i,o,l,d,m,g,E,k,L){kr=!1,er=null,Ju.apply(Xu,arguments)}function Za(i,o,l,d,m,g,E,k,L){if(Zu.apply(this,arguments),kr){if(kr){var G=er;kr=!1,er=null}else throw Error(t(198));vo||(vo=!0,Sn=G)}}function Ln(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function el(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ec(i){if(Ln(i)!==i)throw Error(t(188))}function tc(i){var o=i.alternate;if(!o){if(o=Ln(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return ec(m),i;if(g===d)return ec(m),o;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=g;else{for(var E=!1,k=m.child;k;){if(k===l){E=!0,l=m,d=g;break}if(k===d){E=!0,d=m,l=g;break}k=k.sibling}if(!E){for(k=g.child;k;){if(k===l){E=!0,l=g,d=m;break}if(k===d){E=!0,d=g,l=m;break}k=k.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function nc(i){return i=tc(i),i!==null?fs(i):null}function fs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=fs(i);if(o!==null)return o;i=i.sibling}return null}var tl=e.unstable_scheduleCallback,_o=e.unstable_cancelCallback,ps=e.unstable_shouldYield,Nr=e.unstable_requestPaint,tt=e.unstable_now,Xd=e.unstable_getCurrentPriorityLevel,wo=e.unstable_ImmediatePriority,nl=e.unstable_UserBlockingPriority,ms=e.unstable_NormalPriority,rl=e.unstable_LowPriority,Eo=e.unstable_IdlePriority,gs=null,hn=null;function rc(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(gs,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:ys,tr=Math.log,An=Math.LN2;function ys(i){return i>>>=0,i===0?32:31-(tr(i)/An|0)|0}var nr=64,mi=4194304;function Ke(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dr(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,g=i.pingedLanes,E=l&268435455;if(E!==0){var k=E&~m;k!==0?d=Ke(k):(g&=E,g!==0&&(d=Ke(g)))}else E=l&~m,E!==0?d=Ke(E):g!==0&&(d=Ke(g));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,g=o&-o,m>=g||m===16&&(g&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-dn(o),m=1<<l,d|=i[l],o&=~m;return d}function vs(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes;0<g;){var E=31-dn(g),k=1<<E,L=m[E];L===-1?((k&l)===0||(k&d)!==0)&&(m[E]=vs(k,o)):L<=o&&(i.expiredLanes|=k),g&=~k}}function il(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function sl(){var i=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),i}function ol(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ws(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=l}function Zd(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-dn(l),g=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~g}}function al(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-dn(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var ze=0;function rr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ll,To,ul,cl,hl,ir=!1,Io=[],sr=null,or=null,Mt=null,Es=new Map,Or=new Map,fn=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gi(i,o){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Es.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(o.pointerId)}}function Fn(i,o,l,d,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[m]},o!==null&&(o=Al(o),o!==null&&To(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function sc(i,o,l,d,m){switch(o){case"focusin":return sr=Fn(sr,i,o,l,d,m),!0;case"dragenter":return or=Fn(or,i,o,l,d,m),!0;case"mouseover":return Mt=Fn(Mt,i,o,l,d,m),!0;case"pointerover":var g=m.pointerId;return Es.set(g,Fn(Es.get(g)||null,i,o,l,d,m)),!0;case"gotpointercapture":return g=m.pointerId,Or.set(g,Fn(Or.get(g)||null,i,o,l,d,m)),!0}return!1}function So(i){var o=As(i.target);if(o!==null){var l=Ln(o);if(l!==null){if(o=l.tag,o===13){if(o=el(l),o!==null){i.blockedOn=o,hl(i.priority,function(){ul(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ze(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ao(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ci=d,l.target.dispatchEvent(d),ci=null}else return o=Al(l),o!==null&&To(o),i.blockedOn=l,!1;o.shift()}return!0}function oc(i,o,l){Ze(i)&&l.delete(o)}function ef(){ir=!1,sr!==null&&Ze(sr)&&(sr=null),or!==null&&Ze(or)&&(or=null),Mt!==null&&Ze(Mt)&&(Mt=null),Es.forEach(oc),Or.forEach(oc)}function yi(i,o){i.blockedOn===o&&(i.blockedOn=null,ir||(ir=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ef)))}function vi(i){function o(m){return yi(m,i)}if(0<Io.length){yi(Io[0],i);for(var l=1;l<Io.length;l++){var d=Io[l];d.blockedOn===i&&(d.blockedOn=null)}}for(sr!==null&&yi(sr,i),or!==null&&yi(or,i),Mt!==null&&yi(Mt,i),Es.forEach(o),Or.forEach(o),l=0;l<fn.length;l++)d=fn[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<fn.length&&(l=fn[0],l.blockedOn===null);)So(l),l.blockedOn===null&&fn.shift()}var Vr=Y.ReactCurrentBatchConfig,Mr=!0;function ar(i,o,l,d){var m=ze,g=Vr.transition;Vr.transition=null;try{ze=1,dl(i,o,l,d)}finally{ze=m,Vr.transition=g}}function ac(i,o,l,d){var m=ze,g=Vr.transition;Vr.transition=null;try{ze=4,dl(i,o,l,d)}finally{ze=m,Vr.transition=g}}function dl(i,o,l,d){if(Mr){var m=Ao(i,o,l,d);if(m===null)df(i,o,d,lr,l),gi(i,d);else if(sc(m,i,o,l,d))d.stopPropagation();else if(gi(i,d),o&4&&-1<ic.indexOf(i)){for(;m!==null;){var g=Al(m);if(g!==null&&ll(g),g=Ao(i,o,l,d),g===null&&df(i,o,d,lr,l),g===m)break;m=g}m!==null&&d.stopPropagation()}else df(i,o,d,null,l)}}var lr=null;function Ao(i,o,l,d){if(lr=null,i=yo(d),i=As(i),i!==null)if(o=Ln(i),o===null)i=null;else if(l=o.tag,l===13){if(i=el(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return lr=i,null}function xo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xd()){case wo:return 1;case nl:return 4;case ms:case rl:return 16;case Eo:return 536870912;default:return 16}default:return 16}}var pn=null,Po=null,Lr=null;function lc(){if(Lr)return Lr;var i,o=Po,l=o.length,d,m="value"in pn?pn.value:pn.textContent,g=m.length;for(i=0;i<l&&o[i]===m[i];i++);var E=l-i;for(d=1;d<=E&&o[l-d]===m[g-d];d++);return Lr=m.slice(i,1<d?1-d:void 0)}function Ts(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ur(){return!0}function fl(){return!1}function zt(i){function o(l,d,m,g,E){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:fl,this.isPropagationStopped=fl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=zt(cr),_i=le({},cr,{view:0,detail:0}),Ro=zt(_i),Co,bo,mn,Ss=le({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ne,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mn&&(mn&&i.type==="mousemove"?(Co=i.screenX-mn.screenX,bo=i.screenY-mn.screenY):bo=Co=0,mn=i),Co)},movementY:function(i){return"movementY"in i?i.movementY:bo}}),pl=zt(Ss),uc=le({},Ss,{dataTransfer:0}),cc=zt(uc),ko=le({},_i,{relatedTarget:0}),Lt=zt(ko),hc=le({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=zt(hc),wi=le({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=zt(wi),y=le({},cr,{data:0}),w=zt(y),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=W[i])?!!o[i]:!1}function Ne(){return ue}var mt=le({},_i,{key:function(i){if(i.key){var o=I[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ts(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ne,charCode:function(i){return i.type==="keypress"?Ts(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ts(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qe=zt(mt),wt=le({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gn=zt(wt),Fr=le({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ne}),hr=zt(Fr),dr=le({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=zt(dr),ml=le({},Ss,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=zt(ml),zA=[9,13,27,32],tf=h&&"CompositionEvent"in window,gl=null;h&&"documentMode"in document&&(gl=document.documentMode);var BA=h&&"TextEvent"in window&&!gl,sy=h&&(!tf||gl&&8<gl&&11>=gl),oy=" ",ay=!1;function ly(i,o){switch(i){case"keyup":return zA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function $A(i,o){switch(i){case"compositionend":return uy(o);case"keypress":return o.which!==32?null:(ay=!0,oy);case"textInput":return i=o.data,i===oy&&ay?null:i;default:return null}}function HA(i,o){if(Do)return i==="compositionend"||!tf&&ly(i,o)?(i=lc(),Lr=Po=pn=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sy&&o.locale!=="ko"?null:o.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qA[i.type]:o==="textarea"}function hy(i,o,l,d){hi(d),o=yc(o,"onChange"),0<o.length&&(l=new Is("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var yl=null,vl=null;function KA(i){Cy(i,0)}function fc(i){var o=Fo(i);if(us(o))return i}function GA(i,o){if(i==="change")return o}var dy=!1;if(h){var nf;if(h){var rf="oninput"in document;if(!rf){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),rf=typeof fy.oninput=="function"}nf=rf}else nf=!1;dy=nf&&(!document.documentMode||9<document.documentMode)}function py(){yl&&(yl.detachEvent("onpropertychange",my),vl=yl=null)}function my(i){if(i.propertyName==="value"&&fc(vl)){var o=[];hy(o,vl,i,yo(i)),Yu(KA,o)}}function WA(i,o,l){i==="focusin"?(py(),yl=o,vl=l,yl.attachEvent("onpropertychange",my)):i==="focusout"&&py()}function QA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fc(vl)}function YA(i,o){if(i==="click")return fc(o)}function JA(i,o){if(i==="input"||i==="change")return fc(o)}function XA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var jn=typeof Object.is=="function"?Object.is:XA;function _l(i,o){if(jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!jn(i[m],o[m]))return!1}return!0}function gy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yy(i,o){var l=gy(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gy(l)}}function vy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function _y(){for(var i=window,o=cn();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=cn(i.document)}return o}function sf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ZA(i){var o=_y(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&vy(l.ownerDocument.documentElement,l)){if(d!==null&&sf(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,g=Math.min(d.start,m);d=d.end===void 0?g:Math.min(d.end,m),!i.extend&&g>d&&(m=d,d=g,g=m),m=yy(l,g);var E=yy(l,d);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),g>d?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ex=h&&"documentMode"in document&&11>=document.documentMode,Oo=null,of=null,wl=null,af=!1;function wy(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;af||Oo==null||Oo!==cn(d)||(d=Oo,"selectionStart"in d&&sf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wl&&_l(wl,d)||(wl=d,d=yc(of,"onSelect"),0<d.length&&(o=new Is("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Oo)))}function pc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Vo={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},lf={},Ey={};h&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function mc(i){if(lf[i])return lf[i];if(!Vo[i])return i;var o=Vo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Ey)return lf[i]=o[l];return i}var Ty=mc("animationend"),Iy=mc("animationiteration"),Sy=mc("animationstart"),Ay=mc("transitionend"),xy=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(i,o){xy.set(i,o),a(o,[i])}for(var uf=0;uf<Py.length;uf++){var cf=Py[uf],tx=cf.toLowerCase(),nx=cf[0].toUpperCase()+cf.slice(1);Ei(tx,"on"+nx)}Ei(Ty,"onAnimationEnd"),Ei(Iy,"onAnimationIteration"),Ei(Sy,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Ay,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Ry(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Za(d,o,void 0,i),i.currentTarget=null}function Cy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var E=d.length-1;0<=E;E--){var k=d[E],L=k.instance,G=k.currentTarget;if(k=k.listener,L!==g&&m.isPropagationStopped())break e;Ry(m,k,G),g=L}else for(E=0;E<d.length;E++){if(k=d[E],L=k.instance,G=k.currentTarget,k=k.listener,L!==g&&m.isPropagationStopped())break e;Ry(m,k,G),g=L}}}if(vo)throw i=Sn,vo=!1,Sn=null,i}function nt(i,o){var l=o[vf];l===void 0&&(l=o[vf]=new Set);var d=i+"__bubble";l.has(d)||(by(o,i,2,!1),l.add(d))}function hf(i,o,l){var d=0;o&&(d|=4),by(l,i,d,o)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Tl(i){if(!i[gc]){i[gc]=!0,r.forEach(function(l){l!=="selectionchange"&&(rx.has(l)||hf(l,!1,i),hf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[gc]||(o[gc]=!0,hf("selectionchange",!1,o))}}function by(i,o,l,d){switch(xo(o)){case 1:var m=ar;break;case 4:m=ac;break;default:m=dl}l=m.bind(null,o,l,i),m=void 0,!fi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function df(i,o,l,d,m){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;E=E.return}for(;k!==null;){if(E=As(k),E===null)return;if(L=E.tag,L===5||L===6){d=g=E;continue e}k=k.parentNode}}d=d.return}Yu(function(){var G=g,te=yo(l),ie=[];e:{var ee=xy.get(i);if(ee!==void 0){var de=Is,pe=i;switch(i){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":de=Qe;break;case"focusin":pe="focus",de=Lt;break;case"focusout":pe="blur",de=Lt;break;case"beforeblur":case"afterblur":de=Lt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=hr;break;case Ty:case Iy:case Sy:de=dc;break;case Ay:de=No;break;case"scroll":de=Ro;break;case"wheel":de=UA;break;case"copy":case"cut":case"paste":de=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=gn}var me=(o&4)!==0,gt=!me&&i==="scroll",U=me?ee!==null?ee+"Capture":null:ee;me=[];for(var F=G,H;F!==null;){H=F;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,U!==null&&(oe=ds(F,U),oe!=null&&me.push(Il(F,oe,H)))),gt)break;F=F.return}0<me.length&&(ee=new de(ee,pe,null,l,te),ie.push({event:ee,listeners:me}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ee&&l!==ci&&(pe=l.relatedTarget||l.fromElement)&&(As(pe)||pe[jr]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(pe=l.relatedTarget||l.toElement,de=G,pe=pe?As(pe):null,pe!==null&&(gt=Ln(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=G),de!==pe)){if(me=pl,oe="onMouseLeave",U="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(me=gn,oe="onPointerLeave",U="onPointerEnter",F="pointer"),gt=de==null?ee:Fo(de),H=pe==null?ee:Fo(pe),ee=new me(oe,F+"leave",de,l,te),ee.target=gt,ee.relatedTarget=H,oe=null,As(te)===G&&(me=new me(U,F+"enter",pe,l,te),me.target=H,me.relatedTarget=gt,oe=me),gt=oe,de&&pe)t:{for(me=de,U=pe,F=0,H=me;H;H=Mo(H))F++;for(H=0,oe=U;oe;oe=Mo(oe))H++;for(;0<F-H;)me=Mo(me),F--;for(;0<H-F;)U=Mo(U),H--;for(;F--;){if(me===U||U!==null&&me===U.alternate)break t;me=Mo(me),U=Mo(U)}me=null}else me=null;de!==null&&ky(ie,ee,de,me,!1),pe!==null&&gt!==null&&ky(ie,gt,pe,me,!0)}}e:{if(ee=G?Fo(G):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ve=GA;else if(cy(ee))if(dy)ve=JA;else{ve=QA;var Ie=WA}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=YA);if(ve&&(ve=ve(i,G))){hy(ie,ve,l,te);break e}Ie&&Ie(i,ee,G),i==="focusout"&&(Ie=ee._wrapperState)&&Ie.controlled&&ee.type==="number"&&_t(ee,"number",ee.value)}switch(Ie=G?Fo(G):window,i){case"focusin":(cy(Ie)||Ie.contentEditable==="true")&&(Oo=Ie,of=G,wl=null);break;case"focusout":wl=of=Oo=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,wy(ie,l,te);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":wy(ie,l,te)}var Se;if(tf)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Do?ly(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(sy&&l.locale!=="ko"&&(Do||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Do&&(Se=lc()):(pn=te,Po="value"in pn?pn.value:pn.textContent,Do=!0)),Ie=yc(G,Re),0<Ie.length&&(Re=new w(Re,i,null,l,te),ie.push({event:Re,listeners:Ie}),Se?Re.data=Se:(Se=uy(l),Se!==null&&(Re.data=Se)))),(Se=BA?$A(i,l):HA(i,l))&&(G=yc(G,"onBeforeInput"),0<G.length&&(te=new w("onBeforeInput","beforeinput",null,l,te),ie.push({event:te,listeners:G}),te.data=Se))}Cy(ie,o)})}function Il(i,o,l){return{instance:i,listener:o,currentTarget:l}}function yc(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=ds(i,l),g!=null&&d.unshift(Il(i,g,m)),g=ds(i,o),g!=null&&d.push(Il(i,g,m))),i=i.return}return d}function Mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ky(i,o,l,d,m){for(var g=o._reactName,E=[];l!==null&&l!==d;){var k=l,L=k.alternate,G=k.stateNode;if(L!==null&&L===d)break;k.tag===5&&G!==null&&(k=G,m?(L=ds(l,g),L!=null&&E.unshift(Il(l,L,k))):m||(L=ds(l,g),L!=null&&E.push(Il(l,L,k)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var ix=/\r\n?/g,sx=/\u0000|\uFFFD/g;function Ny(i){return(typeof i=="string"?i:""+i).replace(ix,`
`).replace(sx,"")}function vc(i,o,l){if(o=Ny(o),Ny(i)!==o&&l)throw Error(t(425))}function _c(){}var ff=null,pf=null;function mf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(i){return Dy.resolve(null).then(i).catch(lx)}:gf;function lx(i){setTimeout(function(){throw i})}function yf(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),vi(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);vi(o)}function Ti(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Oy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),fr="__reactFiber$"+Lo,Sl="__reactProps$"+Lo,jr="__reactContainer$"+Lo,vf="__reactEvents$"+Lo,ux="__reactListeners$"+Lo,cx="__reactHandles$"+Lo;function As(i){var o=i[fr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[jr]||l[fr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Oy(i);i!==null;){if(l=i[fr])return l;i=Oy(i)}return o}i=l,l=i.parentNode}return null}function Al(i){return i=i[fr]||i[jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function wc(i){return i[Sl]||null}var _f=[],jo=-1;function Ii(i){return{current:i}}function rt(i){0>jo||(i.current=_f[jo],_f[jo]=null,jo--)}function et(i,o){jo++,_f[jo]=i.current,i.current=o}var Si={},Bt=Ii(Si),Zt=Ii(!1),xs=Si;function Uo(i,o){var l=i.type.contextTypes;if(!l)return Si;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in l)m[g]=o[g];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function en(i){return i=i.childContextTypes,i!=null}function Ec(){rt(Zt),rt(Bt)}function Vy(i,o,l){if(Bt.current!==Si)throw Error(t(168));et(Bt,o),et(Zt,l)}function My(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Fe(i)||"Unknown",m));return le({},l,d)}function Tc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Si,xs=Bt.current,et(Bt,i),et(Zt,Zt.current),!0}function Ly(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=My(i,o,xs),d.__reactInternalMemoizedMergedChildContext=i,rt(Zt),rt(Bt),et(Bt,i)):rt(Zt),et(Zt,l)}var Ur=null,Ic=!1,wf=!1;function Fy(i){Ur===null?Ur=[i]:Ur.push(i)}function hx(i){Ic=!0,Fy(i)}function Ai(){if(!wf&&Ur!==null){wf=!0;var i=0,o=ze;try{var l=Ur;for(ze=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Ur=null,Ic=!1}catch(m){throw Ur!==null&&(Ur=Ur.slice(i+1)),tl(wo,Ai),m}finally{ze=o,wf=!1}}return null}var zo=[],Bo=0,Sc=null,Ac=0,xn=[],Pn=0,Ps=null,zr=1,Br="";function Rs(i,o){zo[Bo++]=Ac,zo[Bo++]=Sc,Sc=i,Ac=o}function jy(i,o,l){xn[Pn++]=zr,xn[Pn++]=Br,xn[Pn++]=Ps,Ps=i;var d=zr;i=Br;var m=32-dn(d)-1;d&=~(1<<m),l+=1;var g=32-dn(o)+m;if(30<g){var E=m-m%5;g=(d&(1<<E)-1).toString(32),d>>=E,m-=E,zr=1<<32-dn(o)+m|l<<m|d,Br=g+i}else zr=1<<g|l<<m|d,Br=i}function Ef(i){i.return!==null&&(Rs(i,1),jy(i,1,0))}function Tf(i){for(;i===Sc;)Sc=zo[--Bo],zo[Bo]=null,Ac=zo[--Bo],zo[Bo]=null;for(;i===Ps;)Ps=xn[--Pn],xn[Pn]=null,Br=xn[--Pn],xn[Pn]=null,zr=xn[--Pn],xn[Pn]=null}var yn=null,vn=null,at=!1,Un=null;function Uy(i,o){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function zy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,yn=i,vn=Ti(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,yn=i,vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ps!==null?{id:zr,overflow:Br}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,yn=i,vn=null,!0):!1;default:return!1}}function If(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Sf(i){if(at){var o=vn;if(o){var l=o;if(!zy(i,o)){if(If(i))throw Error(t(418));o=Ti(l.nextSibling);var d=yn;o&&zy(i,o)?Uy(d,l):(i.flags=i.flags&-4097|2,at=!1,yn=i)}}else{if(If(i))throw Error(t(418));i.flags=i.flags&-4097|2,at=!1,yn=i}}}function By(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function xc(i){if(i!==yn)return!1;if(!at)return By(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!mf(i.type,i.memoizedProps)),o&&(o=vn)){if(If(i))throw $y(),Error(t(418));for(;o;)Uy(i,o),o=Ti(o.nextSibling)}if(By(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){vn=Ti(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}vn=null}}else vn=yn?Ti(i.stateNode.nextSibling):null;return!0}function $y(){for(var i=vn;i;)i=Ti(i.nextSibling)}function $o(){vn=yn=null,at=!1}function Af(i){Un===null?Un=[i]:Un.push(i)}var dx=Y.ReactCurrentBatchConfig;function xl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,g=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(E){var k=m.refs;E===null?delete k[g]:k[g]=E},o._stringRef=g,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Pc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Hy(i){var o=i._init;return o(i._payload)}function qy(i){function o(U,F){if(i){var H=U.deletions;H===null?(U.deletions=[F],U.flags|=16):H.push(F)}}function l(U,F){if(!i)return null;for(;F!==null;)o(U,F),F=F.sibling;return null}function d(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(U,F){return U=Di(U,F),U.index=0,U.sibling=null,U}function g(U,F,H){return U.index=H,i?(H=U.alternate,H!==null?(H=H.index,H<F?(U.flags|=2,F):H):(U.flags|=2,F)):(U.flags|=1048576,F)}function E(U){return i&&U.alternate===null&&(U.flags|=2),U}function k(U,F,H,oe){return F===null||F.tag!==6?(F=gp(H,U.mode,oe),F.return=U,F):(F=m(F,H),F.return=U,F)}function L(U,F,H,oe){var ve=H.type;return ve===x?te(U,F,H.props.children,oe,H.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ae&&Hy(ve)===F.type)?(oe=m(F,H.props),oe.ref=xl(U,F,H),oe.return=U,oe):(oe=Jc(H.type,H.key,H.props,null,U.mode,oe),oe.ref=xl(U,F,H),oe.return=U,oe)}function G(U,F,H,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=yp(H,U.mode,oe),F.return=U,F):(F=m(F,H.children||[]),F.return=U,F)}function te(U,F,H,oe,ve){return F===null||F.tag!==7?(F=Ms(H,U.mode,oe,ve),F.return=U,F):(F=m(F,H),F.return=U,F)}function ie(U,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=gp(""+F,U.mode,H),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Z:return H=Jc(F.type,F.key,F.props,null,U.mode,H),H.ref=xl(U,null,F),H.return=U,H;case re:return F=yp(F,U.mode,H),F.return=U,F;case Ae:var oe=F._init;return ie(U,oe(F._payload),H)}if(pt(F)||ce(F))return F=Ms(F,U.mode,H,null),F.return=U,F;Pc(U,F)}return null}function ee(U,F,H,oe){var ve=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:k(U,F,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:return H.key===ve?L(U,F,H,oe):null;case re:return H.key===ve?G(U,F,H,oe):null;case Ae:return ve=H._init,ee(U,F,ve(H._payload),oe)}if(pt(H)||ce(H))return ve!==null?null:te(U,F,H,oe,null);Pc(U,H)}return null}function de(U,F,H,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return U=U.get(H)||null,k(F,U,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Z:return U=U.get(oe.key===null?H:oe.key)||null,L(F,U,oe,ve);case re:return U=U.get(oe.key===null?H:oe.key)||null,G(F,U,oe,ve);case Ae:var Ie=oe._init;return de(U,F,H,Ie(oe._payload),ve)}if(pt(oe)||ce(oe))return U=U.get(H)||null,te(F,U,oe,ve,null);Pc(F,oe)}return null}function pe(U,F,H,oe){for(var ve=null,Ie=null,Se=F,Re=F=0,Nt=null;Se!==null&&Re<H.length;Re++){Se.index>Re?(Nt=Se,Se=null):Nt=Se.sibling;var qe=ee(U,Se,H[Re],oe);if(qe===null){Se===null&&(Se=Nt);break}i&&Se&&qe.alternate===null&&o(U,Se),F=g(qe,F,Re),Ie===null?ve=qe:Ie.sibling=qe,Ie=qe,Se=Nt}if(Re===H.length)return l(U,Se),at&&Rs(U,Re),ve;if(Se===null){for(;Re<H.length;Re++)Se=ie(U,H[Re],oe),Se!==null&&(F=g(Se,F,Re),Ie===null?ve=Se:Ie.sibling=Se,Ie=Se);return at&&Rs(U,Re),ve}for(Se=d(U,Se);Re<H.length;Re++)Nt=de(Se,U,Re,H[Re],oe),Nt!==null&&(i&&Nt.alternate!==null&&Se.delete(Nt.key===null?Re:Nt.key),F=g(Nt,F,Re),Ie===null?ve=Nt:Ie.sibling=Nt,Ie=Nt);return i&&Se.forEach(function(Oi){return o(U,Oi)}),at&&Rs(U,Re),ve}function me(U,F,H,oe){var ve=ce(H);if(typeof ve!="function")throw Error(t(150));if(H=ve.call(H),H==null)throw Error(t(151));for(var Ie=ve=null,Se=F,Re=F=0,Nt=null,qe=H.next();Se!==null&&!qe.done;Re++,qe=H.next()){Se.index>Re?(Nt=Se,Se=null):Nt=Se.sibling;var Oi=ee(U,Se,qe.value,oe);if(Oi===null){Se===null&&(Se=Nt);break}i&&Se&&Oi.alternate===null&&o(U,Se),F=g(Oi,F,Re),Ie===null?ve=Oi:Ie.sibling=Oi,Ie=Oi,Se=Nt}if(qe.done)return l(U,Se),at&&Rs(U,Re),ve;if(Se===null){for(;!qe.done;Re++,qe=H.next())qe=ie(U,qe.value,oe),qe!==null&&(F=g(qe,F,Re),Ie===null?ve=qe:Ie.sibling=qe,Ie=qe);return at&&Rs(U,Re),ve}for(Se=d(U,Se);!qe.done;Re++,qe=H.next())qe=de(Se,U,Re,qe.value,oe),qe!==null&&(i&&qe.alternate!==null&&Se.delete(qe.key===null?Re:qe.key),F=g(qe,F,Re),Ie===null?ve=qe:Ie.sibling=qe,Ie=qe);return i&&Se.forEach(function(qx){return o(U,qx)}),at&&Rs(U,Re),ve}function gt(U,F,H,oe){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:e:{for(var ve=H.key,Ie=F;Ie!==null;){if(Ie.key===ve){if(ve=H.type,ve===x){if(Ie.tag===7){l(U,Ie.sibling),F=m(Ie,H.props.children),F.return=U,U=F;break e}}else if(Ie.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ae&&Hy(ve)===Ie.type){l(U,Ie.sibling),F=m(Ie,H.props),F.ref=xl(U,Ie,H),F.return=U,U=F;break e}l(U,Ie);break}else o(U,Ie);Ie=Ie.sibling}H.type===x?(F=Ms(H.props.children,U.mode,oe,H.key),F.return=U,U=F):(oe=Jc(H.type,H.key,H.props,null,U.mode,oe),oe.ref=xl(U,F,H),oe.return=U,U=oe)}return E(U);case re:e:{for(Ie=H.key;F!==null;){if(F.key===Ie)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(U,F.sibling),F=m(F,H.children||[]),F.return=U,U=F;break e}else{l(U,F);break}else o(U,F);F=F.sibling}F=yp(H,U.mode,oe),F.return=U,U=F}return E(U);case Ae:return Ie=H._init,gt(U,F,Ie(H._payload),oe)}if(pt(H))return pe(U,F,H,oe);if(ce(H))return me(U,F,H,oe);Pc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(U,F.sibling),F=m(F,H),F.return=U,U=F):(l(U,F),F=gp(H,U.mode,oe),F.return=U,U=F),E(U)):l(U,F)}return gt}var Ho=qy(!0),Ky=qy(!1),Rc=Ii(null),Cc=null,qo=null,xf=null;function Pf(){xf=qo=Cc=null}function Rf(i){var o=Rc.current;rt(Rc),i._currentValue=o}function Cf(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Ko(i,o){Cc=i,xf=qo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(tn=!0),i.firstContext=null)}function Rn(i){var o=i._currentValue;if(xf!==i)if(i={context:i,memoizedValue:o,next:null},qo===null){if(Cc===null)throw Error(t(308));qo=i,Cc.dependencies={lanes:0,firstContext:i}}else qo=qo.next=i;return o}var Cs=null;function bf(i){Cs===null?Cs=[i]:Cs.push(i)}function Gy(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,bf(o)):(l.next=m.next,m.next=l),o.interleaved=l,$r(i,d)}function $r(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var xi=!1;function kf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Pi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(He&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,$r(i,l)}return m=d.interleaved,m===null?(o.next=o,bf(d)):(o.next=m.next,m.next=o),d.interleaved=o,$r(i,l)}function bc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,al(i,l)}}function Qy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?m=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?m=g=o:g=g.next=o}else m=g=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function kc(i,o,l,d){var m=i.updateQueue;xi=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var L=k,G=L.next;L.next=null,E===null?g=G:E.next=G,E=L;var te=i.alternate;te!==null&&(te=te.updateQueue,k=te.lastBaseUpdate,k!==E&&(k===null?te.firstBaseUpdate=G:k.next=G,te.lastBaseUpdate=L))}if(g!==null){var ie=m.baseState;E=0,te=G=L=null,k=g;do{var ee=k.lane,de=k.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var pe=i,me=k;switch(ee=o,de=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ie=pe.call(de,ie,ee);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(de,ie,ee):pe,ee==null)break e;ie=le({},ie,ee);break e;case 2:xi=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[k]:ee.push(k))}else de={eventTime:de,lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},te===null?(G=te=de,L=ie):te=te.next=de,E|=ee;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(L=ie),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else g===null&&(m.shared.lanes=0);Ns|=E,i.lanes=E,i.memoizedState=ie}}function Yy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Pl={},pr=Ii(Pl),Rl=Ii(Pl),Cl=Ii(Pl);function bs(i){if(i===Pl)throw Error(t(174));return i}function Nf(i,o){switch(et(Cl,o),et(Rl,i),et(pr,Pl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:po(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=po(o,i)}rt(pr),et(pr,o)}function Go(){rt(pr),rt(Rl),rt(Cl)}function Jy(i){bs(Cl.current);var o=bs(pr.current),l=po(o,i.type);o!==l&&(et(Rl,i),et(pr,l))}function Df(i){Rl.current===i&&(rt(pr),rt(Rl))}var lt=Ii(0);function Nc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Of=[];function Vf(){for(var i=0;i<Of.length;i++)Of[i]._workInProgressVersionPrimary=null;Of.length=0}var Dc=Y.ReactCurrentDispatcher,Mf=Y.ReactCurrentBatchConfig,ks=0,ut=null,At=null,bt=null,Oc=!1,bl=!1,kl=0,fx=0;function $t(){throw Error(t(321))}function Lf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!jn(i[l],o[l]))return!1;return!0}function Ff(i,o,l,d,m,g){if(ks=g,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Dc.current=i===null||i.memoizedState===null?yx:vx,i=l(d,m),bl){g=0;do{if(bl=!1,kl=0,25<=g)throw Error(t(301));g+=1,bt=At=null,o.updateQueue=null,Dc.current=_x,i=l(d,m)}while(bl)}if(Dc.current=Lc,o=At!==null&&At.next!==null,ks=0,bt=At=ut=null,Oc=!1,o)throw Error(t(300));return i}function jf(){var i=kl!==0;return kl=0,i}function mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ut.memoizedState=bt=i:bt=bt.next=i,bt}function Cn(){if(At===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=bt===null?ut.memoizedState:bt.next;if(o!==null)bt=o,At=i;else{if(i===null)throw Error(t(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},bt===null?ut.memoizedState=bt=i:bt=bt.next=i}return bt}function Nl(i,o){return typeof o=="function"?o(i):o}function Uf(i){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=At,m=d.baseQueue,g=l.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}d.baseQueue=m=g,l.pending=null}if(m!==null){g=m.next,d=d.baseState;var k=E=null,L=null,G=g;do{var te=G.lane;if((ks&te)===te)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var ie={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(k=L=ie,E=d):L=L.next=ie,ut.lanes|=te,Ns|=te}G=G.next}while(G!==null&&G!==g);L===null?E=d:L.next=k,jn(d,o.memoizedState)||(tn=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do g=m.lane,ut.lanes|=g,Ns|=g,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function zf(i){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,g=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);jn(g,o.memoizedState)||(tn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,d]}function Xy(){}function Zy(i,o){var l=ut,d=Cn(),m=o(),g=!jn(d.memoizedState,m);if(g&&(d.memoizedState=m,tn=!0),d=d.queue,Bf(nv.bind(null,l,d,i),[i]),d.getSnapshot!==o||g||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Dl(9,tv.bind(null,l,d,m,o),void 0,null),kt===null)throw Error(t(349));(ks&30)!==0||ev(l,o,m)}return m}function ev(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function tv(i,o,l,d){o.value=l,o.getSnapshot=d,rv(o)&&iv(i)}function nv(i,o,l){return l(function(){rv(o)&&iv(i)})}function rv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!jn(i,l)}catch{return!0}}function iv(i){var o=$r(i,1);o!==null&&Hn(o,i,1,-1)}function sv(i){var o=mr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:i},o.queue=i,i=i.dispatch=gx.bind(null,ut,i),[o.memoizedState,i]}function Dl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function ov(){return Cn().memoizedState}function Vc(i,o,l,d){var m=mr();ut.flags|=i,m.memoizedState=Dl(1|o,l,void 0,d===void 0?null:d)}function Mc(i,o,l,d){var m=Cn();d=d===void 0?null:d;var g=void 0;if(At!==null){var E=At.memoizedState;if(g=E.destroy,d!==null&&Lf(d,E.deps)){m.memoizedState=Dl(o,l,g,d);return}}ut.flags|=i,m.memoizedState=Dl(1|o,l,g,d)}function av(i,o){return Vc(8390656,8,i,o)}function Bf(i,o){return Mc(2048,8,i,o)}function lv(i,o){return Mc(4,2,i,o)}function uv(i,o){return Mc(4,4,i,o)}function cv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function hv(i,o,l){return l=l!=null?l.concat([i]):null,Mc(4,4,cv.bind(null,o,i),l)}function $f(){}function dv(i,o){var l=Cn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Lf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function fv(i,o){var l=Cn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Lf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function pv(i,o,l){return(ks&21)===0?(i.baseState&&(i.baseState=!1,tn=!0),i.memoizedState=l):(jn(l,o)||(l=sl(),ut.lanes|=l,Ns|=l,i.baseState=!0),o)}function px(i,o){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var d=Mf.transition;Mf.transition={};try{i(!1),o()}finally{ze=l,Mf.transition=d}}function mv(){return Cn().memoizedState}function mx(i,o,l){var d=ki(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},gv(i))yv(o,l);else if(l=Gy(i,o,l,d),l!==null){var m=Wt();Hn(l,i,d,m),vv(l,o,d)}}function gx(i,o,l){var d=ki(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(gv(i))yv(o,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var E=o.lastRenderedState,k=g(E,l);if(m.hasEagerState=!0,m.eagerState=k,jn(k,E)){var L=o.interleaved;L===null?(m.next=m,bf(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}l=Gy(i,o,m,d),l!==null&&(m=Wt(),Hn(l,i,d,m),vv(l,o,d))}}function gv(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function yv(i,o){bl=Oc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function vv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,al(i,l)}}var Lc={readContext:Rn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},yx={readContext:Rn,useCallback:function(i,o){return mr().memoizedState=[i,o===void 0?null:o],i},useContext:Rn,useEffect:av,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Vc(4194308,4,cv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Vc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Vc(4,2,i,o)},useMemo:function(i,o){var l=mr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=mr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=mx.bind(null,ut,i),[d.memoizedState,i]},useRef:function(i){var o=mr();return i={current:i},o.memoizedState=i},useState:sv,useDebugValue:$f,useDeferredValue:function(i){return mr().memoizedState=i},useTransition:function(){var i=sv(!1),o=i[0];return i=px.bind(null,i[1]),mr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=ut,m=mr();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),kt===null)throw Error(t(349));(ks&30)!==0||ev(d,o,l)}m.memoizedState=l;var g={value:l,getSnapshot:o};return m.queue=g,av(nv.bind(null,d,g,i),[i]),d.flags|=2048,Dl(9,tv.bind(null,d,g,l,o),void 0,null),l},useId:function(){var i=mr(),o=kt.identifierPrefix;if(at){var l=Br,d=zr;l=(d&~(1<<32-dn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=kl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=fx++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},vx={readContext:Rn,useCallback:dv,useContext:Rn,useEffect:Bf,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:fv,useReducer:Uf,useRef:ov,useState:function(){return Uf(Nl)},useDebugValue:$f,useDeferredValue:function(i){var o=Cn();return pv(o,At.memoizedState,i)},useTransition:function(){var i=Uf(Nl)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:Xy,useSyncExternalStore:Zy,useId:mv,unstable_isNewReconciler:!1},_x={readContext:Rn,useCallback:dv,useContext:Rn,useEffect:Bf,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:fv,useReducer:zf,useRef:ov,useState:function(){return zf(Nl)},useDebugValue:$f,useDeferredValue:function(i){var o=Cn();return At===null?o.memoizedState=i:pv(o,At.memoizedState,i)},useTransition:function(){var i=zf(Nl)[0],o=Cn().memoizedState;return[i,o]},useMutableSource:Xy,useSyncExternalStore:Zy,useId:mv,unstable_isNewReconciler:!1};function zn(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Hf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:le({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Fc={isMounted:function(i){return(i=i._reactInternals)?Ln(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Wt(),m=ki(i),g=Hr(d,m);g.payload=o,l!=null&&(g.callback=l),o=Pi(i,g,m),o!==null&&(Hn(o,i,m,d),bc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Wt(),m=ki(i),g=Hr(d,m);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Pi(i,g,m),o!==null&&(Hn(o,i,m,d),bc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Wt(),d=ki(i),m=Hr(l,d);m.tag=2,o!=null&&(m.callback=o),o=Pi(i,m,d),o!==null&&(Hn(o,i,d,l),bc(o,i,d))}};function _v(i,o,l,d,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,g,E):o.prototype&&o.prototype.isPureReactComponent?!_l(l,d)||!_l(m,g):!0}function wv(i,o,l){var d=!1,m=Si,g=o.contextType;return typeof g=="object"&&g!==null?g=Rn(g):(m=en(o)?xs:Bt.current,d=o.contextTypes,g=(d=d!=null)?Uo(i,m):Si),o=new o(l,g),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Fc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=g),o}function Ev(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Fc.enqueueReplaceState(o,o.state,null)}function qf(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},kf(i);var g=o.contextType;typeof g=="object"&&g!==null?m.context=Rn(g):(g=en(o)?xs:Bt.current,m.context=Uo(i,g)),m.state=i.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Hf(i,o,g,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Fc.enqueueReplaceState(m,m.state,null),kc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Wo(i,o){try{var l="",d=o;do l+=Oe(d),d=d.return;while(d);var m=l}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:o,stack:m,digest:null}}function Kf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Gf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var wx=typeof WeakMap=="function"?WeakMap:Map;function Tv(i,o,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){qc||(qc=!0,lp=d),Gf(i,o)},l}function Iv(i,o,l){l=Hr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){Gf(i,o)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Gf(i,o),typeof d!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function Sv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new wx;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=Ox.bind(null,i,o,l),o.then(i,i))}function Av(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function xv(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Hr(-1,1),o.tag=2,Pi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Ex=Y.ReactCurrentOwner,tn=!1;function Gt(i,o,l,d){o.child=i===null?Ky(o,null,l,d):Ho(o,i.child,l,d)}function Pv(i,o,l,d,m){l=l.render;var g=o.ref;return Ko(o,m),d=Ff(i,o,l,d,g,m),l=jf(),i!==null&&!tn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(at&&l&&Ef(o),o.flags|=1,Gt(i,o,d,m),o.child)}function Rv(i,o,l,d,m){if(i===null){var g=l.type;return typeof g=="function"&&!mp(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,Cv(i,o,g,d,m)):(i=Jc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,(i.lanes&m)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:_l,l(E,d)&&i.ref===o.ref)return qr(i,o,m)}return o.flags|=1,i=Di(g,d),i.ref=o.ref,i.return=o,o.child=i}function Cv(i,o,l,d,m){if(i!==null){var g=i.memoizedProps;if(_l(g,d)&&i.ref===o.ref)if(tn=!1,o.pendingProps=d=g,(i.lanes&m)!==0)(i.flags&131072)!==0&&(tn=!0);else return o.lanes=i.lanes,qr(i,o,m)}return Wf(i,o,l,d,m)}function bv(i,o,l){var d=o.pendingProps,m=d.children,g=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Yo,_n),_n|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(Yo,_n),_n|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,et(Yo,_n),_n|=d}else g!==null?(d=g.baseLanes|l,o.memoizedState=null):d=l,et(Yo,_n),_n|=d;return Gt(i,o,m,l),o.child}function kv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Wf(i,o,l,d,m){var g=en(l)?xs:Bt.current;return g=Uo(o,g),Ko(o,m),l=Ff(i,o,l,d,g,m),d=jf(),i!==null&&!tn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(at&&d&&Ef(o),o.flags|=1,Gt(i,o,l,m),o.child)}function Nv(i,o,l,d,m){if(en(l)){var g=!0;Tc(o)}else g=!1;if(Ko(o,m),o.stateNode===null)Uc(i,o),wv(o,l,d),qf(o,l,d,m),d=!0;else if(i===null){var E=o.stateNode,k=o.memoizedProps;E.props=k;var L=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Rn(G):(G=en(l)?xs:Bt.current,G=Uo(o,G));var te=l.getDerivedStateFromProps,ie=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==d||L!==G)&&Ev(o,E,d,G),xi=!1;var ee=o.memoizedState;E.state=ee,kc(o,d,E,m),L=o.memoizedState,k!==d||ee!==L||Zt.current||xi?(typeof te=="function"&&(Hf(o,l,te,d),L=o.memoizedState),(k=xi||_v(o,l,k,d,ee,L,G))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),E.props=d,E.state=L,E.context=G,d=k):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,Wy(i,o),k=o.memoizedProps,G=o.type===o.elementType?k:zn(o.type,k),E.props=G,ie=o.pendingProps,ee=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Rn(L):(L=en(l)?xs:Bt.current,L=Uo(o,L));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==ie||ee!==L)&&Ev(o,E,d,L),xi=!1,ee=o.memoizedState,E.state=ee,kc(o,d,E,m);var pe=o.memoizedState;k!==ie||ee!==pe||Zt.current||xi?(typeof de=="function"&&(Hf(o,l,de,d),pe=o.memoizedState),(G=xi||_v(o,l,G,d,ee,pe,L)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,pe,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,pe,L)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=pe),E.props=d,E.state=pe,E.context=L,d=G):(typeof E.componentDidUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return Qf(i,o,l,d,g,m)}function Qf(i,o,l,d,m,g){kv(i,o);var E=(o.flags&128)!==0;if(!d&&!E)return m&&Ly(o,l,!1),qr(i,o,g);d=o.stateNode,Ex.current=o;var k=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&E?(o.child=Ho(o,i.child,null,g),o.child=Ho(o,null,k,g)):Gt(i,o,k,g),o.memoizedState=d.state,m&&Ly(o,l,!0),o.child}function Dv(i){var o=i.stateNode;o.pendingContext?Vy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Vy(i,o.context,!1),Nf(i,o.containerInfo)}function Ov(i,o,l,d,m){return $o(),Af(m),o.flags|=256,Gt(i,o,l,d),o.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Jf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Vv(i,o,l){var d=o.pendingProps,m=lt.current,g=!1,E=(o.flags&128)!==0,k;if((k=E)||(k=i!==null&&i.memoizedState===null?!1:(m&2)!==0),k?(g=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(lt,m&1),i===null)return Sf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=d.children,i=d.fallback,g?(d=o.mode,g=o.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Xc(E,d,0,null),i=Ms(i,d,l,null),g.return=o,i.return=o,g.sibling=i,o.child=g,o.child.memoizedState=Jf(l),o.memoizedState=Yf,i):Xf(o,E));if(m=i.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return Tx(i,o,E,d,k,m,l);if(g){g=d.fallback,E=o.mode,m=i.child,k=m.sibling;var L={mode:"hidden",children:d.children};return(E&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=Di(m,L),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?g=Di(k,g):(g=Ms(g,E,l,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,E=i.child.memoizedState,E=E===null?Jf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=i.childLanes&~l,o.memoizedState=Yf,d}return g=i.child,i=g.sibling,d=Di(g,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function Xf(i,o){return o=Xc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function jc(i,o,l,d){return d!==null&&Af(d),Ho(o,i.child,null,l),i=Xf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Tx(i,o,l,d,m,g,E){if(l)return o.flags&256?(o.flags&=-257,d=Kf(Error(t(422))),jc(i,o,E,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(g=d.fallback,m=o.mode,d=Xc({mode:"visible",children:d.children},m,0,null),g=Ms(g,m,E,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,(o.mode&1)!==0&&Ho(o,i.child,null,E),o.child.memoizedState=Jf(E),o.memoizedState=Yf,g);if((o.mode&1)===0)return jc(i,o,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,g=Error(t(419)),d=Kf(g,d,void 0),jc(i,o,E,d)}if(k=(E&i.childLanes)!==0,tn||k){if(d=kt,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|E))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,$r(i,m),Hn(d,i,m,-1))}return pp(),d=Kf(Error(t(421))),jc(i,o,E,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Vx.bind(null,i),m._reactRetry=o,null):(i=g.treeContext,vn=Ti(m.nextSibling),yn=o,at=!0,Un=null,i!==null&&(xn[Pn++]=zr,xn[Pn++]=Br,xn[Pn++]=Ps,zr=i.id,Br=i.overflow,Ps=o),o=Xf(o,d.children),o.flags|=4096,o)}function Mv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Cf(i.return,o,l)}function Zf(i,o,l,d,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=m)}function Lv(i,o,l){var d=o.pendingProps,m=d.revealOrder,g=d.tail;if(Gt(i,o,d.children,l),d=lt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Mv(i,l,o);else if(i.tag===19)Mv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(et(lt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Nc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Zf(o,!1,m,l,g);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Nc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Zf(o,!0,l,null,g);break;case"together":Zf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Uc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ns|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Di(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Ix(i,o,l){switch(o.tag){case 3:Dv(o),$o();break;case 5:Jy(o);break;case 1:en(o.type)&&Tc(o);break;case 4:Nf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;et(Rc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(et(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Vv(i,o,l):(et(lt,lt.current&1),i=qr(i,o,l),i!==null?i.sibling:null);et(lt,lt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Lv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(lt,lt.current),d)break;return null;case 22:case 23:return o.lanes=0,bv(i,o,l)}return qr(i,o,l)}var Fv,ep,jv,Uv;Fv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ep=function(){},jv=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,bs(pr.current);var g=null;switch(l){case"input":m=ho(i,m),d=ho(i,d),g=[];break;case"select":m=le({},m,{value:void 0}),d=le({},d,{value:void 0}),g=[];break;case"textarea":m=Wa(i,m),d=Wa(i,d),g=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=_c)}Mn(l,d);var E;l=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var k=m[G];for(E in k)k.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in d){var L=d[G];if(k=m?.[G],d.hasOwnProperty(G)&&L!==k&&(L!=null||k!=null))if(G==="style")if(k){for(E in k)!k.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&k[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(g||(g=[]),g.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(g=g||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&nt("scroll",i),g||k===L||(g=[])):(g=g||[]).push(G,L))}l&&(g=g||[]).push("style",l);var G=g;(o.updateQueue=G)&&(o.flags|=4)}},Uv=function(i,o,l,d){l!==d&&(o.flags|=4)};function Ol(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function Sx(i,o,l){var d=o.pendingProps;switch(Tf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return en(o.type)&&Ec(),Ht(o),null;case 3:return d=o.stateNode,Go(),rt(Zt),rt(Bt),Vf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(xc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Un!==null&&(hp(Un),Un=null))),ep(i,o),Ht(o),null;case 5:Df(o);var m=bs(Cl.current);if(l=o.type,i!==null&&o.stateNode!=null)jv(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=bs(pr.current),xc(o)){d=o.stateNode,l=o.type;var g=o.memoizedProps;switch(d[fr]=o,d[Sl]=g,i=(o.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(m=0;m<El.length;m++)nt(El[m],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":Hu(d,g),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},nt("invalid",d);break;case"textarea":Qa(d,g),nt("invalid",d)}Mn(l,g),m=null;for(var E in g)if(g.hasOwnProperty(E)){var k=g[E];E==="children"?typeof k=="string"?d.textContent!==k&&(g.suppressHydrationWarning!==!0&&vc(d.textContent,k,i),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&vc(d.textContent,k,i),m=["children",""+k]):s.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&nt("scroll",d)}switch(l){case"input":si(d),Ga(d,g,!0);break;case"textarea":si(d),oi(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=_c)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ya(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=E.createElement(l,{is:d.is}):(i=E.createElement(l),l==="select"&&(E=i,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):i=E.createElementNS(i,l),i[fr]=o,i[Sl]=d,Fv(i,o,!1,!1),o.stateNode=i;e:{switch(E=go(l,d),l){case"dialog":nt("cancel",i),nt("close",i),m=d;break;case"iframe":case"object":case"embed":nt("load",i),m=d;break;case"video":case"audio":for(m=0;m<El.length;m++)nt(El[m],i);m=d;break;case"source":nt("error",i),m=d;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=d;break;case"details":nt("toggle",i),m=d;break;case"input":Hu(i,d),m=ho(i,d),nt("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=le({},d,{value:void 0}),nt("invalid",i);break;case"textarea":Qa(i,d),m=Wa(i,d),nt("invalid",i);break;default:m=d}Mn(l,m),k=m;for(g in k)if(k.hasOwnProperty(g)){var L=k[g];g==="style"?mo(i,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ku(i,L)):g==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&hs(i,L):typeof L=="number"&&hs(i,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?L!=null&&g==="onScroll"&&nt("scroll",i):L!=null&&Q(i,g,L,E))}switch(l){case"input":si(i),Ga(i,d,!1);break;case"textarea":si(i),oi(i);break;case"option":d.value!=null&&i.setAttribute("value",""+je(d.value));break;case"select":i.multiple=!!d.multiple,g=d.value,g!=null?Vn(i,!!d.multiple,g,!1):d.defaultValue!=null&&Vn(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=_c)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)Uv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=bs(Cl.current),bs(pr.current),xc(o)){if(d=o.stateNode,l=o.memoizedProps,d[fr]=o,(g=d.nodeValue!==l)&&(i=yn,i!==null))switch(i.tag){case 3:vc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vc(d.nodeValue,l,(i.mode&1)!==0)}g&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[fr]=o,o.stateNode=d}return Ht(o),null;case 13:if(rt(lt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&vn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)$y(),$o(),o.flags|=98560,g=!1;else if(g=xc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[fr]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),g=!1}else Un!==null&&(hp(Un),Un=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?xt===0&&(xt=3):pp())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Go(),ep(i,o),i===null&&Tl(o.stateNode.containerInfo),Ht(o),null;case 10:return Rf(o.type._context),Ht(o),null;case 17:return en(o.type)&&Ec(),Ht(o),null;case 19:if(rt(lt),g=o.memoizedState,g===null)return Ht(o),null;if(d=(o.flags&128)!==0,E=g.rendering,E===null)if(d)Ol(g,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=Nc(i),E!==null){for(o.flags|=128,Ol(g,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)g=l,i=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,i=E.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return et(lt,lt.current&1|2),o.child}i=i.sibling}g.tail!==null&&tt()>Jo&&(o.flags|=128,d=!0,Ol(g,!1),o.lanes=4194304)}else{if(!d)if(i=Nc(E),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ol(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!at)return Ht(o),null}else 2*tt()-g.renderingStartTime>Jo&&l!==1073741824&&(o.flags|=128,d=!0,Ol(g,!1),o.lanes=4194304);g.isBackwards?(E.sibling=o.child,o.child=E):(l=g.last,l!==null?l.sibling=E:o.child=E,g.last=E)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=tt(),o.sibling=null,l=lt.current,et(lt,d?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return fp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(_n&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Ax(i,o){switch(Tf(o),o.tag){case 1:return en(o.type)&&Ec(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Go(),rt(Zt),rt(Bt),Vf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Df(o),null;case 13:if(rt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));$o()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(lt),null;case 4:return Go(),null;case 10:return Rf(o.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var zc=!1,qt=!1,xx=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Qo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(i,o,d)}else l.current=null}function tp(i,o,l){try{l()}catch(d){dt(i,o,d)}}var zv=!1;function Px(i,o){if(ff=Mr,i=_y(),sf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,k=-1,L=-1,G=0,te=0,ie=i,ee=null;t:for(;;){for(var de;ie!==l||m!==0&&ie.nodeType!==3||(k=E+m),ie!==g||d!==0&&ie.nodeType!==3||(L=E+d),ie.nodeType===3&&(E+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ee=ie,ie=de;for(;;){if(ie===i)break t;if(ee===l&&++G===m&&(k=E),ee===g&&++te===d&&(L=E),(de=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=de}l=k===-1||L===-1?null:{start:k,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(pf={focusedElem:i,selectionRange:l},Mr=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,gt=pe.memoizedState,U=o.stateNode,F=U.getSnapshotBeforeUpdate(o.elementType===o.type?me:zn(o.type,me),gt);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){dt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return pe=zv,zv=!1,pe}function Vl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var g=m.destroy;m.destroy=void 0,g!==void 0&&tp(o,l,g)}m=m.next}while(m!==d)}}function Bc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function np(i){var o=i.ref;if(o!==null){var l=i.stateNode;i.tag,i=l,typeof o=="function"?o(i):o.current=i}}function Bv(i){var o=i.alternate;o!==null&&(i.alternate=null,Bv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[fr],delete o[Sl],delete o[vf],delete o[ux],delete o[cx])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $v(i){return i.tag===5||i.tag===3||i.tag===4}function Hv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rp(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=_c));else if(d!==4&&(i=i.child,i!==null))for(rp(i,o,l),i=i.sibling;i!==null;)rp(i,o,l),i=i.sibling}function ip(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(ip(i,o,l),i=i.sibling;i!==null;)ip(i,o,l),i=i.sibling}var Ft=null,Bn=!1;function Ri(i,o,l){for(l=l.child;l!==null;)qv(i,o,l),l=l.sibling}function qv(i,o,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(gs,l)}catch{}switch(l.tag){case 5:qt||Qo(l,o);case 6:var d=Ft,m=Bn;Ft=null,Ri(i,o,l),Ft=d,Bn=m,Ft!==null&&(Bn?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Bn?(i=Ft,l=l.stateNode,i.nodeType===8?yf(i.parentNode,l):i.nodeType===1&&yf(i,l),vi(i)):yf(Ft,l.stateNode));break;case 4:d=Ft,m=Bn,Ft=l.stateNode.containerInfo,Bn=!0,Ri(i,o,l),Ft=d,Bn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var g=m,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&tp(l,o,E),m=m.next}while(m!==d)}Ri(i,o,l);break;case 1:if(!qt&&(Qo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){dt(l,o,k)}Ri(i,o,l);break;case 21:Ri(i,o,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,Ri(i,o,l),qt=d):Ri(i,o,l);break;default:Ri(i,o,l)}}function Kv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new xx),o.forEach(function(d){var m=Mx.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function $n(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var g=i,E=o,k=E;e:for(;k!==null;){switch(k.tag){case 5:Ft=k.stateNode,Bn=!1;break e;case 3:Ft=k.stateNode.containerInfo,Bn=!0;break e;case 4:Ft=k.stateNode.containerInfo,Bn=!0;break e}k=k.return}if(Ft===null)throw Error(t(160));qv(g,E,m),Ft=null,Bn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(G){dt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gv(o,i),o=o.sibling}function Gv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if($n(o,i),gr(i),d&4){try{Vl(3,i,i.return),Bc(3,i)}catch(me){dt(i,i.return,me)}try{Vl(5,i,i.return)}catch(me){dt(i,i.return,me)}}break;case 1:$n(o,i),gr(i),d&512&&l!==null&&Qo(l,l.return);break;case 5:if($n(o,i),gr(i),d&512&&l!==null&&Qo(l,l.return),i.flags&32){var m=i.stateNode;try{hs(m,"")}catch(me){dt(i,i.return,me)}}if(d&4&&(m=i.stateNode,m!=null)){var g=i.memoizedProps,E=l!==null?l.memoizedProps:g,k=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&fo(m,g),go(k,E);var G=go(k,g);for(E=0;E<L.length;E+=2){var te=L[E],ie=L[E+1];te==="style"?mo(m,ie):te==="dangerouslySetInnerHTML"?Ku(m,ie):te==="children"?hs(m,ie):Q(m,te,ie,G)}switch(k){case"input":cs(m,g);break;case"textarea":qu(m,g);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var de=g.value;de!=null?Vn(m,!!g.multiple,de,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Vn(m,!!g.multiple,g.defaultValue,!0):Vn(m,!!g.multiple,g.multiple?[]:"",!1))}m[Sl]=g}catch(me){dt(i,i.return,me)}}break;case 6:if($n(o,i),gr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,g=i.memoizedProps;try{m.nodeValue=g}catch(me){dt(i,i.return,me)}}break;case 3:if($n(o,i),gr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{vi(o.containerInfo)}catch(me){dt(i,i.return,me)}break;case 4:$n(o,i),gr(i);break;case 13:$n(o,i),gr(i),m=i.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(ap=tt())),d&4&&Kv(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(G=qt)||te,$n(o,i),qt=G):$n(o,i),gr(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&(i.mode&1)!==0)for(fe=i,te=i.child;te!==null;){for(ie=fe=te;fe!==null;){switch(ee=fe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Vl(4,ee,ee.return);break;case 1:Qo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){dt(d,l,me)}}break;case 5:Qo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Yv(ie);continue}}de!==null?(de.return=ee,fe=de):Yv(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{m=ie.stateNode,G?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=ie.stateNode,L=ie.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=ui("display",E))}catch(me){dt(i,i.return,me)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(me){dt(i,i.return,me)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:$n(o,i),gr(i),d&4&&Kv(i);break;case 21:break;default:$n(o,i),gr(i)}}function gr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if($v(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(hs(m,""),d.flags&=-33);var g=Hv(i);ip(i,g,m);break;case 3:case 4:var E=d.stateNode.containerInfo,k=Hv(i);rp(i,k,E);break;default:throw Error(t(161))}}catch(L){dt(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Rx(i,o,l){fe=i,Wv(i)}function Wv(i,o,l){for(var d=(i.mode&1)!==0;fe!==null;){var m=fe,g=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||zc;if(!E){var k=m.alternate,L=k!==null&&k.memoizedState!==null||qt;k=zc;var G=qt;if(zc=E,(qt=L)&&!G)for(fe=m;fe!==null;)E=fe,L=E.child,E.tag===22&&E.memoizedState!==null?Jv(m):L!==null?(L.return=E,fe=L):Jv(m);for(;g!==null;)fe=g,Wv(g),g=g.sibling;fe=m,zc=k,qt=G}Qv(i)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,fe=g):Qv(i)}}function Qv(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Bc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!qt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:zn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Yy(o,g,d);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Yy(o,E,l)}break;case 5:var k=o.stateNode;if(l===null&&o.flags&4){l=k;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&vi(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||o.flags&512&&np(o)}catch(ee){dt(o,o.return,ee)}}if(o===i){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Yv(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Jv(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Bc(4,o)}catch(L){dt(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){dt(o,m,L)}}var g=o.return;try{np(o)}catch(L){dt(o,g,L)}break;case 5:var E=o.return;try{np(o)}catch(L){dt(o,E,L)}}}catch(L){dt(o,o.return,L)}if(o===i){fe=null;break}var k=o.sibling;if(k!==null){k.return=o.return,fe=k;break}fe=o.return}}var Cx=Math.ceil,$c=Y.ReactCurrentDispatcher,sp=Y.ReactCurrentOwner,bn=Y.ReactCurrentBatchConfig,He=0,kt=null,Et=null,jt=0,_n=0,Yo=Ii(0),xt=0,Ml=null,Ns=0,Hc=0,op=0,Ll=null,nn=null,ap=0,Jo=1/0,Kr=null,qc=!1,lp=null,Ci=null,Kc=!1,bi=null,Gc=0,Fl=0,up=null,Wc=-1,Qc=0;function Wt(){return(He&6)!==0?tt():Wc!==-1?Wc:Wc=tt()}function ki(i){return(i.mode&1)===0?1:(He&2)!==0&&jt!==0?jt&-jt:dx.transition!==null?(Qc===0&&(Qc=sl()),Qc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:xo(i.type)),i)}function Hn(i,o,l,d){if(50<Fl)throw Fl=0,up=null,Error(t(185));ws(i,l,d),((He&2)===0||i!==kt)&&(i===kt&&((He&2)===0&&(Hc|=l),xt===4&&Ni(i,jt)),rn(i,d),l===1&&He===0&&(o.mode&1)===0&&(Jo=tt()+500,Ic&&Ai()))}function rn(i,o){var l=i.callbackNode;_s(i,o);var d=Dr(i,i===kt?jt:0);if(d===0)l!==null&&_o(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&_o(l),o===1)i.tag===0?hx(Zv.bind(null,i)):Fy(Zv.bind(null,i)),ax(function(){(He&6)===0&&Ai()}),l=null;else{switch(rr(d)){case 1:l=wo;break;case 4:l=nl;break;case 16:l=ms;break;case 536870912:l=Eo;break;default:l=ms}l=a_(l,Xv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Xv(i,o){if(Wc=-1,Qc=0,(He&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Xo()&&i.callbackNode!==l)return null;var d=Dr(i,i===kt?jt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Yc(i,d);else{o=d;var m=He;He|=2;var g=t_();(kt!==i||jt!==o)&&(Kr=null,Jo=tt()+500,Os(i,o));do try{Nx();break}catch(k){e_(i,k)}while(!0);Pf(),$c.current=g,He=m,Et!==null?o=0:(kt=null,jt=0,o=xt)}if(o!==0){if(o===2&&(m=il(i),m!==0&&(d=m,o=cp(i,m))),o===1)throw l=Ml,Os(i,0),Ni(i,d),rn(i,tt()),l;if(o===6)Ni(i,d);else{if(m=i.current.alternate,(d&30)===0&&!bx(m)&&(o=Yc(i,d),o===2&&(g=il(i),g!==0&&(d=g,o=cp(i,g))),o===1))throw l=Ml,Os(i,0),Ni(i,d),rn(i,tt()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Vs(i,nn,Kr);break;case 3:if(Ni(i,d),(d&130023424)===d&&(o=ap+500-tt(),10<o)){if(Dr(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Wt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=gf(Vs.bind(null,i,nn,Kr),o);break}Vs(i,nn,Kr);break;case 4:if(Ni(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var E=31-dn(d);g=1<<E,E=o[E],E>m&&(m=E),d&=~g}if(d=m,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Cx(d/1960))-d,10<d){i.timeoutHandle=gf(Vs.bind(null,i,nn,Kr),d);break}Vs(i,nn,Kr);break;case 5:Vs(i,nn,Kr);break;default:throw Error(t(329))}}}return rn(i,tt()),i.callbackNode===l?Xv.bind(null,i):null}function cp(i,o){var l=Ll;return i.current.memoizedState.isDehydrated&&(Os(i,o).flags|=256),i=Yc(i,o),i!==2&&(o=nn,nn=l,o!==null&&hp(o)),i}function hp(i){nn===null?nn=i:nn.push.apply(nn,i)}function bx(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],g=m.getSnapshot;m=m.value;try{if(!jn(g(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(i,o){for(o&=~op,o&=~Hc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-dn(o),d=1<<l;i[l]=-1,o&=~d}}function Zv(i){if((He&6)!==0)throw Error(t(327));Xo();var o=Dr(i,0);if((o&1)===0)return rn(i,tt()),null;var l=Yc(i,o);if(i.tag!==0&&l===2){var d=il(i);d!==0&&(o=d,l=cp(i,d))}if(l===1)throw l=Ml,Os(i,0),Ni(i,o),rn(i,tt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Vs(i,nn,Kr),rn(i,tt()),null}function dp(i,o){var l=He;He|=1;try{return i(o)}finally{He=l,He===0&&(Jo=tt()+500,Ic&&Ai())}}function Ds(i){bi!==null&&bi.tag===0&&(He&6)===0&&Xo();var o=He;He|=1;var l=bn.transition,d=ze;try{if(bn.transition=null,ze=1,i)return i()}finally{ze=d,bn.transition=l,He=o,(He&6)===0&&Ai()}}function fp(){_n=Yo.current,rt(Yo)}function Os(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,ox(l)),Et!==null)for(l=Et.return;l!==null;){var d=l;switch(Tf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ec();break;case 3:Go(),rt(Zt),rt(Bt),Vf();break;case 5:Df(d);break;case 4:Go();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Rf(d.type._context);break;case 22:case 23:fp()}l=l.return}if(kt=i,Et=i=Di(i.current,null),jt=_n=o,xt=0,Ml=null,op=Hc=Ns=0,nn=Ll=null,Cs!==null){for(o=0;o<Cs.length;o++)if(l=Cs[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=m,d.next=E}l.pending=d}Cs=null}return i}function e_(i,o){do{var l=Et;try{if(Pf(),Dc.current=Lc,Oc){for(var d=ut.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Oc=!1}if(ks=0,bt=At=ut=null,bl=!1,kl=0,sp.current=null,l===null||l.return===null){xt=1,Ml=o,Et=null;break}e:{var g=i,E=l.return,k=l,L=o;if(o=jt,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,te=k,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Av(E);if(de!==null){de.flags&=-257,xv(de,E,k,g,o),de.mode&1&&Sv(g,G,o),o=de,L=G;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(L),o.updateQueue=me}else pe.add(L);break e}else{if((o&1)===0){Sv(g,G,o),pp();break e}L=Error(t(426))}}else if(at&&k.mode&1){var gt=Av(E);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),xv(gt,E,k,g,o),Af(Wo(L,k));break e}}g=L=Wo(L,k),xt!==4&&(xt=2),Ll===null?Ll=[g]:Ll.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var U=Tv(g,L,o);Qy(g,U);break e;case 1:k=L;var F=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ci===null||!Ci.has(H)))){g.flags|=65536,o&=-o,g.lanes|=o;var oe=Iv(g,k,o);Qy(g,oe);break e}}g=g.return}while(g!==null)}r_(l)}catch(ve){o=ve,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function t_(){var i=$c.current;return $c.current=Lc,i===null?Lc:i}function pp(){(xt===0||xt===3||xt===2)&&(xt=4),kt===null||(Ns&268435455)===0&&(Hc&268435455)===0||Ni(kt,jt)}function Yc(i,o){var l=He;He|=2;var d=t_();(kt!==i||jt!==o)&&(Kr=null,Os(i,o));do try{kx();break}catch(m){e_(i,m)}while(!0);if(Pf(),He=l,$c.current=d,Et!==null)throw Error(t(261));return kt=null,jt=0,xt}function kx(){for(;Et!==null;)n_(Et)}function Nx(){for(;Et!==null&&!ps();)n_(Et)}function n_(i){var o=o_(i.alternate,i,_n);i.memoizedProps=i.pendingProps,o===null?r_(i):Et=o,sp.current=null}function r_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=Sx(l,o,_n),l!==null){Et=l;return}}else{if(l=Ax(l,o),l!==null){l.flags&=32767,Et=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xt=6,Et=null;return}}if(o=o.sibling,o!==null){Et=o;return}Et=o=i}while(o!==null);xt===0&&(xt=5)}function Vs(i,o,l){var d=ze,m=bn.transition;try{bn.transition=null,ze=1,Dx(i,o,l,d)}finally{bn.transition=m,ze=d}return null}function Dx(i,o,l,d){do Xo();while(bi!==null);if((He&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(Zd(i,g),i===kt&&(Et=kt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Kc||(Kc=!0,a_(ms,function(){return Xo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=bn.transition,bn.transition=null;var E=ze;ze=1;var k=He;He|=4,sp.current=null,Px(i,l),Gv(l,i),ZA(pf),Mr=!!ff,pf=ff=null,i.current=l,Rx(l),Nr(),He=k,ze=E,bn.transition=g}else i.current=l;if(Kc&&(Kc=!1,bi=i,Gc=m),g=i.pendingLanes,g===0&&(Ci=null),rc(l.stateNode),rn(i,tt()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(qc)throw qc=!1,i=lp,lp=null,i;return(Gc&1)!==0&&i.tag!==0&&Xo(),g=i.pendingLanes,(g&1)!==0?i===up?Fl++:(Fl=0,up=i):Fl=0,Ai(),null}function Xo(){if(bi!==null){var i=rr(Gc),o=bn.transition,l=ze;try{if(bn.transition=null,ze=16>i?16:i,bi===null)var d=!1;else{if(i=bi,bi=null,Gc=0,(He&6)!==0)throw Error(t(331));var m=He;for(He|=4,fe=i.current;fe!==null;){var g=fe,E=g.child;if((fe.flags&16)!==0){var k=g.deletions;if(k!==null){for(var L=0;L<k.length;L++){var G=k[L];for(fe=G;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:Vl(8,te,g)}var ie=te.child;if(ie!==null)ie.return=te,fe=ie;else for(;fe!==null;){te=fe;var ee=te.sibling,de=te.return;if(Bv(te),te===G){fe=null;break}if(ee!==null){ee.return=de,fe=ee;break}fe=de}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var gt=me.sibling;me.sibling=null,me=gt}while(me!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Vl(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,fe=U;break e}fe=g.return}}var F=i.current;for(fe=F;fe!==null;){E=fe;var H=E.child;if((E.subtreeFlags&2064)!==0&&H!==null)H.return=E,fe=H;else e:for(E=F;fe!==null;){if(k=fe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Bc(9,k)}}catch(ve){dt(k,k.return,ve)}if(k===E){fe=null;break e}var oe=k.sibling;if(oe!==null){oe.return=k.return,fe=oe;break e}fe=k.return}}if(He=m,Ai(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(gs,i)}catch{}d=!0}return d}finally{ze=l,bn.transition=o}}return!1}function i_(i,o,l){o=Wo(l,o),o=Tv(i,o,1),i=Pi(i,o,1),o=Wt(),i!==null&&(ws(i,1,o),rn(i,o))}function dt(i,o,l){if(i.tag===3)i_(i,i,l);else for(;o!==null;){if(o.tag===3){i_(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){i=Wo(l,i),i=Iv(o,i,1),o=Pi(o,i,1),i=Wt(),o!==null&&(ws(o,1,i),rn(o,i));break}}o=o.return}}function Ox(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Wt(),i.pingedLanes|=i.suspendedLanes&l,kt===i&&(jt&l)===l&&(xt===4||xt===3&&(jt&130023424)===jt&&500>tt()-ap?Os(i,0):op|=l),rn(i,o)}function s_(i,o){o===0&&((i.mode&1)===0?o=1:(o=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var l=Wt();i=$r(i,o),i!==null&&(ws(i,o,l),rn(i,l))}function Vx(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),s_(i,l)}function Mx(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),s_(i,l)}var o_;o_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Zt.current)tn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return tn=!1,Ix(i,o,l);tn=(i.flags&131072)!==0}else tn=!1,at&&(o.flags&1048576)!==0&&jy(o,Ac,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Uc(i,o),i=o.pendingProps;var m=Uo(o,Bt.current);Ko(o,l),m=Ff(null,o,d,i,m,l);var g=jf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,en(d)?(g=!0,Tc(o)):g=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,kf(o),m.updater=Fc,o.stateNode=m,m._reactInternals=o,qf(o,d,i,l),o=Qf(null,o,d,!0,g,l)):(o.tag=0,at&&g&&Ef(o),Gt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Uc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=Fx(d),i=zn(d,i),m){case 0:o=Wf(null,o,d,i,l);break e;case 1:o=Nv(null,o,d,i,l);break e;case 11:o=Pv(null,o,d,i,l);break e;case 14:o=Rv(null,o,d,zn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:zn(d,m),Wf(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:zn(d,m),Nv(i,o,d,m,l);case 3:e:{if(Dv(o),i===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,m=g.element,Wy(i,o),kc(o,d,null,l);var E=o.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){m=Wo(Error(t(423)),o),o=Ov(i,o,d,l,m);break e}else if(d!==m){m=Wo(Error(t(424)),o),o=Ov(i,o,d,l,m);break e}else for(vn=Ti(o.stateNode.containerInfo.firstChild),yn=o,at=!0,Un=null,l=Ky(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($o(),d===m){o=qr(i,o,l);break e}Gt(i,o,d,l)}o=o.child}return o;case 5:return Jy(o),i===null&&Sf(o),d=o.type,m=o.pendingProps,g=i!==null?i.memoizedProps:null,E=m.children,mf(d,m)?E=null:g!==null&&mf(d,g)&&(o.flags|=32),kv(i,o),Gt(i,o,E,l),o.child;case 6:return i===null&&Sf(o),null;case 13:return Vv(i,o,l);case 4:return Nf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Ho(o,null,d,l):Gt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:zn(d,m),Pv(i,o,d,m,l);case 7:return Gt(i,o,o.pendingProps,l),o.child;case 8:return Gt(i,o,o.pendingProps.children,l),o.child;case 12:return Gt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,g=o.memoizedProps,E=m.value,et(Rc,d._currentValue),d._currentValue=E,g!==null)if(jn(g.value,E)){if(g.children===m.children&&!Zt.current){o=qr(i,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var k=g.dependencies;if(k!==null){E=g.child;for(var L=k.firstContext;L!==null;){if(L.context===d){if(g.tag===1){L=Hr(-1,l&-l),L.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?L.next=L:(L.next=te.next,te.next=L),G.pending=L}}g.lanes|=l,L=g.alternate,L!==null&&(L.lanes|=l),Cf(g.return,l,o),k.lanes|=l;break}L=L.next}}else if(g.tag===10)E=g.type===o.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,k=E.alternate,k!==null&&(k.lanes|=l),Cf(E,l,o),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Gt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ko(o,l),m=Rn(m),d=d(m),o.flags|=1,Gt(i,o,d,l),o.child;case 14:return d=o.type,m=zn(d,o.pendingProps),m=zn(d.type,m),Rv(i,o,d,m,l);case 15:return Cv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:zn(d,m),Uc(i,o),o.tag=1,en(d)?(i=!0,Tc(o)):i=!1,Ko(o,l),wv(o,d,m),qf(o,d,m,l),Qf(null,o,d,!0,i,l);case 19:return Lv(i,o,l);case 22:return bv(i,o,l)}throw Error(t(156,o.tag))};function a_(i,o){return tl(i,o)}function Lx(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,l,d){return new Lx(i,o,l,d)}function mp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fx(i){if(typeof i=="function")return mp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===ke)return 14}return 2}function Di(i,o){var l=i.alternate;return l===null?(l=kn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Jc(i,o,l,d,m,g){var E=2;if(d=i,typeof i=="function")mp(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case x:return Ms(l.children,m,g,o);case S:E=8,m|=8;break;case N:return i=kn(12,l,o,m|2),i.elementType=N,i.lanes=g,i;case R:return i=kn(13,l,o,m),i.elementType=R,i.lanes=g,i;case ae:return i=kn(19,l,o,m),i.elementType=ae,i.lanes=g,i;case Te:return Xc(l,m,g,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:E=10;break e;case O:E=9;break e;case M:E=11;break e;case ke:E=14;break e;case Ae:E=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=kn(E,l,o,m),o.elementType=i,o.type=d,o.lanes=g,o}function Ms(i,o,l,d){return i=kn(7,i,d,o),i.lanes=l,i}function Xc(i,o,l,d){return i=kn(22,i,d,o),i.elementType=Te,i.lanes=l,i.stateNode={isHidden:!1},i}function gp(i,o,l){return i=kn(6,i,null,o),i.lanes=l,i}function yp(i,o,l){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function jx(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function vp(i,o,l,d,m,g,E,k,L){return i=new jx(i,o,l,k,L),o===1?(o=1,g===!0&&(o|=8)):o=0,g=kn(3,null,null,o),i.current=g,g.stateNode=i,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(g),i}function Ux(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function l_(i){if(!i)return Si;i=i._reactInternals;e:{if(Ln(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(en(l))return My(i,l,o)}return o}function u_(i,o,l,d,m,g,E,k,L){return i=vp(l,d,!0,i,m,g,E,k,L),i.context=l_(null),l=i.current,d=Wt(),m=ki(l),g=Hr(d,m),g.callback=o??null,Pi(l,g,m),i.current.lanes=m,ws(i,m,d),rn(i,d),i}function Zc(i,o,l,d){var m=o.current,g=Wt(),E=ki(m);return l=l_(l),o.context===null?o.context=l:o.pendingContext=l,o=Hr(g,E),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Pi(m,o,E),i!==null&&(Hn(i,m,E,g),bc(i,m,E)),E}function eh(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function c_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function _p(i,o){c_(i,o),(i=i.alternate)&&c_(i,o)}function zx(){return null}var h_=typeof reportError=="function"?reportError:function(i){console.error(i)};function wp(i){this._internalRoot=i}th.prototype.render=wp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Zc(i,o,null,null)},th.prototype.unmount=wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ds(function(){Zc(null,i,null,null)}),o[jr]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var o=cl();i={blockedOn:null,target:i,priority:o};for(var l=0;l<fn.length&&o!==0&&o<fn[l].priority;l++);fn.splice(l,0,i),l===0&&So(i)}};function Ep(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function d_(){}function Bx(i,o,l,d,m){if(m){if(typeof d=="function"){var g=d;d=function(){var G=eh(E);g.call(G)}}var E=u_(o,d,i,0,null,!1,!1,"",d_);return i._reactRootContainer=E,i[jr]=E.current,Tl(i.nodeType===8?i.parentNode:i),Ds(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var G=eh(L);k.call(G)}}var L=vp(i,0,!1,null,null,!1,!1,"",d_);return i._reactRootContainer=L,i[jr]=L.current,Tl(i.nodeType===8?i.parentNode:i),Ds(function(){Zc(o,L,l,d)}),L}function rh(i,o,l,d,m){var g=l._reactRootContainer;if(g){var E=g;if(typeof m=="function"){var k=m;m=function(){var L=eh(E);k.call(L)}}Zc(o,E,i,m)}else E=Bx(l,o,i,m,d);return eh(E)}ll=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ke(o.pendingLanes);l!==0&&(al(o,l|1),rn(o,tt()),(He&6)===0&&(Jo=tt()+500,Ai()))}break;case 13:Ds(function(){var d=$r(i,1);if(d!==null){var m=Wt();Hn(d,i,1,m)}}),_p(i,1)}},To=function(i){if(i.tag===13){var o=$r(i,134217728);if(o!==null){var l=Wt();Hn(o,i,134217728,l)}_p(i,134217728)}},ul=function(i){if(i.tag===13){var o=ki(i),l=$r(i,o);if(l!==null){var d=Wt();Hn(l,i,o,d)}_p(i,o)}},cl=function(){return ze},hl=function(i,o){var l=ze;try{return ze=i,o()}finally{ze=l}},Cr=function(i,o,l){switch(o){case"input":if(cs(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=wc(d);if(!m)throw Error(t(90));us(d),cs(d,m)}}}break;case"textarea":qu(i,l);break;case"select":o=l.value,o!=null&&Vn(i,!!l.multiple,o,!1)}},Wu=dp,Qu=Ds;var $x={usingClientEntryPoint:!1,Events:[Al,Fo,wc,hi,di,dp]},jl={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hx={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nc(i),i===null?null:i.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||zx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{gs=ih.inject(Hx),hn=ih}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x,sn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(o))throw Error(t(200));return Ux(i,o,null,l)},sn.createRoot=function(i,o){if(!Ep(i))throw Error(t(299));var l=!1,d="",m=h_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=vp(i,1,!1,null,null,l,!1,d,m),i[jr]=o.current,Tl(i.nodeType===8?i.parentNode:i),new wp(o)},sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=nc(o),i=i===null?null:i.stateNode,i},sn.flushSync=function(i){return Ds(i)},sn.hydrate=function(i,o,l){if(!nh(o))throw Error(t(200));return rh(null,i,o,!0,l)},sn.hydrateRoot=function(i,o,l){if(!Ep(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,g="",E=h_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=u_(o,null,i,1,l??null,m,!1,g,E),i[jr]=o.current,Tl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new th(o)},sn.render=function(i,o,l){if(!nh(o))throw Error(t(200));return rh(null,i,o,!1,l)},sn.unmountComponentAtNode=function(i){if(!nh(i))throw Error(t(40));return i._reactRootContainer?(Ds(function(){rh(null,null,i,!1,function(){i._reactRootContainer=null,i[jr]=null})}),!0):!1},sn.unstable_batchedUpdates=dp,sn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!nh(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return rh(i,o,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var w_;function ZE(){if(w_)return Sp.exports;w_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=Xx(),Sp.exports}var E_;function Zx(){if(E_)return sh;E_=1;var n=ZE();return sh.createRoot=n.createRoot,sh.hydrateRoot=n.hydrateRoot,sh}var eP=Zx();const tP="modulepreload",nP=function(n){return"/kids/"+n},T_={},Je=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(t.map(p=>{if(p=nP(p),p in T_)return;T_[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":tP,v||(T.as="script"),T.crossOrigin="",T.href=p,h&&T.setAttribute("nonce",h),document.head.appendChild(T),v)return new Promise((A,D)=>{T.addEventListener("load",A),T.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var C=vd();const zi=XE(C),rP=Kx({__proto__:null,default:zi},[C]);function iP(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,s,a,u=[],h="",f=n.split("/");for(f[0]||f.shift();s=f.shift();)t=s[0],t==="*"?(u.push(t),h+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),u.push(s.substring(1,~r?r:~a?a:s.length)),h+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(h+=(~r?"?":"")+"\\"+s.substring(a))):h+="/"+s;return{keys:u,pattern:new RegExp("^"+h+(e?"(?=$|/)":"/?$"),"i")}}var Pp={exports:{}},Rp={};var I_;function sP(){if(I_)return Rp;I_=1;var n=vd();function e(_,T){return _===T&&(_!==0||1/_===1/T)||_!==_&&T!==T}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function h(_,T){var A=T(),D=r({inst:{value:A,getSnapshot:T}}),P=D[0].inst,b=D[1];return a(function(){P.value=A,P.getSnapshot=T,f(P)&&b({inst:P})},[_,A,T]),s(function(){return f(P)&&b({inst:P}),_(function(){f(P)&&b({inst:P})})},[_]),u(A),A}function f(_){var T=_.getSnapshot;_=_.value;try{var A=T();return!t(_,A)}catch{return!0}}function p(_,T){return T()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Rp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Rp}var S_;function oP(){return S_||(S_=1,Pp.exports=sP()),Pp.exports}var aP=oP();const lP=rP.useInsertionEffect,uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cP=uP?C.useLayoutEffect:C.useEffect,hP=lP||cP,eT=n=>{const e=C.useRef([n,(...t)=>e[0](...t)]).current;return hP(()=>{e[0]=n}),e[1]},dP="popstate",Km="pushState",Gm="replaceState",fP="hashchange",A_=[dP,Km,Gm,fP],pP=n=>{for(const e of A_)addEventListener(e,n);return()=>{for(const e of A_)removeEventListener(e,n)}},tT=(n,e)=>aP.useSyncExternalStore(pP,n,e),mP=()=>location.search,gP=({ssrSearch:n=""}={})=>tT(mP,()=>n),x_=()=>location.pathname,yP=({ssrPath:n}={})=>tT(x_,n?()=>n:x_),vP=(n,{replace:e=!1,state:t=null}={})=>history[e?Gm:Km](t,"",n),_P=(n={})=>[yP(n),vP],P_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[P_]>"u"){for(const n of[Km,Gm]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,P_,{value:!0})}const wP=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",nT=(n="")=>n==="/"?"":n,EP=(n,e)=>n[0]==="~"?n.slice(1):nT(e)+n,TP=(n="",e)=>wP(R_(nT(n)),R_(e)),R_=n=>{try{return decodeURI(n)}catch{return n}},rT={hook:_P,searchHook:gP,parser:iP,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},iT=C.createContext(rT),Ru=()=>C.useContext(iT),sT={},oT=C.createContext(sT),IP=()=>C.useContext(oT),_d=n=>{const[e,t]=n.hook(n);return[TP(n.base,e),eT((r,s)=>t(EP(r,n.base),s))]},TL=()=>_d(Ru()),aT=(n,e,t,r)=>{const{pattern:s,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),u=s.exec(t)||[],[h,...f]=u;return h!==void 0?[!0,(()=>{const p=a!==!1?Object.fromEntries(a.map((_,T)=>[_,f[T]])):u.groups;let v={...f};return p&&Object.assign(v,p),v})(),...r?[h]:[]]:[!1,null]},SP=({children:n,...e})=>{const t=Ru(),r=e.hook?rT:t;let s=r;const[a,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let h=C.useRef({}),f=h.current,p=f;for(let v in r){const _=v==="base"?r[v]+(e[v]||""):e[v]||r[v];f===p&&_!==p[v]&&(h.current=p={...p}),p[v]=_,_!==r[v]&&(s=p)}return C.createElement(iT.Provider,{value:s,children:n})},C_=({children:n,component:e},t)=>e?C.createElement(e,{params:t}):typeof n=="function"?n(t):n,AP=n=>{let e=C.useRef(sT),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},Ge=({path:n,nest:e,match:t,...r})=>{const s=Ru(),[a]=_d(s),[u,h,f]=t??aT(s.parser,n,a,e),p=AP({...IP(),...h});if(!u)return null;const v=f?C.createElement(SP,{base:f},C_(r,p)):C_(r,p);return C.createElement(oT.Provider,{value:p,children:v})},xP=C.forwardRef((n,e)=>{const t=Ru(),[r,s]=_d(t),{to:a="",href:u=a,onClick:h,asChild:f,children:p,className:v,replace:_,state:T,...A}=n,D=eT(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(h?.(b),b.defaultPrevented||(b.preventDefault(),s(u,n)))}),P=t.hrefs(u[0]==="~"?u.slice(1):t.base+u,t);return f&&C.isValidElement(p)?C.cloneElement(p,{onClick:D,href:P}):C.createElement("a",{...A,onClick:D,href:P,className:v?.call?v(r===u):v,children:p,ref:e})}),lT=n=>Array.isArray(n)?n.flatMap(e=>lT(e&&e.type===C.Fragment?e.props.children:e)):[n],PP=({children:n,location:e})=>{const t=Ru(),[r]=_d(t);for(const s of lT(n)){let a=0;if(C.isValidElement(s)&&(a=aT(t.parser,s.props.path,e||r,s.props.nest))[0])return C.cloneElement(s,{match:a})}return null};var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ed=typeof window>"u"||"Deno"in globalThis;function qn(){}function RP(n,e){return typeof n=="function"?n(e):n}function CP(n){return typeof n=="number"&&n>=0&&n!==1/0}function bP(n,e){return Math.max(n+(e||0)-Date.now(),0)}function b_(n,e){return typeof n=="function"?n(e):n}function kP(n,e){return typeof n=="function"?n(e):n}function k_(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==Wm(u,e.options))return!1}else if(!pu(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||a&&!a(e))}function N_(n,e){const{exact:t,status:r,predicate:s,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(fu(e.options.mutationKey)!==fu(a))return!1}else if(!pu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Wm(n,e){return(e?.queryKeyHashFn||fu)(n)}function fu(n){return JSON.stringify(n,(e,t)=>em(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function pu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!pu(n[t],e[t])):!1}function uT(n,e){if(n===e)return n;const t=D_(n)&&D_(e);if(t||em(n)&&em(e)){const r=t?n:Object.keys(n),s=r.length,a=t?e:Object.keys(e),u=a.length,h=t?[]:{};let f=0;for(let p=0;p<u;p++){const v=t?p:a[p];(!t&&r.includes(v)||t)&&n[v]===void 0&&e[v]===void 0?(h[v]=void 0,f++):(h[v]=uT(n[v],e[v]),h[v]===n[v]&&n[v]!==void 0&&f++)}return s===u&&f===s?n:h}return e}function IL(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function D_(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function em(n){if(!O_(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!O_(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function O_(n){return Object.prototype.toString.call(n)==="[object Object]"}function NP(n){return new Promise(e=>{setTimeout(e,n)})}function DP(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?uT(n,e):e}function OP(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function VP(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Qm=Symbol();function cT(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Qm?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var MP=class extends wd{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Ed&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},hT=new MP,LP=class extends wd{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Ed&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Mh=new LP;function FP(){let n,e;const t=new Promise((s,a)=>{n=s,e=a});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function jP(n){return Math.min(1e3*2**n,3e4)}function dT(n){return(n??"online")==="online"?Mh.isOnline():!0}var fT=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Cp(n){return n instanceof fT}function pT(n){let e=!1,t=0,r=!1,s;const a=FP(),u=P=>{r||(T(new fT(P)),n.abort?.())},h=()=>{e=!0},f=()=>{e=!1},p=()=>hT.isFocused()&&(n.networkMode==="always"||Mh.isOnline())&&n.canRun(),v=()=>dT(n.networkMode)&&n.canRun(),_=P=>{r||(r=!0,n.onSuccess?.(P),s?.(),a.resolve(P))},T=P=>{r||(r=!0,n.onError?.(P),s?.(),a.reject(P))},A=()=>new Promise(P=>{s=b=>{(r||p())&&P(b)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),D=()=>{if(r)return;let P;const b=t===0?n.initialPromise:void 0;try{P=b??n.fn()}catch(q){P=Promise.reject(q)}Promise.resolve(P).then(_).catch(q=>{if(r)return;const K=n.retry??(Ed?0:3),Q=n.retryDelay??jP,Y=typeof Q=="function"?Q(t,q):Q,Z=K===!0||typeof K=="number"&&t<K||typeof K=="function"&&K(t,q);if(e||!Z){T(q);return}t++,n.onFail?.(t,q),NP(Y).then(()=>p()?void 0:A()).then(()=>{e?T(q):D()})})};return{promise:a,cancel:u,continue:()=>(s?.(),a),cancelRetry:h,continueRetry:f,canStart:v,start:()=>(v()?D():A().then(D),a)}}function UP(){let n=[],e=0,t=h=>{h()},r=h=>{h()},s=h=>setTimeout(h,0);const a=h=>{e?n.push(h):s(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&s(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{a(()=>{h(...f)})},schedule:a,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{s=h}}}var Yt=UP(),mT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CP(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ed?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},zP=class extends mT{#e;#t;#n;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=$P(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=DP(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!bP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const f=cT(this.options,t),p={queryKey:this.queryKey,meta:this.meta};return s(p),this.#s=!1,this.options.persister?this.options.persister(f,p,this):f(p)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(u),this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta});const h=f=>{Cp(f)&&f.silent||this.#i({type:"error",error:f}),Cp(f)||(this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#r=pT({initialPromise:t?.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{if(f===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(p){h(p);return}this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:h,onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BP(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Cp(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function BP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function $P(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var HP=class extends wd{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,s=e.queryHash??Wm(r,e);let a=this.get(s);return a||(a=new zP({cache:this,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Yt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>k_(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>k_(n,t)):e}notify(n){Yt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},qP=class extends mT{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||KP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=pT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Yt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function KP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GP=class extends wd{constructor(n={}){super(),this.config=n,this.#e=new Map,this.#t=Date.now()}#e;#t;build(n,e,t){const r=new qP({mutationCache:this,mutationId:++this.#t,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){const e=oh(n),t=this.#e.get(e)??[];t.push(n),this.#e.set(e,t),this.notify({type:"added",mutation:n})}remove(n){const e=oh(n);if(this.#e.has(e)){const t=this.#e.get(e)?.filter(r=>r!==n);t&&(t.length===0?this.#e.delete(e):this.#e.set(e,t))}this.notify({type:"removed",mutation:n})}canRun(n){const e=this.#e.get(oh(n))?.find(t=>t.state.status==="pending");return!e||e===n}runNext(n){return this.#e.get(oh(n))?.find(t=>t!==n&&t.state.isPaused)?.continue()??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}getAll(){return[...this.#e.values()].flat()}find(n){const e={exact:!0,...n};return this.getAll().find(t=>N_(e,t))}findAll(n={}){return this.getAll().filter(e=>N_(n,e))}notify(n){Yt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Yt.batch(()=>Promise.all(n.map(e=>e.continue().catch(qn))))}};function oh(n){return n.options.scope?.id??String(n.mutationId)}function V_(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let v=!1;const _=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},T=cT(e.options,e.fetchOptions),A=async(D,P,b)=>{if(v)return Promise.reject();if(P==null&&D.pages.length)return Promise.resolve(D);const q={queryKey:e.queryKey,pageParam:P,direction:b?"backward":"forward",meta:e.options.meta};_(q);const K=await T(q),{maxPages:Q}=e.options,Y=b?VP:OP;return{pages:Y(D.pages,K,Q),pageParams:Y(D.pageParams,P,Q)}};if(s&&a.length){const D=s==="backward",P=D?WP:M_,b={pages:a,pageParams:u},q=P(r,b);h=await A(b,q,D)}else{const D=n??a.length;do{const P=f===0?u[0]??r.initialPageParam:M_(r,h);if(f>0&&P==null)break;h=await A(h,P),f++}while(f<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function M_(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function WP(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var QP=class{#e;#t;#n;#r;#o;#s;#i;#a;constructor(n={}){this.#e=n.queryCache||new HP,this.#t=n.mutationCache||new GP,this.#n=n.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=hT.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Mh.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=this.#e.build(this,t);return n.revalidateIfStale&&r.isStaleByTime(b_(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=this.#e.get(r.queryHash)?.state.data,u=RP(e,a);if(u!==void 0)return this.#e.build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Yt.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Yt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e,r={type:"active",...n};return Yt.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Yt.batch(()=>this.#e.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(n={},e={}){return Yt.batch(()=>{if(this.#e.findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:e?.cancelRefetch??!0},r=Yt.batch(()=>this.#e.findAll(n).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,t);return t.throwOnError||(a=a.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(qn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(b_(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(qn).catch(qn)}fetchInfiniteQuery(n){return n.behavior=V_(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(qn).catch(qn)}ensureInfiniteQueryData(n){return n.behavior=V_(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Mh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(fu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()];let t={};return e.forEach(r=>{pu(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){this.#o.set(fu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#o.values()];let t={};return e.forEach(r=>{pu(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Wm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Qm&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gT=C.createContext(void 0),xL=n=>{const e=C.useContext(gT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},YP=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),B.jsx(gT.Provider,{value:n,children:e}));async function JP(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const XP=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await JP(t),await t.json()},ZP=new QP({defaultOptions:{queries:{queryFn:XP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),eR=1,tR=1e6;let bp=0;function nR(){return bp=(bp+1)%Number.MAX_SAFE_INTEGER,bp.toString()}const kp=new Map,L_=n=>{if(kp.has(n))return;const e=setTimeout(()=>{kp.delete(n),eu({type:"REMOVE_TOAST",toastId:n})},tR);kp.set(n,e)},rR=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,eR)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?L_(t):n.toasts.forEach(r=>{L_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},_h=[];let wh={toasts:[]};function eu(n){wh=rR(wh,n),_h.forEach(e=>{e(wh)})}function iR({...n}){const e=nR(),t=s=>eu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>eu({type:"DISMISS_TOAST",toastId:e});return eu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function sR(){const[n,e]=C.useState(wh);return C.useEffect(()=>(_h.push(e),()=>{const t=_h.indexOf(e);t>-1&&_h.splice(t,1)}),[n]),{...n,toast:iR,dismiss:t=>eu({type:"DISMISS_TOAST",toastId:t})}}var Td=ZE();const oR=XE(Td);function Pt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function F_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yT(...n){return e=>{let t=!1;const r=n.map(s=>{const a=F_(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():F_(n[s],null)}}}}function Yn(...n){return C.useCallback(yT(...n),n)}function PL(n,e){const t=C.createContext(e),r=a=>{const{children:u,...h}=a,f=C.useMemo(()=>h,Object.values(h));return B.jsx(t.Provider,{value:f,children:u})};r.displayName=n+"Provider";function s(a){const u=C.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function Id(n,e=[]){let t=[];function r(a,u){const h=C.createContext(u),f=t.length;t=[...t,u];const p=_=>{const{scope:T,children:A,...D}=_,P=T?.[n]?.[f]||h,b=C.useMemo(()=>D,Object.values(D));return B.jsx(P.Provider,{value:b,children:A})};p.displayName=a+"Provider";function v(_,T){const A=T?.[n]?.[f]||h,D=C.useContext(A);if(D)return D;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,v]}const s=()=>{const a=t.map(u=>C.createContext(u));return function(h){const f=h?.[n]||a;return C.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return s.scopeName=n,[r,aR(s,...e)]}function aR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...h,..._}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Lh(n){const e=uR(n),t=C.forwardRef((r,s)=>{const{children:a,...u}=r,h=C.Children.toArray(a),f=h.find(hR);if(f){const p=f.props.children,v=h.map(_=>_===f?C.Children.count(p)>1?C.Children.only(null):C.isValidElement(p)?p.props.children:null:_);return B.jsx(e,{...u,ref:s,children:C.isValidElement(p)?C.cloneElement(p,void 0,v):null})}return B.jsx(e,{...u,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var lR=Lh("Slot");function uR(n){const e=C.forwardRef((t,r)=>{const{children:s,...a}=t;if(C.isValidElement(s)){const u=fR(s),h=dR(a,s.props);return s.type!==C.Fragment&&(h.ref=r?yT(r,u):u),C.cloneElement(s,h)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var vT=Symbol("radix.slottable");function cR(n){const e=({children:t})=>B.jsx(B.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=vT,e}function hR(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===vT}function dR(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...h)=>{a(...h),s(...h)}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function fR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function pR(n){const e=n+"CollectionProvider",[t,r]=Id(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=P=>{const{scope:b,children:q}=P,K=zi.useRef(null),Q=zi.useRef(new Map).current;return B.jsx(s,{scope:b,itemMap:Q,collectionRef:K,children:q})};u.displayName=e;const h=n+"CollectionSlot",f=Lh(h),p=zi.forwardRef((P,b)=>{const{scope:q,children:K}=P,Q=a(h,q),Y=Yn(b,Q.collectionRef);return B.jsx(f,{ref:Y,children:K})});p.displayName=h;const v=n+"CollectionItemSlot",_="data-radix-collection-item",T=Lh(v),A=zi.forwardRef((P,b)=>{const{scope:q,children:K,...Q}=P,Y=zi.useRef(null),Z=Yn(b,Y),re=a(v,q);return zi.useEffect(()=>(re.itemMap.set(Y,{ref:Y,...Q}),()=>{re.itemMap.delete(Y)})),B.jsx(T,{[_]:"",ref:Z,children:K})});A.displayName=v;function D(P){const b=a(n+"CollectionConsumer",P);return zi.useCallback(()=>{const K=b.collectionRef.current;if(!K)return[];const Q=Array.from(K.querySelectorAll(`[${_}]`));return Array.from(b.itemMap.values()).sort((re,x)=>Q.indexOf(re.ref.current)-Q.indexOf(x.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:p,ItemSlot:A},D,r]}var mR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ln=mR.reduce((n,e)=>{const t=Lh(`Primitive.${e}`),r=C.forwardRef((s,a)=>{const{asChild:u,...h}=s,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function _T(n,e){n&&Td.flushSync(()=>n.dispatchEvent(e))}function Ar(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>e.current?.(...t),[])}function gR(n,e=globalThis?.document){const t=Ar(n);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var yR="DismissableLayer",tm="dismissableLayer.update",vR="dismissableLayer.pointerDownOutside",_R="dismissableLayer.focusOutside",j_,wT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ym=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,p=C.useContext(wT),[v,_]=C.useState(null),T=v?.ownerDocument??globalThis?.document,[,A]=C.useState({}),D=Yn(e,x=>_(x)),P=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),q=P.indexOf(b),K=v?P.indexOf(v):-1,Q=p.layersWithOutsidePointerEventsDisabled.size>0,Y=K>=q,Z=ER(x=>{const S=x.target,N=[...p.branches].some(V=>V.contains(S));!Y||N||(s?.(x),u?.(x),x.defaultPrevented||h?.())},T),re=TR(x=>{const S=x.target;[...p.branches].some(V=>V.contains(S))||(a?.(x),u?.(x),x.defaultPrevented||h?.())},T);return gR(x=>{K===p.layers.size-1&&(r?.(x),!x.defaultPrevented&&h&&(x.preventDefault(),h()))},T),C.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(j_=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),U_(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=j_)}},[v,T,t,p]),C.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),U_())},[v,p]),C.useEffect(()=>{const x=()=>A({});return document.addEventListener(tm,x),()=>document.removeEventListener(tm,x)},[]),B.jsx(ln.div,{...f,ref:D,style:{pointerEvents:Q?Y?"auto":"none":void 0,...n.style},onFocusCapture:Pt(n.onFocusCapture,re.onFocusCapture),onBlurCapture:Pt(n.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Pt(n.onPointerDownCapture,Z.onPointerDownCapture)})});Ym.displayName=yR;var wR="DismissableLayerBranch",ET=C.forwardRef((n,e)=>{const t=C.useContext(wT),r=C.useRef(null),s=Yn(e,r);return C.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),B.jsx(ln.div,{...n,ref:s})});ET.displayName=wR;function ER(n,e=globalThis?.document){const t=Ar(n),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){TT(vR,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function TR(n,e=globalThis?.document){const t=Ar(n),r=C.useRef(!1);return C.useEffect(()=>{const s=a=>{a.target&&!r.current&&TT(_R,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U_(){const n=new CustomEvent(tm);document.dispatchEvent(n)}function TT(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?_T(s,a):s.dispatchEvent(a)}var IR=Ym,SR=ET,Js=globalThis?.document?C.useLayoutEffect:()=>{},AR="Portal",IT=C.forwardRef((n,e)=>{const{container:t,...r}=n,[s,a]=C.useState(!1);Js(()=>a(!0),[]);const u=t||s&&globalThis?.document?.body;return u?oR.createPortal(B.jsx(ln.div,{...r,ref:e}),u):null});IT.displayName=AR;function xR(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var Jm=n=>{const{present:e,children:t}=n,r=PR(e),s=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),a=Yn(r.ref,RR(s));return typeof t=="function"||r.isPresent?C.cloneElement(s,{ref:a}):null};Jm.displayName="Presence";function PR(n){const[e,t]=C.useState(),r=C.useRef({}),s=C.useRef(n),a=C.useRef("none"),u=n?"mounted":"unmounted",[h,f]=xR(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const p=ah(r.current);a.current=h==="mounted"?p:"none"},[h]),Js(()=>{const p=r.current,v=s.current;if(v!==n){const T=a.current,A=ah(p);n?f("MOUNT"):A==="none"||p?.display==="none"?f("UNMOUNT"):f(v&&T!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),Js(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=A=>{const P=ah(r.current).includes(A.animationName);if(A.target===e&&P&&(f("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},T=A=>{A.target===e&&(a.current=ah(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:C.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function ah(n){return n?.animationName||"none"}function RR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function CR({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=bR({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:r,h=Ar(t),f=C.useCallback(p=>{if(a){const _=typeof p=="function"?p(n):p;_!==n&&h(_)}else s(p)},[a,n,s,h]);return[u,f]}function bR({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,s=C.useRef(r),a=Ar(e);return C.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),t}var kR="VisuallyHidden",Sd=C.forwardRef((n,e)=>B.jsx(ln.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Sd.displayName=kR;var NR=Sd,Xm="ToastProvider",[Zm,DR,OR]=pR("Toast"),[ST]=Id("Toast",[OR]),[VR,Ad]=ST(Xm),AT=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:u}=n,[h,f]=C.useState(null),[p,v]=C.useState(0),_=C.useRef(!1),T=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xm}\`. Expected non-empty \`string\`.`),B.jsx(Zm.Provider,{scope:e,children:B.jsx(VR,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:f,onToastAdd:C.useCallback(()=>v(A=>A+1),[]),onToastRemove:C.useCallback(()=>v(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:T,children:u})})};AT.displayName=Xm;var xT="ToastViewport",MR=["F8"],nm="toast.viewportPause",rm="toast.viewportResume",PT=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=MR,label:s="Notifications ({hotkey})",...a}=n,u=Ad(xT,t),h=DR(t),f=C.useRef(null),p=C.useRef(null),v=C.useRef(null),_=C.useRef(null),T=Yn(e,_,u.onViewportChange),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=u.toastCount>0;C.useEffect(()=>{const b=q=>{r.length!==0&&r.every(Q=>q[Q]||q.code===Q)&&_.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),C.useEffect(()=>{const b=f.current,q=_.current;if(D&&b&&q){const K=()=>{if(!u.isClosePausedRef.current){const re=new CustomEvent(nm);q.dispatchEvent(re),u.isClosePausedRef.current=!0}},Q=()=>{if(u.isClosePausedRef.current){const re=new CustomEvent(rm);q.dispatchEvent(re),u.isClosePausedRef.current=!1}},Y=re=>{!b.contains(re.relatedTarget)&&Q()},Z=()=>{b.contains(document.activeElement)||Q()};return b.addEventListener("focusin",K),b.addEventListener("focusout",Y),b.addEventListener("pointermove",K),b.addEventListener("pointerleave",Z),window.addEventListener("blur",K),window.addEventListener("focus",Q),()=>{b.removeEventListener("focusin",K),b.removeEventListener("focusout",Y),b.removeEventListener("pointermove",K),b.removeEventListener("pointerleave",Z),window.removeEventListener("blur",K),window.removeEventListener("focus",Q)}}},[D,u.isClosePausedRef]);const P=C.useCallback(({tabbingDirection:b})=>{const K=h().map(Q=>{const Y=Q.ref.current,Z=[Y,...QR(Y)];return b==="forwards"?Z:Z.reverse()});return(b==="forwards"?K.reverse():K).flat()},[h]);return C.useEffect(()=>{const b=_.current;if(b){const q=K=>{const Q=K.altKey||K.ctrlKey||K.metaKey;if(K.key==="Tab"&&!Q){const Z=document.activeElement,re=K.shiftKey;if(K.target===b&&re){p.current?.focus();return}const N=P({tabbingDirection:re?"backwards":"forwards"}),V=N.findIndex(O=>O===Z);Np(N.slice(V+1))?K.preventDefault():re?p.current?.focus():v.current?.focus()}};return b.addEventListener("keydown",q),()=>b.removeEventListener("keydown",q)}},[h,P]),B.jsxs(SR,{ref:f,role:"region","aria-label":s.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:D?void 0:"none"},children:[D&&B.jsx(im,{ref:p,onFocusFromOutsideViewport:()=>{const b=P({tabbingDirection:"forwards"});Np(b)}}),B.jsx(Zm.Slot,{scope:t,children:B.jsx(ln.ol,{tabIndex:-1,...a,ref:T})}),D&&B.jsx(im,{ref:v,onFocusFromOutsideViewport:()=>{const b=P({tabbingDirection:"backwards"});Np(b)}})]})});PT.displayName=xT;var RT="ToastFocusProxy",im=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,a=Ad(RT,t);return B.jsx(Sd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:u=>{const h=u.relatedTarget;!a.viewport?.contains(h)&&r()}})});im.displayName=RT;var xd="Toast",LR="toast.swipeStart",FR="toast.swipeMove",jR="toast.swipeCancel",UR="toast.swipeEnd",CT=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:a,...u}=n,[h=!0,f]=CR({prop:r,defaultProp:s,onChange:a});return B.jsx(Jm,{present:t||h,children:B.jsx($R,{open:h,...u,ref:e,onClose:()=>f(!1),onPause:Ar(n.onPause),onResume:Ar(n.onResume),onSwipeStart:Pt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(n.onSwipeMove,p=>{const{x:v,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Pt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(n.onSwipeEnd,p=>{const{x:v,y:_}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),f(!1)})})})});CT.displayName=xd;var[zR,BR]=ST(xd,{onClose(){}}),$R=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:a,onClose:u,onEscapeKeyDown:h,onPause:f,onResume:p,onSwipeStart:v,onSwipeMove:_,onSwipeCancel:T,onSwipeEnd:A,...D}=n,P=Ad(xd,t),[b,q]=C.useState(null),K=Yn(e,ae=>q(ae)),Q=C.useRef(null),Y=C.useRef(null),Z=s||P.duration,re=C.useRef(0),x=C.useRef(Z),S=C.useRef(0),{onToastAdd:N,onToastRemove:V}=P,O=Ar(()=>{b?.contains(document.activeElement)&&P.viewport?.focus(),u()}),M=C.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(S.current),re.current=new Date().getTime(),S.current=window.setTimeout(O,ae))},[O]);C.useEffect(()=>{const ae=P.viewport;if(ae){const ke=()=>{M(x.current),p?.()},Ae=()=>{const Te=new Date().getTime()-re.current;x.current=x.current-Te,window.clearTimeout(S.current),f?.()};return ae.addEventListener(nm,Ae),ae.addEventListener(rm,ke),()=>{ae.removeEventListener(nm,Ae),ae.removeEventListener(rm,ke)}}},[P.viewport,Z,f,p,M]),C.useEffect(()=>{a&&!P.isClosePausedRef.current&&M(Z)},[a,Z,P.isClosePausedRef,M]),C.useEffect(()=>(N(),()=>V()),[N,V]);const R=C.useMemo(()=>b?MT(b):null,[b]);return P.viewport?B.jsxs(B.Fragment,{children:[R&&B.jsx(HR,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),B.jsx(zR,{scope:t,onClose:O,children:Td.createPortal(B.jsx(Zm.ItemSlot,{scope:t,children:B.jsx(IR,{asChild:!0,onEscapeKeyDown:Pt(h,()=>{P.isFocusedToastEscapeKeyDownRef.current||O(),P.isFocusedToastEscapeKeyDownRef.current=!1}),children:B.jsx(ln.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":P.swipeDirection,...D,ref:K,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Pt(n.onKeyDown,ae=>{ae.key==="Escape"&&(h?.(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(P.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Pt(n.onPointerDown,ae=>{ae.button===0&&(Q.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:Pt(n.onPointerMove,ae=>{if(!Q.current)return;const ke=ae.clientX-Q.current.x,Ae=ae.clientY-Q.current.y,Te=!!Y.current,J=["left","right"].includes(P.swipeDirection),ce=["left","up"].includes(P.swipeDirection)?Math.min:Math.max,le=J?ce(0,ke):0,j=J?0:ce(0,Ae),X=ae.pointerType==="touch"?10:2,xe={x:le,y:j},Pe={originalEvent:ae,delta:xe};Te?(Y.current=xe,lh(FR,_,Pe,{discrete:!1})):z_(xe,P.swipeDirection,X)?(Y.current=xe,lh(LR,v,Pe,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(ke)>X||Math.abs(Ae)>X)&&(Q.current=null)}),onPointerUp:Pt(n.onPointerUp,ae=>{const ke=Y.current,Ae=ae.target;if(Ae.hasPointerCapture(ae.pointerId)&&Ae.releasePointerCapture(ae.pointerId),Y.current=null,Q.current=null,ke){const Te=ae.currentTarget,J={originalEvent:ae,delta:ke};z_(ke,P.swipeDirection,P.swipeThreshold)?lh(UR,A,J,{discrete:!0}):lh(jR,T,J,{discrete:!0}),Te.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),P.viewport)})]}):null}),HR=n=>{const{__scopeToast:e,children:t,...r}=n,s=Ad(xd,e),[a,u]=C.useState(!1),[h,f]=C.useState(!1);return GR(()=>u(!0)),C.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:B.jsx(IT,{asChild:!0,children:B.jsx(Sd,{...r,children:a&&B.jsxs(B.Fragment,{children:[s.label," ",t]})})})},qR="ToastTitle",bT=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return B.jsx(ln.div,{...r,ref:e})});bT.displayName=qR;var KR="ToastDescription",kT=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return B.jsx(ln.div,{...r,ref:e})});kT.displayName=KR;var NT="ToastAction",DT=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?B.jsx(VT,{altText:t,asChild:!0,children:B.jsx(eg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NT}\`. Expected non-empty \`string\`.`),null)});DT.displayName=NT;var OT="ToastClose",eg=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=BR(OT,t);return B.jsx(VT,{asChild:!0,children:B.jsx(ln.button,{type:"button",...r,ref:e,onClick:Pt(n.onClick,s.onClose)})})});eg.displayName=OT;var VT=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return B.jsx(ln.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function MT(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...MT(r))}}),e}function lh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?_T(s,a):s.dispatchEvent(a)}var z_=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),a=r>s;return e==="left"||e==="right"?a&&r>t:!a&&s>t};function GR(n=()=>{}){const e=Ar(n);Js(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function WR(n){return n.nodeType===n.ELEMENT_NODE}function QR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Np(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var YR=AT,LT=PT,FT=CT,jT=bT,UT=kT,zT=DT,BT=eg;function $T(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=$T(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function HT(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=$T(n))&&(r&&(r+=" "),r+=e);return r}const B_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$_=HT,qT=(n,e)=>t=>{var r;if(e?.variants==null)return $_(n,t?.class,t?.className);const{variants:s,defaultVariants:a}=e,u=Object.keys(s).map(p=>{const v=t?.[p],_=a?.[p];if(v===null)return null;const T=B_(v)||B_(_);return s[p][T]}),h=t&&Object.entries(t).reduce((p,v)=>{let[_,T]=v;return T===void 0||(p[_]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:_,className:T,...A}=v;return Object.entries(A).every(D=>{let[P,b]=D;return Array.isArray(b)?b.includes({...a,...h}[P]):{...a,...h}[P]===b})?[...p,_,T]:p},[]);return $_(n,u,f,t?.class,t?.className)};const JR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KT=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var XR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZR=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>C.createElement("svg",{ref:f,...XR,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:KT("lucide",s),...h},[...u.map(([p,v])=>C.createElement(p,v)),...Array.isArray(a)?a:[a]]));const Cu=(n,e)=>{const t=C.forwardRef(({className:r,...s},a)=>C.createElement(ZR,{ref:a,iconNode:e,className:KT(`lucide-${JR(n)}`,r),...s}));return t.displayName=`${n}`,t};const e1=Cu("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const GT=Cu("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const t1=Cu("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const n1=Cu("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const r1=Cu("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tg="-",i1=n=>{const e=o1(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(tg);return h[0]===""&&h.length!==1&&h.shift(),WT(h,e)||s1(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&r[u]?[...f,...r[u]]:f}}},WT=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?WT(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(tg);return e.validators.find(({validator:u})=>u(a))?.classGroupId},H_=/^\[(.+)\]$/,s1=n=>{if(H_.test(n)){const e=H_.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},o1=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return l1(Object.entries(n.classGroups),t).forEach(([a,u])=>{sm(u,r,a,e)}),r},sm=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:q_(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(a1(s)){sm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,u])=>{sm(u,q_(e,a),t,r)})})},q_=(n,e)=>{let t=n;return e.split(tg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},a1=n=>n.isThemeGetter,l1=(n,e)=>e?n.map(([t,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,s]}):n,u1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return s(a,u),u},set(a,u){t.has(a)?t.set(a,u):s(a,u)}}},QT="!",c1=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],a=e.length,u=h=>{const f=[];let p=0,v=0,_;for(let b=0;b<h.length;b++){let q=h[b];if(p===0){if(q===s&&(r||h.slice(b,b+a)===e)){f.push(h.slice(v,b)),v=b+a;continue}if(q==="/"){_=b;continue}}q==="["?p++:q==="]"&&p--}const T=f.length===0?h:h.substring(v),A=T.startsWith(QT),D=A?T.substring(1):T,P=_&&_>v?_-v:void 0;return{modifiers:f,hasImportantModifier:A,baseClassName:D,maybePostfixModifierPosition:P}};return t?h=>t({className:h,parseClassName:u}):u},h1=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},d1=n=>({cache:u1(n.cacheSize),parseClassName:c1(n),...i1(n)}),f1=/\s+/,p1=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],u=n.trim().split(f1);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:v,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:A}=t(p);let D=!!A,P=r(D?T.substring(0,A):T);if(!P){if(!D){h=p+(h.length>0?" "+h:h);continue}if(P=r(T),!P){h=p+(h.length>0?" "+h:h);continue}D=!1}const b=h1(v).join(":"),q=_?b+QT:b,K=q+P;if(a.includes(K))continue;a.push(K);const Q=s(P,D);for(let Y=0;Y<Q.length;++Y){const Z=Q[Y];a.push(q+Z)}h=p+(h.length>0?" "+h:h)}return h};function m1(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=YT(e))&&(r&&(r+=" "),r+=t);return r}const YT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=YT(n[r]))&&(t&&(t+=" "),t+=e);return t};function g1(n,...e){let t,r,s,a=u;function u(f){const p=e.reduce((v,_)=>_(v),n());return t=d1(p),r=t.cache.get,s=t.cache.set,a=h,h(f)}function h(f){const p=r(f);if(p)return p;const v=p1(f,t);return s(f,v),v}return function(){return a(m1.apply(null,arguments))}}const it=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},JT=/^\[(?:([a-z-]+):)?(.+)\]$/i,y1=/^\d+\/\d+$/,v1=new Set(["px","full","screen"]),_1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=n=>ca(n)||v1.has(n)||y1.test(n),Vi=n=>Ma(n,"length",k1),ca=n=>!!n&&!Number.isNaN(Number(n)),Dp=n=>Ma(n,"number",ca),zl=n=>!!n&&Number.isInteger(Number(n)),S1=n=>n.endsWith("%")&&ca(n.slice(0,-1)),De=n=>JT.test(n),Mi=n=>_1.test(n),A1=new Set(["length","size","percentage"]),x1=n=>Ma(n,A1,XT),P1=n=>Ma(n,"position",XT),R1=new Set(["image","url"]),C1=n=>Ma(n,R1,D1),b1=n=>Ma(n,"",N1),Bl=()=>!0,Ma=(n,e,t)=>{const r=JT.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},k1=n=>w1.test(n)&&!E1.test(n),XT=()=>!1,N1=n=>T1.test(n),D1=n=>I1.test(n),O1=()=>{const n=it("colors"),e=it("spacing"),t=it("blur"),r=it("brightness"),s=it("borderColor"),a=it("borderRadius"),u=it("borderSpacing"),h=it("borderWidth"),f=it("contrast"),p=it("grayscale"),v=it("hueRotate"),_=it("invert"),T=it("gap"),A=it("gradientColorStops"),D=it("gradientColorStopPositions"),P=it("inset"),b=it("margin"),q=it("opacity"),K=it("padding"),Q=it("saturate"),Y=it("scale"),Z=it("sepia"),re=it("skew"),x=it("space"),S=it("translate"),N=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",De,e],M=()=>[De,e],R=()=>["",Gr,Vi],ae=()=>["auto",ca,De],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",De],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[ca,De];return{cacheSize:500,separator:":",theme:{colors:[Bl],spacing:[Gr,Vi],blur:["none","",Mi,De],brightness:j(),borderColor:[n],borderRadius:["none","","full",Mi,De],borderSpacing:M(),borderWidth:R(),contrast:j(),grayscale:ce(),hueRotate:j(),invert:ce(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[S1,Vi],inset:O(),margin:O(),opacity:j(),padding:M(),saturate:j(),scale:j(),sepia:ce(),skew:j(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Mi]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),De]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zl,De]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",zl,De]}],"grid-cols":[{"grid-cols":[Bl]}],"col-start-end":[{col:["auto",{span:["full",zl,De]},De]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[Bl]}],"row-start-end":[{row:["auto",{span:[zl,De]},De]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[K]}],px:[{px:[K]}],py:[{py:[K]}],ps:[{ps:[K]}],pe:[{pe:[K]}],pt:[{pt:[K]}],pr:[{pr:[K]}],pb:[{pb:[K]}],pl:[{pl:[K]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[Mi]},Mi]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mi,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[Bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",ca,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[q]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,Vi]}],"underline-offset":[{"underline-offset":["auto",Gr,De]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[q]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),P1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C1]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[q]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[q]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[Gr,De]}],"outline-w":[{outline:[Gr,Vi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[q]}],"ring-offset-w":[{"ring-offset":[Gr,Vi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Mi,b1]}],"shadow-color":[{shadow:[Bl]}],opacity:[{opacity:[q]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Mi,De]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[_]}],saturate:[{saturate:[Q]}],sepia:[{sepia:[Z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[q]}],"backdrop-saturate":[{"backdrop-saturate":[Q]}],"backdrop-sepia":[{"backdrop-sepia":[Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[zl,De]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Gr,Vi,Dp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V1=g1(O1);function un(...n){return V1(HT(n))}const M1=YR,ZT=C.forwardRef(({className:n,...e},t)=>B.jsx(LT,{ref:t,className:un("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ZT.displayName=LT.displayName;const L1=qT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eI=C.forwardRef(({className:n,variant:e,...t},r)=>B.jsx(FT,{ref:r,className:un(L1({variant:e}),n),...t}));eI.displayName=FT.displayName;const F1=C.forwardRef(({className:n,...e},t)=>B.jsx(zT,{ref:t,className:un("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));F1.displayName=zT.displayName;const tI=C.forwardRef(({className:n,...e},t)=>B.jsx(BT,{ref:t,className:un("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:B.jsx(r1,{className:"h-4 w-4"})}));tI.displayName=BT.displayName;const nI=C.forwardRef(({className:n,...e},t)=>B.jsx(jT,{ref:t,className:un("text-sm font-semibold",n),...e}));nI.displayName=jT.displayName;const rI=C.forwardRef(({className:n,...e},t)=>B.jsx(UT,{ref:t,className:un("text-sm opacity-90",n),...e}));rI.displayName=UT.displayName;function j1(){const{toasts:n}=sR();return B.jsxs(M1,{children:[n.map(function({id:e,title:t,description:r,action:s,...a}){return B.jsxs(eI,{...a,children:[B.jsxs("div",{className:"grid gap-1",children:[t&&B.jsx(nI,{children:t}),r&&B.jsx(rI,{children:r})]}),s,B.jsx(tI,{})]},e)}),B.jsx(ZT,{})]})}const U1=["top","right","bottom","left"],es=Math.min,En=Math.max,Fh=Math.round,uh=Math.floor,Tr=n=>({x:n,y:n}),z1={left:"right",right:"left",bottom:"top",top:"bottom"},B1={start:"end",end:"start"};function om(n,e,t){return En(n,es(e,t))}function Zr(n,e){return typeof n=="function"?n(e):n}function ei(n){return n.split("-")[0]}function La(n){return n.split("-")[1]}function ng(n){return n==="x"?"y":"x"}function rg(n){return n==="y"?"height":"width"}function ts(n){return["top","bottom"].includes(ei(n))?"y":"x"}function ig(n){return ng(ts(n))}function $1(n,e,t){t===void 0&&(t=!1);const r=La(n),s=ig(n),a=rg(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=jh(u)),[u,jh(u)]}function H1(n){const e=jh(n);return[am(n),e,am(e)]}function am(n){return n.replace(/start|end/g,e=>B1[e])}function q1(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:u;default:return[]}}function K1(n,e,t,r){const s=La(n);let a=q1(ei(n),t==="start",r);return s&&(a=a.map(u=>u+"-"+s),e&&(a=a.concat(a.map(am)))),a}function jh(n){return n.replace(/left|right|bottom|top/g,e=>z1[e])}function G1(n){return{top:0,right:0,bottom:0,left:0,...n}}function iI(n){return typeof n!="number"?G1(n):{top:n,right:n,bottom:n,left:n}}function Uh(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function K_(n,e,t){let{reference:r,floating:s}=n;const a=ts(e),u=ig(e),h=rg(u),f=ei(e),p=a==="y",v=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,T=r[h]/2-s[h]/2;let A;switch(f){case"top":A={x:v,y:r.y-s.height};break;case"bottom":A={x:v,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:_};break;case"left":A={x:r.x-s.width,y:_};break;default:A={x:r.x,y:r.y}}switch(La(e)){case"start":A[u]-=T*(t&&p?-1:1);break;case"end":A[u]+=T*(t&&p?-1:1);break}return A}const W1=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:v,y:_}=K_(p,r,f),T=r,A={},D=0;for(let P=0;P<h.length;P++){const{name:b,fn:q}=h[P],{x:K,y:Q,data:Y,reset:Z}=await q({x:v,y:_,initialPlacement:r,placement:T,strategy:s,middlewareData:A,rects:p,platform:u,elements:{reference:n,floating:e}});v=K??v,_=Q??_,A={...A,[b]:{...A[b],...Y}},Z&&D<=50&&(D++,typeof Z=="object"&&(Z.placement&&(T=Z.placement),Z.rects&&(p=Z.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):Z.rects),{x:v,y:_}=K_(p,T,f)),P=-1)}return{x:v,y:_,placement:T,strategy:s,middlewareData:A}};async function mu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:T=!1,padding:A=0}=Zr(e,n),D=iI(A),b=h[T?_==="floating"?"reference":"floating":_],q=Uh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:f})),K=_==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,Q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Y=await(a.isElement==null?void 0:a.isElement(Q))?await(a.getScale==null?void 0:a.getScale(Q))||{x:1,y:1}:{x:1,y:1},Z=Uh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:K,offsetParent:Q,strategy:f}):K);return{top:(q.top-Z.top+D.top)/Y.y,bottom:(Z.bottom-q.bottom+D.bottom)/Y.y,left:(q.left-Z.left+D.left)/Y.x,right:(Z.right-q.right+D.right)/Y.x}}const Q1=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:p,padding:v=0}=Zr(n,e)||{};if(p==null)return{};const _=iI(v),T={x:t,y:r},A=ig(s),D=rg(A),P=await u.getDimensions(p),b=A==="y",q=b?"top":"left",K=b?"bottom":"right",Q=b?"clientHeight":"clientWidth",Y=a.reference[D]+a.reference[A]-T[A]-a.floating[D],Z=T[A]-a.reference[A],re=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let x=re?re[Q]:0;(!x||!await(u.isElement==null?void 0:u.isElement(re)))&&(x=h.floating[Q]||a.floating[D]);const S=Y/2-Z/2,N=x/2-P[D]/2-1,V=es(_[q],N),O=es(_[K],N),M=V,R=x-P[D]-O,ae=x/2-P[D]/2+S,ke=om(M,ae,R),Ae=!f.arrow&&La(s)!=null&&ae!==ke&&a.reference[D]/2-(ae<M?V:O)-P[D]/2<0,Te=Ae?ae<M?ae-M:ae-R:0;return{[A]:T[A]+Te,data:{[A]:ke,centerOffset:ae-ke-Te,...Ae&&{alignmentOffset:Te}},reset:Ae}}}),Y1=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:T,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:P=!0,...b}=Zr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const q=ei(s),K=ts(h),Q=ei(h)===h,Y=await(f.isRTL==null?void 0:f.isRTL(p.floating)),Z=T||(Q||!P?[jh(h)]:H1(h)),re=D!=="none";!T&&re&&Z.push(...K1(h,P,D,Y));const x=[h,...Z],S=await mu(e,b),N=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&N.push(S[q]),_){const ae=$1(s,u,Y);N.push(S[ae[0]],S[ae[1]])}if(V=[...V,{placement:s,overflows:N}],!N.every(ae=>ae<=0)){var O,M;const ae=(((O=a.flip)==null?void 0:O.index)||0)+1,ke=x[ae];if(ke)return{data:{index:ae,overflows:V},reset:{placement:ke}};let Ae=(M=V.filter(Te=>Te.overflows[0]<=0).sort((Te,J)=>Te.overflows[1]-J.overflows[1])[0])==null?void 0:M.placement;if(!Ae)switch(A){case"bestFit":{var R;const Te=(R=V.filter(J=>{if(re){const ce=ts(J.placement);return ce===K||ce==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ce=>ce>0).reduce((ce,le)=>ce+le,0)]).sort((J,ce)=>J[1]-ce[1])[0])==null?void 0:R[0];Te&&(Ae=Te);break}case"initialPlacement":Ae=h;break}if(s!==Ae)return{reset:{placement:Ae}}}return{}}}};function G_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function W_(n){return U1.some(e=>n[e]>=0)}const J1=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Zr(n,e);switch(r){case"referenceHidden":{const a=await mu(e,{...s,elementContext:"reference"}),u=G_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:W_(u)}}}case"escaped":{const a=await mu(e,{...s,altBoundary:!0}),u=G_(a,t.floating);return{data:{escapedOffsets:u,escaped:W_(u)}}}default:return{}}}}};async function X1(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=ei(t),h=La(t),f=ts(t)==="y",p=["left","top"].includes(u)?-1:1,v=a&&f?-1:1,_=Zr(e,n);let{mainAxis:T,crossAxis:A,alignmentAxis:D}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return h&&typeof D=="number"&&(A=h==="end"?D*-1:D),f?{x:A*v,y:T*p}:{x:T*p,y:A*v}}const Z1=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:u,middlewareData:h}=e,f=await X1(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:u}}}}},eC=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:b=>{let{x:q,y:K}=b;return{x:q,y:K}}},...f}=Zr(n,e),p={x:t,y:r},v=await mu(e,f),_=ts(ei(s)),T=ng(_);let A=p[T],D=p[_];if(a){const b=T==="y"?"top":"left",q=T==="y"?"bottom":"right",K=A+v[b],Q=A-v[q];A=om(K,A,Q)}if(u){const b=_==="y"?"top":"left",q=_==="y"?"bottom":"right",K=D+v[b],Q=D-v[q];D=om(K,D,Q)}const P=h.fn({...e,[T]:A,[_]:D});return{...P,data:{x:P.x-t,y:P.y-r,enabled:{[T]:a,[_]:u}}}}}},tC=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:p=!0}=Zr(n,e),v={x:t,y:r},_=ts(s),T=ng(_);let A=v[T],D=v[_];const P=Zr(h,e),b=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(f){const Q=T==="y"?"height":"width",Y=a.reference[T]-a.floating[Q]+b.mainAxis,Z=a.reference[T]+a.reference[Q]-b.mainAxis;A<Y?A=Y:A>Z&&(A=Z)}if(p){var q,K;const Q=T==="y"?"width":"height",Y=["top","left"].includes(ei(s)),Z=a.reference[_]-a.floating[Q]+(Y&&((q=u.offset)==null?void 0:q[_])||0)+(Y?0:b.crossAxis),re=a.reference[_]+a.reference[Q]+(Y?0:((K=u.offset)==null?void 0:K[_])||0)-(Y?b.crossAxis:0);D<Z?D=Z:D>re&&(D=re)}return{[T]:A,[_]:D}}}},nC=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...p}=Zr(n,e),v=await mu(e,p),_=ei(s),T=La(s),A=ts(s)==="y",{width:D,height:P}=a.floating;let b,q;_==="top"||_==="bottom"?(b=_,q=T===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(q=_,b=T==="end"?"top":"bottom");const K=P-v.top-v.bottom,Q=D-v.left-v.right,Y=es(P-v[b],K),Z=es(D-v[q],Q),re=!e.middlewareData.shift;let x=Y,S=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=Q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=K),re&&!T){const V=En(v.left,0),O=En(v.right,0),M=En(v.top,0),R=En(v.bottom,0);A?S=D-2*(V!==0||O!==0?V+O:En(v.left,v.right)):x=P-2*(M!==0||R!==0?M+R:En(v.top,v.bottom))}await f({...e,availableWidth:S,availableHeight:x});const N=await u.getDimensions(h.floating);return D!==N.width||P!==N.height?{reset:{rects:!0}}:{}}}};function Pd(){return typeof window<"u"}function Fa(n){return sI(n)?(n.nodeName||"").toLowerCase():"#document"}function Tn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(n){var e;return(e=(sI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sI(n){return Pd()?n instanceof Node||n instanceof Tn(n).Node:!1}function Jn(n){return Pd()?n instanceof Element||n instanceof Tn(n).Element:!1}function xr(n){return Pd()?n instanceof HTMLElement||n instanceof Tn(n).HTMLElement:!1}function Q_(n){return!Pd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tn(n).ShadowRoot}function bu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Xn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function rC(n){return["table","td","th"].includes(Fa(n))}function Rd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function sg(n){const e=og(),t=Jn(n)?Xn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function iC(n){let e=ns(n);for(;xr(e)&&!_a(e);){if(sg(e))return e;if(Rd(e))return null;e=ns(e)}return null}function og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(n){return["html","body","#document"].includes(Fa(n))}function Xn(n){return Tn(n).getComputedStyle(n)}function Cd(n){return Jn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ns(n){if(Fa(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Q_(n)&&n.host||Rr(n);return Q_(e)?e.host:e}function oI(n){const e=ns(n);return _a(e)?n.ownerDocument?n.ownerDocument.body:n.body:xr(e)&&bu(e)?e:oI(e)}function gu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=oI(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=Tn(s);if(a){const h=lm(u);return e.concat(u,u.visualViewport||[],bu(s)?s:[],h&&t?gu(h):[])}return e.concat(s,gu(s,[],t))}function lm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function aI(n){const e=Xn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,h=Fh(t)!==a||Fh(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function ag(n){return Jn(n)?n:n.contextElement}function ha(n){const e=ag(n);if(!xr(e))return Tr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=aI(e);let u=(a?Fh(t.width):t.width)/r,h=(a?Fh(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const sC=Tr(0);function lI(n){const e=Tn(n);return!og()||!e.visualViewport?sC:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oC(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Tn(n)?!1:e}function Xs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=ag(n);let u=Tr(1);e&&(r?Jn(r)&&(u=ha(r)):u=ha(n));const h=oC(a,t,r)?lI(a):Tr(0);let f=(s.left+h.x)/u.x,p=(s.top+h.y)/u.y,v=s.width/u.x,_=s.height/u.y;if(a){const T=Tn(a),A=r&&Jn(r)?Tn(r):r;let D=T,P=lm(D);for(;P&&r&&A!==D;){const b=ha(P),q=P.getBoundingClientRect(),K=Xn(P),Q=q.left+(P.clientLeft+parseFloat(K.paddingLeft))*b.x,Y=q.top+(P.clientTop+parseFloat(K.paddingTop))*b.y;f*=b.x,p*=b.y,v*=b.x,_*=b.y,f+=Q,p+=Y,D=Tn(P),P=lm(D)}}return Uh({width:v,height:_,x:f,y:p})}function lg(n,e){const t=Cd(n).scrollLeft;return e?e.left+t:Xs(Rr(n)).left+t}function uI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:lg(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function aC(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",u=Rr(r),h=e?Rd(e.floating):!1;if(r===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Tr(1);const v=Tr(0),_=xr(r);if((_||!_&&!a)&&((Fa(r)!=="body"||bu(u))&&(f=Cd(r)),xr(r))){const A=Xs(r);p=ha(r),v.x=A.x+r.clientLeft,v.y=A.y+r.clientTop}const T=u&&!_&&!a?uI(u,f,!0):Tr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+v.x+T.x,y:t.y*p.y-f.scrollTop*p.y+v.y+T.y}}function lC(n){return Array.from(n.getClientRects())}function uC(n){const e=Rr(n),t=Cd(n),r=n.ownerDocument.body,s=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+lg(n);const h=-t.scrollTop;return Xn(r).direction==="rtl"&&(u+=En(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:h}}function cC(n,e){const t=Tn(n),r=Rr(n),s=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,f=0;if(s){a=s.width,u=s.height;const p=og();(!p||p&&e==="fixed")&&(h=s.offsetLeft,f=s.offsetTop)}return{width:a,height:u,x:h,y:f}}function hC(n,e){const t=Xs(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=xr(n)?ha(n):Tr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=s*a.x,p=r*a.y;return{width:u,height:h,x:f,y:p}}function Y_(n,e,t){let r;if(e==="viewport")r=cC(n,t);else if(e==="document")r=uC(Rr(n));else if(Jn(e))r=hC(e,t);else{const s=lI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uh(r)}function cI(n,e){const t=ns(n);return t===e||!Jn(t)||_a(t)?!1:Xn(t).position==="fixed"||cI(t,e)}function dC(n,e){const t=e.get(n);if(t)return t;let r=gu(n,[],!1).filter(h=>Jn(h)&&Fa(h)!=="body"),s=null;const a=Xn(n).position==="fixed";let u=a?ns(n):n;for(;Jn(u)&&!_a(u);){const h=Xn(u),f=sg(u);!f&&h.position==="fixed"&&(s=null),(a?!f&&!s:!f&&h.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bu(u)&&!f&&cI(n,u))?r=r.filter(v=>v!==u):s=h,u=ns(u)}return e.set(n,r),r}function fC(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?Rd(e)?[]:dC(e,this._c):[].concat(t),r],h=u[0],f=u.reduce((p,v)=>{const _=Y_(e,v,s);return p.top=En(_.top,p.top),p.right=es(_.right,p.right),p.bottom=es(_.bottom,p.bottom),p.left=En(_.left,p.left),p},Y_(e,h,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function pC(n){const{width:e,height:t}=aI(n);return{width:e,height:t}}function mC(n,e,t){const r=xr(e),s=Rr(e),a=t==="fixed",u=Xs(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=Tr(0);if(r||!r&&!a)if((Fa(e)!=="body"||bu(s))&&(h=Cd(e)),r){const T=Xs(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else s&&(f.x=lg(s));const p=s&&!r&&!a?uI(s,h):Tr(0),v=u.left+h.scrollLeft-f.x-p.x,_=u.top+h.scrollTop-f.y-p.y;return{x:v,y:_,width:u.width,height:u.height}}function Op(n){return Xn(n).position==="static"}function J_(n,e){if(!xr(n)||Xn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Rr(n)===t&&(t=t.ownerDocument.body),t}function hI(n,e){const t=Tn(n);if(Rd(n))return t;if(!xr(n)){let s=ns(n);for(;s&&!_a(s);){if(Jn(s)&&!Op(s))return s;s=ns(s)}return t}let r=J_(n,e);for(;r&&rC(r)&&Op(r);)r=J_(r,e);return r&&_a(r)&&Op(r)&&!sg(r)?t:r||iC(n)||t}const gC=async function(n){const e=this.getOffsetParent||hI,t=this.getDimensions,r=await t(n.floating);return{reference:mC(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yC(n){return Xn(n).direction==="rtl"}const vC={convertOffsetParentRelativeRectToViewportRelativeRect:aC,getDocumentElement:Rr,getClippingRect:fC,getOffsetParent:hI,getElementRects:gC,getClientRects:lC,getDimensions:pC,getScale:ha,isElement:Jn,isRTL:yC};function dI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function _C(n,e){let t=null,r;const s=Rr(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const p=n.getBoundingClientRect(),{left:v,top:_,width:T,height:A}=p;if(h||e(),!T||!A)return;const D=uh(_),P=uh(s.clientWidth-(v+T)),b=uh(s.clientHeight-(_+A)),q=uh(v),Q={rootMargin:-D+"px "+-P+"px "+-b+"px "+-q+"px",threshold:En(0,es(1,f))||1};let Y=!0;function Z(re){const x=re[0].intersectionRatio;if(x!==f){if(!Y)return u();x?u(!1,x):r=setTimeout(()=>{u(!1,1e-7)},1e3)}x===1&&!dI(p,n.getBoundingClientRect())&&u(),Y=!1}try{t=new IntersectionObserver(Z,{...Q,root:s.ownerDocument})}catch{t=new IntersectionObserver(Z,Q)}t.observe(n)}return u(!0),a}function wC(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=ag(n),v=s||a?[...p?gu(p):[],...gu(e)]:[];v.forEach(q=>{s&&q.addEventListener("scroll",t,{passive:!0}),a&&q.addEventListener("resize",t)});const _=p&&h?_C(p,t):null;let T=-1,A=null;u&&(A=new ResizeObserver(q=>{let[K]=q;K&&K.target===p&&A&&(A.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var Q;(Q=A)==null||Q.observe(e)})),t()}),p&&!f&&A.observe(p),A.observe(e));let D,P=f?Xs(n):null;f&&b();function b(){const q=Xs(n);P&&!dI(P,q)&&t(),P=q,D=requestAnimationFrame(b)}return t(),()=>{var q;v.forEach(K=>{s&&K.removeEventListener("scroll",t),a&&K.removeEventListener("resize",t)}),_?.(),(q=A)==null||q.disconnect(),A=null,f&&cancelAnimationFrame(D)}}const EC=Z1,TC=eC,IC=Y1,SC=nC,AC=J1,X_=Q1,xC=tC,PC=(n,e,t)=>{const r=new Map,s={platform:vC,...t},a={...s.platform,_c:r};return W1(n,e,{...s,platform:a})};var Eh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function zh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!zh(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!zh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function fI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(n,e){const t=fI(n);return Math.round(e*t)/t}function Vp(n){const e=C.useRef(n);return Eh(()=>{e.current=n}),e}function RC(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:p}=n,[v,_]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,A]=C.useState(r);zh(T,r)||A(r);const[D,P]=C.useState(null),[b,q]=C.useState(null),K=C.useCallback(J=>{J!==re.current&&(re.current=J,P(J))},[]),Q=C.useCallback(J=>{J!==x.current&&(x.current=J,q(J))},[]),Y=a||D,Z=u||b,re=C.useRef(null),x=C.useRef(null),S=C.useRef(v),N=f!=null,V=Vp(f),O=Vp(s),M=Vp(p),R=C.useCallback(()=>{if(!re.current||!x.current)return;const J={placement:e,strategy:t,middleware:T};O.current&&(J.platform=O.current),PC(re.current,x.current,J).then(ce=>{const le={...ce,isPositioned:M.current!==!1};ae.current&&!zh(S.current,le)&&(S.current=le,Td.flushSync(()=>{_(le)}))})},[T,e,t,O,M]);Eh(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,_(J=>({...J,isPositioned:!1})))},[p]);const ae=C.useRef(!1);Eh(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Eh(()=>{if(Y&&(re.current=Y),Z&&(x.current=Z),Y&&Z){if(V.current)return V.current(Y,Z,R);R()}},[Y,Z,R,V,N]);const ke=C.useMemo(()=>({reference:re,floating:x,setReference:K,setFloating:Q}),[K,Q]),Ae=C.useMemo(()=>({reference:Y,floating:Z}),[Y,Z]),Te=C.useMemo(()=>{const J={position:t,left:0,top:0};if(!Ae.floating)return J;const ce=Z_(Ae.floating,v.x),le=Z_(Ae.floating,v.y);return h?{...J,transform:"translate("+ce+"px, "+le+"px)",...fI(Ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:le}},[t,h,Ae.floating,v.x,v.y]);return C.useMemo(()=>({...v,update:R,refs:ke,elements:Ae,floatingStyles:Te}),[v,R,ke,Ae,Te])}const CC=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?X_({element:r.current,padding:s}).fn(t):{}:r?X_({element:r,padding:s}).fn(t):{}}}},bC=(n,e)=>({...EC(n),options:[n,e]}),kC=(n,e)=>({...TC(n),options:[n,e]}),NC=(n,e)=>({...xC(n),options:[n,e]}),DC=(n,e)=>({...IC(n),options:[n,e]}),OC=(n,e)=>({...SC(n),options:[n,e]}),VC=(n,e)=>({...AC(n),options:[n,e]}),MC=(n,e)=>({...CC(n),options:[n,e]});var LC="Arrow",pI=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return B.jsx(ln.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});pI.displayName=LC;var FC=pI;function jC(n){const[e,t]=C.useState(void 0);return Js(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var mI="Popper",[gI,yI]=Id(mI),[RL,vI]=gI(mI),_I="PopperAnchor",wI=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=vI(_I,t),u=C.useRef(null),h=Yn(e,u);return C.useEffect(()=>{a.onAnchorChange(r?.current||u.current)}),r?null:B.jsx(ln.div,{...s,ref:h})});wI.displayName=_I;var ug="PopperContent",[UC,zC]=gI(ug),EI=C.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:T=!1,updatePositionStrategy:A="optimized",onPlaced:D,...P}=n,b=vI(ug,t),[q,K]=C.useState(null),Q=Yn(e,Fe=>K(Fe)),[Y,Z]=C.useState(null),re=jC(Y),x=re?.width??0,S=re?.height??0,N=r+(a!=="center"?"-"+a:""),V=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},O=Array.isArray(p)?p:[p],M=O.length>0,R={padding:V,boundary:O.filter($C),altBoundary:M},{refs:ae,floatingStyles:ke,placement:Ae,isPositioned:Te,middlewareData:J}=RC({strategy:"fixed",placement:N,whileElementsMounted:(...Fe)=>wC(...Fe,{animationFrame:A==="always"}),elements:{reference:b.anchor},middleware:[bC({mainAxis:s+S,alignmentAxis:u}),f&&kC({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?NC():void 0,...R}),f&&DC({...R}),OC({...R,apply:({elements:Fe,rects:je,availableWidth:We,availableHeight:Vt})=>{const{width:si,height:us}=je.reference,cn=Fe.floating.style;cn.setProperty("--radix-popper-available-width",`${We}px`),cn.setProperty("--radix-popper-available-height",`${Vt}px`),cn.setProperty("--radix-popper-anchor-width",`${si}px`),cn.setProperty("--radix-popper-anchor-height",`${us}px`)}}),Y&&MC({element:Y,padding:h}),HC({arrowWidth:x,arrowHeight:S}),T&&VC({strategy:"referenceHidden",...R})]}),[ce,le]=SI(Ae),j=Ar(D);Js(()=>{Te&&j?.()},[Te,j]);const X=J.arrow?.x,xe=J.arrow?.y,Pe=J.arrow?.centerOffset!==0,[Oe,Ve]=C.useState();return Js(()=>{q&&Ve(window.getComputedStyle(q).zIndex)},[q]),B.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:Te?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:B.jsx(UC,{scope:t,placedSide:ce,onArrowChange:Z,arrowX:X,arrowY:xe,shouldHideArrow:Pe,children:B.jsx(ln.div,{"data-side":ce,"data-align":le,...P,ref:Q,style:{...P.style,animation:Te?void 0:"none"}})})})});EI.displayName=ug;var TI="PopperArrow",BC={top:"bottom",right:"left",bottom:"top",left:"right"},II=C.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=zC(TI,r),u=BC[a.placedSide];return B.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:B.jsx(FC,{...s,ref:t,style:{...s.style,display:"block"}})})});II.displayName=TI;function $C(n){return n!==null}var HC=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,u=s.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[p,v]=SI(t),_={start:"0%",center:"50%",end:"100%"}[v],T=(s.arrow?.x??0)+h/2,A=(s.arrow?.y??0)+f/2;let D="",P="";return p==="bottom"?(D=u?_:`${T}px`,P=`${-f}px`):p==="top"?(D=u?_:`${T}px`,P=`${r.floating.height+f}px`):p==="right"?(D=`${-f}px`,P=u?_:`${A}px`):p==="left"&&(D=`${r.floating.width+f}px`,P=u?_:`${A}px`),{data:{x:D,y:P}}}});function SI(n){const[e,t="center"]=n.split("-");return[e,t]}var qC=wI,KC=EI,GC=II,[bd]=Id("Tooltip",[yI]),cg=yI(),AI="TooltipProvider",WC=700,ew="tooltip.open",[QC,xI]=bd(AI),PI=n=>{const{__scopeTooltip:e,delayDuration:t=WC,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=n,u=C.useRef(!0),h=C.useRef(!1),f=C.useRef(0);return C.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),B.jsx(QC,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:C.useCallback(p=>{h.current=p},[]),disableHoverableContent:s,children:a})};PI.displayName=AI;var RI="Tooltip",[CL,kd]=bd(RI),um="TooltipTrigger",YC=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=kd(um,t),a=xI(um,t),u=cg(t),h=C.useRef(null),f=Yn(e,h,s.onTriggerChange),p=C.useRef(!1),v=C.useRef(!1),_=C.useCallback(()=>p.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),B.jsx(qC,{asChild:!0,...u,children:B.jsx(ln.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Pt(n.onPointerMove,T=>{T.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),v.current=!0)}),onPointerLeave:Pt(n.onPointerLeave,()=>{s.onTriggerLeave(),v.current=!1}),onPointerDown:Pt(n.onPointerDown,()=>{s.open&&s.onClose(),p.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Pt(n.onFocus,()=>{p.current||s.onOpen()}),onBlur:Pt(n.onBlur,s.onClose),onClick:Pt(n.onClick,s.onClose)})})});YC.displayName=um;var JC="TooltipPortal",[bL,XC]=bd(JC,{forceMount:void 0}),wa="TooltipContent",CI=C.forwardRef((n,e)=>{const t=XC(wa,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...a}=n,u=kd(wa,n.__scopeTooltip);return B.jsx(Jm,{present:r||u.open,children:u.disableHoverableContent?B.jsx(bI,{side:s,...a,ref:e}):B.jsx(ZC,{side:s,...a,ref:e})})}),ZC=C.forwardRef((n,e)=>{const t=kd(wa,n.__scopeTooltip),r=xI(wa,n.__scopeTooltip),s=C.useRef(null),a=Yn(e,s),[u,h]=C.useState(null),{trigger:f,onClose:p}=t,v=s.current,{onPointerInTransitChange:_}=r,T=C.useCallback(()=>{h(null),_(!1)},[_]),A=C.useCallback((D,P)=>{const b=D.currentTarget,q={x:D.clientX,y:D.clientY},K=ib(q,b.getBoundingClientRect()),Q=sb(q,K),Y=ob(P.getBoundingClientRect()),Z=lb([...Q,...Y]);h(Z),_(!0)},[_]);return C.useEffect(()=>()=>T(),[T]),C.useEffect(()=>{if(f&&v){const D=b=>A(b,v),P=b=>A(b,f);return f.addEventListener("pointerleave",D),v.addEventListener("pointerleave",P),()=>{f.removeEventListener("pointerleave",D),v.removeEventListener("pointerleave",P)}}},[f,v,A,T]),C.useEffect(()=>{if(u){const D=P=>{const b=P.target,q={x:P.clientX,y:P.clientY},K=f?.contains(b)||v?.contains(b),Q=!ab(q,u);K?T():Q&&(T(),p())};return document.addEventListener("pointermove",D),()=>document.removeEventListener("pointermove",D)}},[f,v,u,p,T]),B.jsx(bI,{...n,ref:a})}),[eb,tb]=bd(RI,{isInside:!1}),nb=cR("TooltipContent"),bI=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=n,f=kd(wa,t),p=cg(t),{onClose:v}=f;return C.useEffect(()=>(document.addEventListener(ew,v),()=>document.removeEventListener(ew,v)),[v]),C.useEffect(()=>{if(f.trigger){const _=T=>{T.target?.contains(f.trigger)&&v()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[f.trigger,v]),B.jsx(Ym,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:_=>_.preventDefault(),onDismiss:v,children:B.jsxs(KC,{"data-state":f.stateAttribute,...p,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(nb,{children:r}),B.jsx(eb,{scope:t,isInside:!0,children:B.jsx(NR,{id:f.contentId,role:"tooltip",children:s||r})})]})})});CI.displayName=wa;var kI="TooltipArrow",rb=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=cg(t);return tb(kI,t).isInside?null:B.jsx(GC,{...s,...r,ref:e})});rb.displayName=kI;function ib(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,s,a)){case a:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sb(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function ob(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function ab(n,e){const{x:t,y:r}=n;let s=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a].x,f=e[a].y,p=e[u].x,v=e[u].y;f>r!=v>r&&t<(p-h)*(r-f)/(v-f)+h&&(s=!s)}return s}function lb(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),ub(e)}function ub(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var cb=PI,NI=CI;const hb=cb,db=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>B.jsx(NI,{ref:r,sideOffset:e,className:un("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));db.displayName=NI.displayName;const fb=qT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),hg=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const u=r?lR:"button";return B.jsx(u,{className:un(fb({variant:e,size:t,className:n})),ref:a,...s})});hg.displayName="Button";class pb extends C.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?B.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))] p-4 text-center",children:B.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 md:p-8 rounded-3xl shadow-xl border-4 border-[hsl(var(--macaron-red))] max-w-md w-full",children:[B.jsx("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:B.jsx(n1,{className:"w-8 h-8 text-red-500"})}),B.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:""}),B.jsx("p",{className:"text-gray-600 mb-6",children:""}),B.jsxs(hg,{onClick:this.handleReload,className:"w-full bg-[hsl(var(--macaron-blue))] hover:bg-[hsl(var(--macaron-blue-dark))] text-white font-bold py-6 rounded-xl text-lg flex items-center justify-center gap-2 mb-4",children:[B.jsx(t1,{className:"w-5 h-5"}),""]}),B.jsxs("div",{className:"text-left mt-4 border-t pt-4",children:[B.jsx("p",{className:"text-xs text-gray-500 font-mono break-all mb-2",children:" ():"}),B.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono text-red-600 overflow-auto max-h-32",children:[this.state.error&&this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]})]})}):this.props.children}}const DI=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));DI.displayName="Card";const mb=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("flex flex-col space-y-1.5 p-6",n),...e}));mb.displayName="CardHeader";const gb=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("text-2xl font-semibold leading-none tracking-tight",n),...e}));gb.displayName="CardTitle";const yb=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("text-sm text-muted-foreground",n),...e}));yb.displayName="CardDescription";const OI=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("p-6 pt-0",n),...e}));OI.displayName="CardContent";const vb=C.forwardRef(({className:n,...e},t)=>B.jsx("div",{ref:t,className:un("flex items-center p-6 pt-0",n),...e}));vb.displayName="CardFooter";function _b(){const n="/kids/".replace(/\/$/,"");return B.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-[hsl(var(--macaron-pink)/0.3)] to-[hsl(var(--macaron-blue)/0.3)]",children:B.jsx(DI,{className:"w-full max-w-md mx-4 border-4 border-white rounded-3xl shadow-xl",children:B.jsxs(OI,{className:"pt-6 text-center",children:[B.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[B.jsx(e1,{className:"h-16 w-16 text-[hsl(var(--macaron-pink-dark))]"}),B.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:""})]}),B.jsx("p",{className:"text-muted-foreground mb-6",children:"..."}),B.jsx(xP,{href:n+"/",children:B.jsx(hg,{className:"btn-macaron btn-purple w-full py-6 text-lg rounded-xl",children:""})})]})})})}const wb=()=>{};var tw={};const VI=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Eb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},MI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,_=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,A=p&63;f||(A=64,u||(T=64)),r.push(t[v],t[_],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Eb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new Tb;const T=a<<2|h>>4;if(r.push(T),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(n){const e=VI(n);return MI.encodeByteArray(e,!0)},LI=function(n){return Ib(n).replace(/\./g,"")},FI=function(n){try{return MI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sb=()=>jI().__FIREBASE_DEFAULTS__,Ab=()=>{if(typeof process>"u"||typeof tw>"u")return;const n=tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FI(n[1]);return e&&JSON.parse(e)},Nd=()=>{try{return wb()||Sb()||Ab()||xb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Pb=n=>Nd()?.emulatorHosts?.[n],UI=()=>Nd()?.config,zI=n=>Nd()?.[`_${n}`];class Rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BI(n){return(await fetch(n,{credentials:"include"})).ok}const tu={};function Cb(){const n={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?n.emulator.push(e):n.prod.push(e);return n}function bb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nw=!1;function kb(n,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||tu[n]===e||tu[n]||nw)return;tu[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=Cb().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{nw=!0,u()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=bb(r),A=t("text"),D=document.getElementById(A)||document.createElement("span"),P=t("learnmore"),b=document.getElementById(P)||document.createElement("a"),q=t("preprendIcon"),K=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;h(Q),v(b,P);const Y=p();f(K,q),Q.append(K,D,b,Y),document.body.appendChild(Q)}a?(D.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function $I(){const n=Nd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ob(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Vb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mb(){const n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HI(){return!$I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qI(){return!$I()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function Lb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const Fb="FirebaseError";class ii extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fb,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?jb(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ii(s,h,r)}}function jb(n,e){return n.replace(Ub,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Ub=/\{\$([^}]+)}/g;function zb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(rw(a)&&rw(u)){if(!Zs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function rw(n){return n!==null&&typeof n=="object"}function Nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bb(n,e){const t=new $b(n,e);return t.subscribe.bind(t)}class $b{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Hb(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Mp),s.error===void 0&&(s.error=Mp),s.complete===void 0&&(s.complete=Mp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mp(){}function as(n){return n&&n._delegate?n._delegate:n}class eo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class qb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Rb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gb(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kb(n){return n===Fs?void 0:n}function Gb(n){return n.instantiationMode==="EAGER"}class Wb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const Qb={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Yb=Ue.INFO,Jb={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Xb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Jb[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=Yb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Zb=(n,e)=>e.some(t=>n instanceof t);let iw,sw;function ek(){return iw||(iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tk(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GI=new WeakMap,cm=new WeakMap,WI=new WeakMap,Lp=new WeakMap,fg=new WeakMap;function nk(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Wi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&GI.set(t,n)}).catch(()=>{}),fg.set(e,n),e}function rk(n){if(cm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});cm.set(n,e)}let hm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ik(n){hm=n(hm)}function sk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Fp(this),e,...t);return WI.set(r,e.sort?e.sort():[e]),Wi(r)}:tk().includes(n)?function(...e){return n.apply(Fp(this),e),Wi(GI.get(this))}:function(...e){return Wi(n.apply(Fp(this),e))}}function ok(n){return typeof n=="function"?sk(n):(n instanceof IDBTransaction&&rk(n),Zb(n,ek())?new Proxy(n,hm):n)}function Wi(n){if(n instanceof IDBRequest)return nk(n);if(Lp.has(n))return Lp.get(n);const e=ok(n);return e!==n&&(Lp.set(n,e),fg.set(e,n)),e}const Fp=n=>fg.get(n);function ak(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Wi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Wi(u.result),f.oldVersion,f.newVersion,Wi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const lk=["get","getKey","getAll","getAllKeys","count"],uk=["put","add","delete","clear"],jp=new Map;function ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=uk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lk.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return jp.set(e,a),a}ik(n=>({...n,get:(e,t,r)=>ow(e,t)||n.get(e,t,r),has:(e,t)=>!!ow(e,t)||n.has(e,t)}));class ck{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hk(n){return n.getComponent()?.type==="VERSION"}const dm="@firebase/app",aw="0.14.7";const ti=new dg("@firebase/app"),dk="@firebase/app-compat",fk="@firebase/analytics-compat",pk="@firebase/analytics",mk="@firebase/app-check-compat",gk="@firebase/app-check",yk="@firebase/auth",vk="@firebase/auth-compat",_k="@firebase/database",wk="@firebase/data-connect",Ek="@firebase/database-compat",Tk="@firebase/functions",Ik="@firebase/functions-compat",Sk="@firebase/installations",Ak="@firebase/installations-compat",xk="@firebase/messaging",Pk="@firebase/messaging-compat",Rk="@firebase/performance",Ck="@firebase/performance-compat",bk="@firebase/remote-config",kk="@firebase/remote-config-compat",Nk="@firebase/storage",Dk="@firebase/storage-compat",Ok="@firebase/firestore",Vk="@firebase/ai",Mk="@firebase/firestore-compat",Lk="firebase",Fk="12.8.0";const fm="[DEFAULT]",jk={[dm]:"fire-core",[dk]:"fire-core-compat",[pk]:"fire-analytics",[fk]:"fire-analytics-compat",[gk]:"fire-app-check",[mk]:"fire-app-check-compat",[yk]:"fire-auth",[vk]:"fire-auth-compat",[_k]:"fire-rtdb",[wk]:"fire-data-connect",[Ek]:"fire-rtdb-compat",[Tk]:"fire-fn",[Ik]:"fire-fn-compat",[Sk]:"fire-iid",[Ak]:"fire-iid-compat",[xk]:"fire-fcm",[Pk]:"fire-fcm-compat",[Rk]:"fire-perf",[Ck]:"fire-perf-compat",[bk]:"fire-rc",[kk]:"fire-rc-compat",[Nk]:"fire-gcs",[Dk]:"fire-gcs-compat",[Ok]:"fire-fst",[Mk]:"fire-fst-compat",[Vk]:"fire-vertex","fire-js":"fire-js",[Lk]:"fire-js-all"};const Bh=new Map,Uk=new Map,pm=new Map;function lw(n,e){try{n.container.addComponent(e)}catch(t){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ea(n){const e=n.name;if(pm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,n);for(const t of Bh.values())lw(t,n);for(const t of Uk.values())lw(t,n);return!0}function pg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}const zk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new ku("app","Firebase",zk);class Bk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const Ua=Fk;function QI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:fm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Qi.create("bad-app-name",{appName:String(s)});if(t||(t=UI()),!t)throw Qi.create("no-options");const a=Bh.get(s);if(a){if(Zs(t,a.options)&&Zs(r,a.config))return a;throw Qi.create("duplicate-app",{appName:s})}const u=new Wb(s);for(const f of pm.values())u.addComponent(f);const h=new Bk(t,r,u);return Bh.set(s,h),h}function $k(n=fm){const e=Bh.get(n);if(!e&&n===fm&&UI())return QI();if(!e)throw Qi.create("no-app",{appName:n});return e}function Yi(n,e,t){let r=jk[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(u.join(" "));return}Ea(new eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Hk="firebase-heartbeat-database",qk=1,yu="firebase-heartbeat-store";let Up=null;function YI(){return Up||(Up=ak(Hk,qk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),Up}async function Kk(n){try{const t=(await YI()).transaction(yu),r=await t.objectStore(yu).get(JI(n));return await t.done,r}catch(e){if(e instanceof ii)ti.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e?.message});ti.warn(t.message)}}}async function uw(n,e){try{const r=(await YI()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,JI(n)),await r.done}catch(t){if(t instanceof ii)ti.warn(t.message);else{const r=Qi.create("idb-set",{originalErrorMessage:t?.message});ti.warn(r.message)}}}function JI(n){return`${n.name}!${n.options.appId}`}const Gk=1024,Wk=30;class Qk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Wk){const s=Xk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cw(),{heartbeatsToSend:t,unsentEntries:r}=Yk(this._heartbeatsCache.heartbeats),s=LI(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ti.warn(e),""}}}function cw(){return new Date().toISOString().substring(0,10)}function Yk(n,e=Gk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),hw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),hw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Jk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?Lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Kk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hw(n){return LI(JSON.stringify({version:2,heartbeats:n})).length}function Xk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Zk(n){Ea(new eo("platform-logger",e=>new ck(e),"PRIVATE")),Ea(new eo("heartbeat",e=>new Qk(e),"PRIVATE")),Yi(dm,aw,n),Yi(dm,aw,"esm2020"),Yi("fire-js","")}Zk("");var eN="firebase",tN="12.8.0";Yi(eN,tN,"app");function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=XI,ZI=new ku("auth","Firebase",XI());const $h=new dg("@firebase/auth");function rN(n,...e){$h.logLevel<=Ue.WARN&&$h.warn(`Auth (${Ua}): ${n}`,...e)}function Th(n,...e){$h.logLevel<=Ue.ERROR&&$h.error(`Auth (${Ua}): ${n}`,...e)}function ni(n,...e){throw mg(n,...e)}function Ir(n,...e){return mg(n,...e)}function e0(n,e,t){const r={...nN(),[e]:t};return new ku("auth","Firebase",r).create(e,{appName:n.name})}function Ji(n){return e0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZI.create(n,...e)}function Ce(n,e,...t){if(!n)throw mg(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function ri(n,e){n||Qr(e)}function mm(){return typeof self<"u"&&self.location?.href||""}function iN(){return dw()==="http:"||dw()==="https:"}function dw(){return typeof self<"u"&&self.location?.protocol||null}function sN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||Ob()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=Nb()||Vb()}get(){return sN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class t0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uN=new Du(3e4,6e4);function Dd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function za(n,e,t,r,s={}){return n0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Nu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return Db()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ja(n.emulatorConfig.host)&&(p.credentials="include"),t0.fetch()(await i0(n,n.config.apiHost,t,h),p)})}async function n0(n,e,t){n._canInitEmulator=!1;const r={...aN,...e};try{const s=new cN(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw ch(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ch(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw ch(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw e0(n,v,p);ni(n,v)}}catch(s){if(s instanceof ii)throw s;ni(n,"network-request-failed",{message:String(s)})}}async function r0(n,e,t,r,s={}){const a=await za(n,e,t,r,s);return"mfaPendingCredential"in a&&ni(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function i0(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?gg(n.config,s):`${n.config.apiScheme}://${s}`;return lN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),uN.get())})}}function ch(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ir(n,e,r);return s.customData._tokenResponse=t,s}async function hN(n,e){return za(n,"POST","/v1/accounts:delete",e)}async function Hh(n,e){return za(n,"POST","/v1/accounts:lookup",e)}function nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dN(n,e=!1){const t=as(n),r=await t.getIdToken(e),s=yg(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:nu(zp(s.auth_time)),issuedAtTime:nu(zp(s.iat)),expirationTime:nu(zp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zp(n){return Number(n)*1e3}function yg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const s=FI(t);return s?JSON.parse(s):(Th("Failed to decode base64 JWT payload"),null)}catch(s){return Th("Caught error parsing JWT payload as JSON",s?.toString()),null}}function fw(n){const e=yg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ii&&fN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qh(n){const e=n.auth,t=await n.getIdToken(),r=await vu(n,Hh(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?s0(s.providerUserInfo):[],u=gN(n.providerData,a),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,p=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function mN(n){const e=as(n);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function yN(n,e){const t=await n0(n,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await i0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&ja(n.emulatorConfig.host)&&(f.credentials="include"),t0.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vN(n,e){return za(n,"POST","/v2/accounts:revokeToken",Dd(n,e))}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=fw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await yN(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new da;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function Li(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await vu(this,hN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:A,providerData:D,stsTokenManager:P}=t;Ce(_&&P,e,"internal-error");const b=da.fromJSON(this.name,P);Ce(typeof _=="string",e,"internal-error"),Li(r,e.name),Li(s,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),Li(a,e.name),Li(u,e.name),Li(h,e.name),Li(f,e.name),Li(p,e.name),Li(v,e.name);const q=new Wn({uid:_,auth:e,email:s,emailVerified:T,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(q.providerData=D.map(K=>({...K}))),f&&(q._redirectEventId=f),q}static async _fromIdTokenResponse(e,t,r=!1){const s=new da;s.updateFromServerResponse(t);const a=new Wn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?s0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new da;h.updateFromIdToken(r);const f=new Wn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const pw=new Map;function Yr(n){ri(n instanceof Function,"Expected a class definition");let e=pw.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pw.set(n,e),e)}class o0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}o0.type="NONE";const mw=o0;function Ih(n,e,t){return`firebase:${n}:${e}:${t}`}class fa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Ih(this.userKey,s.apiKey,a),this.fullPersistenceKey=Ih("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new fa(Yr(mw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Yr(mw);const u=Ih(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const T=await Hh(e,{idToken:v}).catch(()=>{});if(!T)break;_=await Wn._fromGetAccountInfoResponse(e,T,v)}else _=Wn._fromJSON(e,v);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new fa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new fa(a,e,r))}}function gw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d0(e))return"Blackberry";if(f0(e))return"Webos";if(l0(e))return"Safari";if((e.includes("chrome/")||u0(e))&&!e.includes("edge/"))return"Chrome";if(h0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function a0(n=Rt()){return/firefox\//i.test(n)}function l0(n=Rt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u0(n=Rt()){return/crios\//i.test(n)}function c0(n=Rt()){return/iemobile/i.test(n)}function h0(n=Rt()){return/android/i.test(n)}function d0(n=Rt()){return/blackberry/i.test(n)}function f0(n=Rt()){return/webos/i.test(n)}function vg(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _N(n=Rt()){return vg(n)&&!!window.navigator?.standalone}function wN(){return Mb()&&document.documentMode===10}function p0(n=Rt()){return vg(n)||h0(n)||f0(n)||d0(n)||/windows phone/i.test(n)||c0(n)}function m0(n,e=[]){let t;switch(n){case"Browser":t=gw(Rt());break;case"Worker":t=`${gw(Rt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${r}`}class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function TN(n,e={}){return za(n,"GET","/v2/passwordPolicy",Dd(n,e))}const IN=6;class SN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class AN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ji(this));const t=e?as(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TN(this),t=new SN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[Yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Od(n){return as(n)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bb(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xN(n){_g=n}function PN(n){return _g.loadJS(n)}function RN(){return _g.gapiScript}function CN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function bN(n,e){const t=pg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Zs(a,e??{}))return s;ni(s,"already-initialized")}return t.initialize({options:e})}function kN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Yr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function NN(n,e,t){const r=Od(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=g0(e),{host:u,port:h}=DN(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Zs(p,r.config.emulator)&&Zs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ja(u)?(BI(`${a}//${u}${f}`),kb("Auth",!0)):ON()}function g0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DN(n){const e=g0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:vw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:vw(u)}}}function vw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ON(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class y0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function pa(n,e){return r0(n,"POST","/v1/accounts:signInWithIdp",Dd(n,e))}const VN="http://localhost";class to extends y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new to(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return pa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}buildRequest(){const e={requestUri:VN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}class v0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends v0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bi extends Ou{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";class $i extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";class Hi extends Ou{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";class qi extends Ou{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";async function MN(n,e){return r0(n,"POST","/v1/accounts:signUp",Dd(n,e))}class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Wn._fromIdTokenResponse(e,r,s),u=_w(r);return new rs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=_w(r);return new rs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function _w(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function LN(n){if(Gn(n.app))return Promise.reject(Ji(n));const e=Od(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new rs({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await MN(e,{returnSecureToken:!0}),r=await rs._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Kh extends ii{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Kh(e,t,r,s)}}function _0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(n,a,e,r):a})}async function FN(n,e,t=!1){const r=await vu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return rs._forOperation(n,"link",r)}async function jN(n,e,t=!1){const{auth:r}=n;if(Gn(r.app))return Promise.reject(Ji(r));const s="reauthenticate";try{const a=await vu(n,_0(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const u=yg(a.idToken);Ce(u,r,"internal-error");const{sub:h}=u;return Ce(n.uid===h,r,"user-mismatch"),rs._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ni(r,"user-mismatch"),a}}async function UN(n,e,t=!1){if(Gn(n.app))return Promise.reject(Ji(n));const r="signIn",s=await _0(n,r,e),a=await rs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function zN(n,e,t,r){return as(n).onIdTokenChanged(e,t,r)}function BN(n,e,t){return as(n).beforeAuthStateChanged(e,t)}function $N(n,e,t,r){return as(n).onAuthStateChanged(e,t,r)}const Gh="__sak";class w0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HN=1e3,qN=10;class E0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);wN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}E0.type="LOCAL";const KN=E0;class T0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}T0.type="SESSION";const I0=T0;function GN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await GN(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];function wg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class WN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=wg("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Sr(){return window}function QN(n){Sr().location.href=n}function S0(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function YN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){return navigator?.serviceWorker?.controller||null}function XN(){return S0()?self:null}const A0="firebaseLocalStorageDb",ZN=1,Wh="firebaseLocalStorage",x0="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Md(n,e){return n.transaction([Wh],e?"readwrite":"readonly").objectStore(Wh)}function eD(){const n=indexedDB.deleteDatabase(A0);return new Vu(n).toPromise()}function ym(){const n=indexedDB.open(A0,ZN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wh,{keyPath:x0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Wh)?e(r):(r.close(),await eD(),e(await ym()))})})}async function ww(n,e,t){const r=Md(n,!0).put({[x0]:e,value:t});return new Vu(r).toPromise()}async function tD(n,e){const t=Md(n,!1).get(e),r=await new Vu(t).toPromise();return r===void 0?null:r.value}function Ew(n,e){const t=Md(n,!0).delete(e);return new Vu(t).toPromise()}const nD=800,rD=3;class P0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(XN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new WN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await ww(e,Gh,"1"),await Ew(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ww(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ew(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Md(s,!1).getAll();return new Vu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P0.type="LOCAL";const iD=P0;new Du(3e4,6e4);function sD(n,e){return e?Yr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Eg extends y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oD(n){return UN(n.auth,new Eg(n),n.bypassAuthState)}function aD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),jN(t,new Eg(n),n.bypassAuthState)}async function lD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),FN(t,new Eg(n),n.bypassAuthState)}class R0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:ni(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uD=new Du(2e3,1e4);class ua extends R0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}ua.currentPopupAction=null;const cD="pendingRedirect",Sh=new Map;class hD extends R0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const r=await dD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dD(n,e){const t=mD(e),r=pD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function fD(n,e){Sh.set(n._key(),e)}function pD(n){return Yr(n._redirectPersistence)}function mD(n){return Ih(cD,n.config.apiKey,n.name)}async function gD(n,e,t=!1){if(Gn(n.app))return Promise.reject(Ji(n));const r=Od(n),s=sD(r,e),u=await new hD(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const yD=600*1e3;class vD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!C0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ir(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _D(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(n);default:return!1}}async function wD(n,e={}){return za(n,"GET","/v1/projects",e)}const ED=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function ID(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wD(n);for(const t of e)try{if(SD(t))return}catch{}ni(n,"unauthorized-domain")}function SD(n){const e=mm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!TD.test(t))return!1;if(ED.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const AD=new Du(3e4,6e4);function Iw(){const n=Sr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xD(n){return new Promise((e,t)=>{function r(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),t(Ir(n,"network-request-failed"))},timeout:AD.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)r();else{const s=CN("iframefcb");return Sr()[s]=()=>{gapi.load?r():t(Ir(n,"network-request-failed"))},PN(`${RN()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function PD(n){return Ah=Ah||xD(n),Ah}const RD=new Du(5e3,15e3),CD="__/auth/iframe",bD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DD(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gg(e,bD):`https://${n.config.authDomain}/${CD}`,r={apiKey:e.apiKey,appName:n.name,v:Ua},s=ND.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Nu(r).slice(1)}`}async function OD(n){const e=await PD(n),t=Sr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:DD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),h=Sr().setTimeout(()=>{a(u)},RD.get());function f(){Sr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,LD=600,FD="_blank",jD="http://localhost";class Sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(n,e,t,r=MD,s=LD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...VD,width:r.toString(),height:s.toString(),top:a,left:u},p=Rt().toLowerCase();t&&(h=u0(p)?FD:t),a0(p)&&(e=e||jD,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[A,D])=>`${T}${A}=${D},`,"");if(_N(p)&&h!=="_self")return zD(e||"",h),new Sw(null);const _=window.open(e||"",h,v);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new Sw(_)}function zD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const BD="__/auth/handler",$D="emulator/auth/handler",HD=encodeURIComponent("fac");async function Aw(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ua,eventId:s};if(e instanceof v0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",zb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Ou){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${HD}=${encodeURIComponent(f)}`:"";return`${qD(n)}?${Nu(h).slice(1)}${p}`}function qD({config:n}){return n.emulator?gg(n,$D):`https://${n.authDomain}/${BD}`}const Bp="webStorageSupport";class KD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=gD,this._overrideRedirectResult=fD}async _openPopup(e,t,r,s){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Aw(e,t,r,mm(),s);return UD(e,a,wg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Aw(e,t,r,mm(),s);return QN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OD(e),r=new vD(e);return t.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bp,{type:Bp},s=>{const a=s?.[0]?.[Bp];a!==void 0&&t(!!a),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ID(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p0()||l0()||vg()}}const GD=KD;var xw="@firebase/auth",Pw="1.12.0";class WD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(n){Ea(new eo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(n)},p=new AN(r,s,a,f);return kN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new eo("auth-internal",e=>{const t=Od(e.getProvider("auth").getImmediate());return(r=>new WD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(xw,Pw,QD(n)),Yi(xw,Pw,"esm2020")}const JD=300,XD=zI("authIdTokenMaxAge")||JD;let Rw=null;const ZD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>XD)return;const s=t?.token;Rw!==s&&(Rw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eO(n=$k()){const e=pg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(n,{popupRedirectResolver:GD,persistence:[iD,KN,I0]}),r=zI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=ZD(a.toString());BN(t,u,()=>u(t.currentUser)),zN(t,h=>u(h))}}const s=Pb("auth");return s&&NN(t,`http://${s}`),t}function tO(){return document.getElementsByTagName("head")?.[0]??document}xN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ir("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",tO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xi,b0;(function(){var n;function e(x,S){function N(){}N.prototype=S.prototype,x.F=S.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(V,O,M){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return S.prototype[O].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,S,N){N||(N=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=x.g[0],N=x.g[1],O=x.g[2];let M=x.g[3],R;R=S+(M^N&(O^M))+V[0]+3614090360&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(O^S&(N^O))+V[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(N^M&(S^N))+V[2]+606105819&4294967295,O=M+(R<<17&4294967295|R>>>15),R=N+(S^O&(M^S))+V[3]+3250441966&4294967295,N=O+(R<<22&4294967295|R>>>10),R=S+(M^N&(O^M))+V[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(O^S&(N^O))+V[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(N^M&(S^N))+V[6]+2821735955&4294967295,O=M+(R<<17&4294967295|R>>>15),R=N+(S^O&(M^S))+V[7]+4249261313&4294967295,N=O+(R<<22&4294967295|R>>>10),R=S+(M^N&(O^M))+V[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(O^S&(N^O))+V[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(N^M&(S^N))+V[10]+4294925233&4294967295,O=M+(R<<17&4294967295|R>>>15),R=N+(S^O&(M^S))+V[11]+2304563134&4294967295,N=O+(R<<22&4294967295|R>>>10),R=S+(M^N&(O^M))+V[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(O^S&(N^O))+V[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=O+(N^M&(S^N))+V[14]+2792965006&4294967295,O=M+(R<<17&4294967295|R>>>15),R=N+(S^O&(M^S))+V[15]+1236535329&4294967295,N=O+(R<<22&4294967295|R>>>10),R=S+(O^M&(N^O))+V[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^O&(S^N))+V[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^N&(M^S))+V[11]+643717713&4294967295,O=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(O^M))+V[0]+3921069994&4294967295,N=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(N^O))+V[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^O&(S^N))+V[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^N&(M^S))+V[15]+3634488961&4294967295,O=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(O^M))+V[4]+3889429448&4294967295,N=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(N^O))+V[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^O&(S^N))+V[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^N&(M^S))+V[3]+4107603335&4294967295,O=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(O^M))+V[8]+1163531501&4294967295,N=O+(R<<20&4294967295|R>>>12),R=S+(O^M&(N^O))+V[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^O&(S^N))+V[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=O+(S^N&(M^S))+V[7]+1735328473&4294967295,O=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(O^M))+V[12]+2368359562&4294967295,N=O+(R<<20&4294967295|R>>>12),R=S+(N^O^M)+V[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^O)+V[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^N)+V[11]+1839030562&4294967295,O=M+(R<<16&4294967295|R>>>16),R=N+(O^M^S)+V[14]+4259657740&4294967295,N=O+(R<<23&4294967295|R>>>9),R=S+(N^O^M)+V[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^O)+V[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^N)+V[7]+4139469664&4294967295,O=M+(R<<16&4294967295|R>>>16),R=N+(O^M^S)+V[10]+3200236656&4294967295,N=O+(R<<23&4294967295|R>>>9),R=S+(N^O^M)+V[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^O)+V[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^N)+V[3]+3572445317&4294967295,O=M+(R<<16&4294967295|R>>>16),R=N+(O^M^S)+V[6]+76029189&4294967295,N=O+(R<<23&4294967295|R>>>9),R=S+(N^O^M)+V[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^O)+V[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=O+(M^S^N)+V[15]+530742520&4294967295,O=M+(R<<16&4294967295|R>>>16),R=N+(O^M^S)+V[2]+3299628645&4294967295,N=O+(R<<23&4294967295|R>>>9),R=S+(O^(N|~M))+V[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~O))+V[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~N))+V[14]+2878612391&4294967295,O=M+(R<<15&4294967295|R>>>17),R=N+(M^(O|~S))+V[5]+4237533241&4294967295,N=O+(R<<21&4294967295|R>>>11),R=S+(O^(N|~M))+V[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~O))+V[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~N))+V[10]+4293915773&4294967295,O=M+(R<<15&4294967295|R>>>17),R=N+(M^(O|~S))+V[1]+2240044497&4294967295,N=O+(R<<21&4294967295|R>>>11),R=S+(O^(N|~M))+V[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~O))+V[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~N))+V[6]+2734768916&4294967295,O=M+(R<<15&4294967295|R>>>17),R=N+(M^(O|~S))+V[13]+1309151649&4294967295,N=O+(R<<21&4294967295|R>>>11),R=S+(O^(N|~M))+V[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~O))+V[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=O+(S^(M|~N))+V[2]+718787259&4294967295,O=M+(R<<15&4294967295|R>>>17),R=N+(M^(O|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const N=S-this.blockSize,V=this.C;let O=this.h,M=0;for(;M<S;){if(O==0)for(;M<=N;)s(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(V[O++]=x.charCodeAt(M++),O==this.blockSize){s(this,V),O=0;break}}else for(;M<S;)if(V[O++]=x[M++],O==this.blockSize){s(this,V),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)x[S++]=this.g[N]>>>V&255;return x};function a(x,S){var N=h;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=S(x)}function u(x,S){this.h=S;const N=[];let V=!0;for(let O=x.length-1;O>=0;O--){const M=x[O]|0;V&&M==S||(N[O]=M,V=!1)}this.g=N}var h={};function f(x){return-128<=x&&x<128?a(x,function(S){return new u([S|0],S<0?-1:0)}):new u([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return b(p(-x));const S=[];let N=1;for(let V=0;x>=N;V++)S[V]=x/N|0,N*=4294967296;return new u(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return b(v(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(S,8));let V=_;for(let M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M);const R=parseInt(x.substring(M,M+O),S);O<8?(O=p(Math.pow(S,O)),V=V.j(O).add(p(R))):(V=V.j(N),V=V.add(p(R)))}return V}var _=f(0),T=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-b(this).m();let x=0,S=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(P(this))return"-"+b(this).toString(x);const S=p(Math.pow(x,6));var N=this;let V="";for(;;){const O=Y(N,S).g;N=q(N,O.j(S));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=O,D(N))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function P(x){return x.h==-1}n.l=function(x){return x=q(this,x),P(x)?-1:D(x)?0:1};function b(x){const S=x.g.length,N=[];for(let V=0;V<S;V++)N[V]=~x.g[V];return new u(N,~x.h).add(T)}n.abs=function(){return P(this)?b(this):this},n.add=function(x){const S=Math.max(this.g.length,x.g.length),N=[];let V=0;for(let O=0;O<=S;O++){let M=V+(this.i(O)&65535)+(x.i(O)&65535),R=(M>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=R>>>16,M&=65535,R&=65535,N[O]=R<<16|M}return new u(N,N[N.length-1]&-2147483648?-1:0)};function q(x,S){return x.add(b(S))}n.j=function(x){if(D(this)||D(x))return _;if(P(this))return P(x)?b(this).j(b(x)):b(b(this).j(x));if(P(x))return b(this.j(b(x)));if(this.l(A)<0&&x.l(A)<0)return p(this.m()*x.m());const S=this.g.length+x.g.length,N=[];for(var V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const M=this.i(V)>>>16,R=this.i(V)&65535,ae=x.i(O)>>>16,ke=x.i(O)&65535;N[2*V+2*O]+=R*ke,K(N,2*V+2*O),N[2*V+2*O+1]+=M*ke,K(N,2*V+2*O+1),N[2*V+2*O+1]+=R*ae,K(N,2*V+2*O+1),N[2*V+2*O+2]+=M*ae,K(N,2*V+2*O+2)}for(x=0;x<S;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=S;x<2*S;x++)N[x]=0;return new u(N,0)};function K(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Q(x,S){this.g=x,this.h=S}function Y(x,S){if(D(S))throw Error("division by zero");if(D(x))return new Q(_,_);if(P(x))return S=Y(b(x),S),new Q(b(S.g),b(S.h));if(P(S))return S=Y(x,b(S)),new Q(b(S.g),S.h);if(x.g.length>30){if(P(x)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var N=T,V=S;V.l(x)<=0;)N=Z(N),V=Z(V);var O=re(N,1),M=re(V,1);for(V=re(V,2),N=re(N,2);!D(V);){var R=M.add(V);R.l(x)<=0&&(O=O.add(N),M=R),V=re(V,1),N=re(N,1)}return S=q(x,O.j(S)),new Q(O,S)}for(O=_;x.l(S)>=0;){for(N=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=p(N),R=M.j(S);P(R)||R.l(x)>0;)N-=V,M=p(N),R=M.j(S);D(M)&&(M=T),O=O.add(M),x=q(x,R)}return new Q(O,x)}n.B=function(x){return Y(this,x).h},n.and=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)&x.i(V);return new u(N,this.h&x.h)},n.or=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)|x.i(V);return new u(N,this.h|x.h)},n.xor=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)^x.i(V);return new u(N,this.h^x.h)};function Z(x){const S=x.g.length+1,N=[];for(let V=0;V<S;V++)N[V]=x.i(V)<<1|x.i(V-1)>>>31;return new u(N,x.h)}function re(x,S){const N=S>>5;S%=32;const V=x.g.length-N,O=[];for(let M=0;M<V;M++)O[M]=S>0?x.i(M+N)>>>S|x.i(M+N+1)<<32-S:x.i(M+N);return new u(O,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,b0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Xi=u}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k0,Yl,N0,xh,vm,D0,O0,V0;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in w))break e;w=w[z]}c=c[c.length-1],I=w[c],y=y(I),y!=I&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(y){var w=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&w.push([I,y[I]]);return w}});var a=a||{},u=this||self;function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function f(c,y,w){return c.call.apply(c.bind,arguments)}function p(c,y,w){return p=f,p.apply(null,arguments)}function v(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function _(c,y){function w(){}w.prototype=y.prototype,c.Z=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,z,W){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return y.prototype[z].apply(I,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const y=c.length;if(y>0){const w=Array(y);for(let I=0;I<y;I++)w[I]=c[I];return w}return[]}function D(c,y){for(let I=1;I<arguments.length;I++){const z=arguments[I];var w=typeof z;if(w=w!="object"?w:z?Array.isArray(z)?"array":w:"null",w=="array"||w=="object"&&typeof z.length=="number"){w=c.length||0;const W=z.length||0;c.length=w+W;for(let ue=0;ue<W;ue++)c[w+ue]=z[ue]}else c.push(z)}}class P{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(c){u.setTimeout(()=>{throw c},0)}function q(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,w){const I=Q.get();I.set(y,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new P(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,re=!1,x=new K,S=()=>{const c=Promise.resolve(void 0);Z=()=>{c.then(N)}};function N(){for(var c;c=q();){try{c.h.call(c.g)}catch(w){b(w)}var y=Q;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,y),u.removeEventListener("test",w,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ae(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}_(ae,O),ae.prototype.init=function(c,y){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function Te(c,y,w,I,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!I,this.ha=z,this.key=++Ae,this.da=this.fa=!1}function J(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,y,w){for(const I in c)y.call(w,c[I],I,c)}function le(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function j(c){const y={};for(const w in c)y[w]=c[w];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(c,y){let w,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(w in I)c[w]=I[w];for(let W=0;W<X.length;W++)w=X[W],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,y,w,I,z){const W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);const ue=Ve(c,y,I,z);return ue>-1?(y=c[ue],w||(y.fa=!1)):(y=new Te(y,this.src,W,!!I,z),y.fa=w,c.push(y)),y};function Oe(c,y){const w=y.type;if(w in c.g){var I=c.g[w],z=Array.prototype.indexOf.call(I,y,void 0),W;(W=z>=0)&&Array.prototype.splice.call(I,z,1),W&&(J(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ve(c,y,w,I){for(let z=0;z<c.length;++z){const W=c[z];if(!W.da&&W.listener==y&&W.capture==!!w&&W.ha==I)return z}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),je={};function We(c,y,w,I,z){if(Array.isArray(y)){for(let W=0;W<y.length;W++)We(c,y[W],w,I,z);return null}return w=Ga(w),c&&c[ke]?c.J(y,w,h(I)?!!I.capture:!1,z):Vt(c,y,w,!1,I,z)}function Vt(c,y,w,I,z,W){if(!y)throw Error("Invalid event type");const ue=h(z)?!!z.capture:!!z;let Ne=fo(c);if(Ne||(c[Fe]=Ne=new Pe(c)),w=Ne.add(y,w,I,ue,W),w.proxy)return w;if(I=si(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)M||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),I,z);else if(c.attachEvent)c.attachEvent(ho(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function si(){function c(w){return y.call(c.src,c.listener,w)}const y=Hu;return c}function us(c,y,w,I,z){if(Array.isArray(y))for(var W=0;W<y.length;W++)us(c,y[W],w,I,z);else I=h(I)?!!I.capture:!!I,w=Ga(w),c&&c[ke]?(c=c.i,W=String(y).toString(),W in c.g&&(y=c.g[W],w=Ve(y,w,I,z),w>-1&&(J(y[w]),Array.prototype.splice.call(y,w,1),y.length==0&&(delete c.g[W],c.h--)))):c&&(c=fo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ve(y,w,I,z)),(w=c>-1?y[c]:null)&&cn(w))}function cn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ke])Oe(y.i,c);else{var w=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(w,I,c.capture):y.detachEvent?y.detachEvent(ho(w),I):y.addListener&&y.removeListener&&y.removeListener(I),(w=fo(y))?(Oe(w,c),w.h==0&&(w.src=null,y[Fe]=null)):J(c)}}}function ho(c){return c in je?je[c]:je[c]="on"+c}function Hu(c,y){if(c.da)c=!0;else{y=new ae(y,this);const w=c.listener,I=c.ha||c.src;c.fa&&cn(c),c=w.call(I,y)}return c}function fo(c){return c=c[Fe],c instanceof Pe?c:null}var cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ga(c){return typeof c=="function"?c:(c[cs]||(c[cs]=function(y){return c.handleEvent(y)}),c[cs])}function _t(){V.call(this),this.i=new Pe(this),this.M=this,this.G=null}_(_t,V),_t.prototype[ke]=!0,_t.prototype.removeEventListener=function(c,y,w,I){us(this,c,y,w,I)};function pt(c,y){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(I,c),xe(y,z)}z=!0;let W,ue;if(w)for(ue=w.length-1;ue>=0;ue--)W=y.g=w[ue],z=Vn(W,I,!0,y)&&z;if(W=y.g=c,z=Vn(W,I,!0,y)&&z,z=Vn(W,I,!1,y)&&z,w)for(ue=0;ue<w.length;ue++)W=y.g=w[ue],z=Vn(W,I,!1,y)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const w=c.g[y];for(let I=0;I<w.length;I++)J(w[I]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,w,I){return this.i.add(String(c),y,!1,w,I)},_t.prototype.K=function(c,y,w,I){return this.i.add(String(c),y,!0,w,I)};function Vn(c,y,w,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let W=0;W<y.length;++W){const ue=y[W];if(ue&&!ue.da&&ue.capture==w){const Ne=ue.listener,mt=ue.ha||ue.src;ue.fa&&Oe(c.i,ue),z=Ne.call(mt,I)!==!1&&z}}return z&&!I.defaultPrevented}function Wa(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(c,y||0)}function Qa(c){c.g=Wa(()=>{c.g=null,c.i&&(c.i=!1,Qa(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qu extends V{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){V.call(this),this.h=c,this.g={}}_(oi,V);var Ya=[];function po(c){ce(c.g,function(y,w){this.g.hasOwnProperty(w)&&cn(y)},c),c.g={}}oi.prototype.N=function(){oi.Z.N.call(this),po(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=u.JSON.stringify,Ku=u.JSON.parse,hs=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function li(){}function Gu(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mo(){O.call(this,"d")}_(mo,O);function Ja(){O.call(this,"c")}_(Ja,O);var Mn={},go=null;function ci(){return go=go||new _t}Mn.Ia="serverreachability";function yo(c){O.call(this,Mn.Ia,c)}_(yo,O);function Cr(c){const y=ci();pt(y,new yo(y))}Mn.STAT_EVENT="statevent";function br(c,y){O.call(this,Mn.STAT_EVENT,c),this.stat=y}_(br,O);function ht(c){const y=ci();pt(y,new br(y,c))}Mn.Ja="timingevent";function Xa(c,y){O.call(this,Mn.Ja,c),this.size=y}_(Xa,O);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},y)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Wu(c,y,w,I,z,W){c.info(function(){if(c.g)if(W){var ue="",Ne=W.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var mt=Ne[Qe].split("=");if(mt.length>1){const wt=mt[0];mt=mt[1];const gn=wt.split("_");ue=gn.length>=2&&gn[1]=="type"?ue+(wt+"="+mt+"&"):ue+(wt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+y+`
`+w+`
`+ue})}function Qu(c,y,w,I,z,W,ue){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+y+`
`+w+`
`+W+" "+ue})}function Zn(c,y,w,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ds(c,w)+(I?" "+I:"")})}function Yu(c,y){c.info(function(){return"TIMEOUT: "+y})}di.prototype.info=function(){};function ds(c,y){if(!c.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(c=0;c<W.length;c++)if(Array.isArray(W[c])){var w=W[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var z=I[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<I.length;ue++)I[ue]=""}}}}return ai(W)}catch{return y}}var fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ju;function kr(){}_(kr,li),kr.prototype.g=function(){return new XMLHttpRequest},Ju=new kr;function er(c){return encodeURIComponent(String(c))}function vo(c){var y=1;c=c.split(":");const w=[];for(;y>0&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function Sn(c,y,w,I){this.j=c,this.i=y,this.l=w,this.S=I||1,this.V=new oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xu}function Xu(){this.i=null,this.g="",this.h=!1}var Zu={},Za={};function Ln(c,y,w){c.M=1,c.A=Dr(An(y)),c.u=w,c.R=!0,el(c,null)}function el(c,y){c.F=Date.now(),fs(c),c.B=An(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),cl(w.i,"t",I),c.C=0,w=c.j.L,c.h=new Xu,c.g=uc(c.j,w?y:null,!c.u),c.P>0&&(c.O=new qu(p(c.Y,c,c.g),c.P)),y=c.V,w=c.g,I=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ya[0]=z.toString()),z=Ya);for(let W=0;W<z.length;W++){const ue=We(w,z[W],I||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Cr(),Wu(c.i,c.v,c.B,c.l,c.S,c.u)}Sn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ar(c)==3?y.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ar(this.g),mt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||ac(this.g)))){this.K||Ne!=4||mt==7||(mt==8||Qe<=0?Cr(3):Cr(2)),_o(this);var y=this.g.ca();this.X=y;var w=ec(this);if(this.o=y==200,Qu(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,z=this.g;if((I=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var W=I;break t}}W=null}if(c=W)Zn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,c);else{this.o=!1,this.m=3,ht(12),Nr(this),ps(this);break e}}if(this.R){c=!0;let wt;for(;!this.K&&this.C<w.length;)if(wt=nc(this,w),wt==Za){Ne==4&&(this.m=4,ht(14),c=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Zu){this.m=4,ht(15),Zn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Zn(this.i,this.l,wt,null),tt(this,wt);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||w.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)Zn(this.i,this.l,w,"[Invalid Chunked Response]"),Nr(this),ps(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Is(ue),ue.P=!0,ht(11))}}else Zn(this.i,this.l,w,null),tt(this,w);Ne==4&&Nr(this),this.o&&!this.K&&(Ne==4?Co(this.j,this):(this.o=!1,fs(this)))}else dl(this.g),y==400&&w.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Nr(this),ps(this)}}}catch{}};function ec(c){if(!tc(c))return c.g.la();const y=ac(c.g);if(y==="")return"";let w="";const I=y.length,z=ar(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nr(c),ps(c),"";c.h.i=new u.TextDecoder}for(let W=0;W<I;W++)c.h.h=!0,w+=c.h.i.decode(y[W],{stream:!(z&&W==I-1)});return y.length=0,c.h.g+=w,c.C=0,c.h.g}function tc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nc(c,y){var w=c.C,I=y.indexOf(`
`,w);return I==-1?Za:(w=Number(y.substring(w,I)),isNaN(w)?Zu:(I+=1,I+w>y.length?Za:(y=y.slice(I,I+w),c.C=I+w,y)))}Sn.prototype.cancel=function(){this.K=!0,Nr(this)};function fs(c){c.T=Date.now()+c.H,tl(c,c.H)}function tl(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(p(c.aa,c),y)}function _o(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Yu(this.i,this.B),this.M!=2&&(Cr(),ht(17)),Nr(this),this.m=2,ps(this)):tl(this,this.T-c)};function ps(c){c.j.I==0||c.K||Co(c.j,c)}function Nr(c){_o(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,po(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function tt(c,y){try{var w=c.j;if(w.I!=0&&(w.g==c||rl(w.h,c))){if(!c.L&&rl(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Ro(w),pn(w);else break e;cr(w),ht(18)}}else w.xa=z[1],0<w.xa-w.K&&z[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=hi(p(w.Va,w),6e3));ms(w.h)<=1&&w.ta&&(w.ta=void 0)}else mn(w,11)}else if((c.L||w.g==c)&&Ro(w),!R(y))for(z=w.Ba.g.parse(y),y=0;y<z.length;y++){let Qe=z[y];const wt=Qe[0];if(!(wt<=w.K))if(w.K=wt,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const gn=Qe[3];gn!=null&&(w.ka=gn,w.j.info("VER="+w.ka));const Fr=Qe[4];Fr!=null&&(w.za=Fr,w.j.info("SVER="+w.za));const hr=Qe[5];hr!=null&&typeof hr=="number"&&hr>0&&(I=1.5*hr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const dr=c.g;if(dr){const No=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var W=I.h;W.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Eo(W,W.h),W.h=null))}if(I.G){const ml=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(I.wa=ml,Ke(I.J,I.G,ml))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var ue=c;if(I.na=pl(I,I.L?I.ba:null,I.W),ue.L){gs(I.h,ue);var Ne=ue,mt=I.O;mt&&(Ne.H=mt),Ne.D&&(_o(Ne),fs(Ne)),I.g=ue}else zt(I);w.i.length>0&&Lr(w)}else Qe[0]!="stop"&&Qe[0]!="close"||mn(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?mn(w,7):xo(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Cr(4)}catch{}}var Xd=class{constructor(c,y){this.g=c,this.map=y}};function wo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ms(c){return c.h?1:c.g?c.g.size:0}function rl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Eo(c,y){c.g?c.g.add(y):c.h=y}function gs(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wo.prototype.cancel=function(){if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.G);return y}return A(c.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dn(c,y){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let z,W=null;I>=0?(z=c[w].substring(0,I),W=c[w].substring(I+1)):z=c[w],y(z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function tr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof tr?(this.l=c.l,ys(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.u),this.h=c.h,mi(this,hl(c.i)),this.m=c.m):c&&(y=String(c).match(rc))?(this.l=!1,ys(this,y[1]||"",!0),this.o=vs(y[2]||""),this.g=vs(y[3]||"",!0),nr(this,y[4]),this.h=vs(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=vs(y[7]||"")):(this.l=!1,this.i=new ze(null,this.l))}tr.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(_s(y,sl,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_s(y,sl,!0),"@"),c.push(er(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(_s(w,w.charAt(0)=="/"?ws:ol,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",_s(w,al)),c.join("")},tr.prototype.resolve=function(c){const y=An(this);let w=!!c.j;w?ys(y,c.j):w=!!c.o,w?y.o=c.o:w=!!c.g,w?y.g=c.g:w=c.u!=null;var I=c.h;if(w)nr(y,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var z=y.h.lastIndexOf("/");z!=-1&&(I=y.h.slice(0,z+1)+I)}if(z=I,z==".."||z==".")I="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){I=z.lastIndexOf("/",0)==0,z=z.split("/");const W=[];for(let ue=0;ue<z.length;){const Ne=z[ue++];Ne=="."?I&&ue==z.length&&W.push(""):Ne==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&ue==z.length&&W.push("")):(W.push(Ne),I=!0)}I=W.join("/")}else I=z}return w?y.h=I:w=c.i.toString()!=="",w?mi(y,hl(c.i)):w=!!c.m,w&&(y.m=c.m),y};function An(c){return new tr(c)}function ys(c,y,w){c.j=w?vs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function mi(c,y,w){y instanceof ze?(c.i=y,Io(c.i,c.l)):(w||(y=_s(y,Zd)),c.i=new ze(y,c.l))}function Ke(c,y,w){c.i.set(y,w)}function Dr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,il),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function il(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,ol=/[#\?:]/g,ws=/[#\?]/g,Zd=/[#\?@]/g,al=/#/g;function ze(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&dn(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=ze.prototype,n.add=function(c,y){rr(this),this.i=null,c=ir(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function ll(c,y){rr(c),y=ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function To(c,y){return rr(c),y=ir(c,y),c.g.has(y)}n.forEach=function(c,y){rr(this),this.g.forEach(function(w,I){w.forEach(function(z){c.call(y,z,I,this)},this)},this)};function ul(c,y){rr(c);let w=[];if(typeof y=="string")To(c,y)&&(w=w.concat(c.g.get(ir(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)w=w.concat(c[y]);return w}n.set=function(c,y){return rr(this),this.i=null,c=ir(this,c),To(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=ul(this,c),c.length>0?String(c[0]):y):y};function cl(c,y,w){ll(c,y),w.length>0&&(c.i=null,c.g.set(ir(c,y),A(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var w=y[I];const z=er(w);w=ul(this,w);for(let W=0;W<w.length;W++){let ue=z;w[W]!==""&&(ue+="="+er(w[W])),c.push(ue)}}return this.i=c.join("&")};function hl(c){const y=new ze;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Io(c,y){y&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(w,I){const z=I.toLowerCase();I!=z&&(ll(this,I),cl(this,z,w))},c)),c.j=y}function sr(c,y){const w=new di;if(u.Image){const I=new Image;I.onload=v(Mt,w,"TestLoadImage: loaded",!0,y,I),I.onerror=v(Mt,w,"TestLoadImage: error",!1,y,I),I.onabort=v(Mt,w,"TestLoadImage: abort",!1,y,I),I.ontimeout=v(Mt,w,"TestLoadImage: timeout",!1,y,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function or(c,y){const w=new di,I=new AbortController,z=setTimeout(()=>{I.abort(),Mt(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(z),W.ok?Mt(w,"TestPingServer: ok",!0,y):Mt(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mt(w,"TestPingServer: error",!1,y)})}function Mt(c,y,w,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(w)}catch{}}function Es(){this.g=new hs}function Or(c){this.i=c.Sb||null,this.h=c.ab||!1}_(Or,li),Or.prototype.g=function(){return new fn(this.i,this.h)};function fn(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(fn,_t),n=fn.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gi(this):Fn(this),this.readyState==3&&ic(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,gi(this))},n.Na=function(c){this.g&&(this.response=c,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sc(c){let y="";return ce(c,function(w,I){y+=I,y+=":",y+=w,y+=`\r
`}),y}function So(c,y,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=sc(w),typeof c=="string"?w!=null&&er(w):Ke(c,y,w))}function Ze(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,_t);var oc=/^https?$/i,ef=["POST","PUT"];n=Ze.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ju.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){yi(this,W);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)w.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())w.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(ef,y,void 0)>=0)||I||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of w)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(W){yi(this,W)}};function yi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,vi(c),Mr(c)}function vi(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),Mr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(c){if(c.h&&typeof a<"u"){if(c.v&&ar(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),ar(c)==4){c.h=!1;try{const W=c.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=W===0){let ue=String(c.D).match(rc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),I=!oc.test(ue?ue.toLowerCase():"")}w=I}if(w)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var z=ar(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",vi(c)}}finally{Mr(c)}}}}function Mr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,y||pt(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}n.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ku(y)}};function ac(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dl(c){const y={};c=(c.g&&ar(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(R(c[I]))continue;var w=vo(c[I]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=y[z]||[];y[z]=W,W.push(w)}le(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ao(c){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=lr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=lr("baseRetryDelayMs",5e3,c),this.Za=lr("retryDelaySeedMs",1e4,c),this.Ta=lr("forwardChannelMaxRetries",2,c),this.va=lr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new Es,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ao.prototype,n.ka=8,n.I=1,n.connect=function(c,y,w,I){ht(0),this.W=c,this.H=y||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=pl(this,null,this.W),Lr(this)};function xo(c){if(Po(c),c.I==3){var y=c.V++,w=An(c.J);if(Ke(w,"SID",c.M),Ke(w,"RID",y),Ke(w,"TYPE","terminate"),ur(c,w),y=new Sn(c,c.j,y),y.M=2,y.A=Dr(An(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=y.A,w=!0),w||(y.g=uc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fs(y)}Ss(c)}function pn(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Po(c){pn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ro(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Lr(c){if(!nl(c.h)&&!c.m){c.m=!0;var y=c.Ea;Z||S(),re||(Z(),re=!0),x.add(y,c),c.D=0}}function lc(c,y){return ms(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(p(c.Ea,c,y),bo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Sn(this,this.j,c);let W=this.o;if(this.U&&(W?(W=j(W),xe(W,this.U)):W=this.U),this.u!==null||this.R||(z.J=W,W=null),this.S)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=fl(this,z,y),w=An(this.J),Ke(w,"RID",c),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),ur(this,w),W&&(this.R?y="headers="+er(sc(W))+"&"+y:this.u&&So(w,this.u,W)),Eo(this.h,z),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",y),Ke(w,"SID","null"),z.U=!0,Ln(z,w,null)):Ln(z,w,y),this.I=2}}else this.I==3&&(c?Ts(this,c):this.i.length==0||nl(this.h)||Ts(this))};function Ts(c,y){var w;y?w=y.l:w=c.V++;const I=An(c.J);Ke(I,"SID",c.M),Ke(I,"RID",w),Ke(I,"AID",c.K),ur(c,I),c.u&&c.o&&So(I,c.u,c.o),w=new Sn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),y&&(c.i=y.G.concat(c.i)),y=fl(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Eo(c.h,w),Ln(w,I,y)}function ur(c,y){c.H&&ce(c.H,function(w,I){Ke(y,I,w)}),c.l&&ce({},function(w,I){Ke(y,I,w)})}function fl(c,y,w){w=Math.min(c.i.length,w);const I=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ne=-1;for(;;){const mt=["count="+w];Ne==-1?w>0?(Ne=z[0].g,mt.push("ofs="+Ne)):Ne=0:mt.push("ofs="+Ne);let Qe=!0;for(let wt=0;wt<w;wt++){var W=z[wt].g;const gn=z[wt].map;if(W-=Ne,W<0)Ne=Math.max(0,z[wt].g-100),Qe=!1;else try{W="req"+W+"_"||"";try{var ue=gn instanceof Map?gn:Object.entries(gn);for(const[Fr,hr]of ue){let dr=hr;h(hr)&&(dr=ai(hr)),mt.push(W+Fr+"="+encodeURIComponent(dr))}}catch(Fr){throw mt.push(W+"type="+encodeURIComponent("_badmap")),Fr}}catch{I&&I(gn)}}if(Qe){ue=mt.join("&");break e}}ue=void 0}return c=c.i.splice(0,w),y.G=c,ue}function zt(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Z||S(),re||(Z(),re=!0),x.add(y,c),c.A=0}}function cr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(p(c.Da,c),bo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,_i(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),pn(this),_i(this))};function Is(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function _i(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=An(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),ur(c,y),c.u&&c.o&&So(y,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Dr(An(y)),w.u=null,w.R=!0,el(w,c)}n.Va=function(){this.C!=null&&(this.C=null,pn(this),cr(this),ht(19))};function Ro(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Co(c,y){var w=null;if(c.g==y){Ro(c),Is(c),c.g=null;var I=2}else if(rl(c.h,y))w=y.G,gs(c.h,y),I=1;else return;if(c.I!=0){if(y.o)if(I==1){w=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;I=ci(),pt(I,new Xa(I,w)),Lr(c)}else zt(c);else if(z=y.m,z==3||z==0&&y.X>0||!(I==1&&lc(c,y)||I==2&&cr(c)))switch(w&&w.length>0&&(y=c.h,y.i=y.i.concat(w)),z){case 1:mn(c,5);break;case 4:mn(c,10);break;case 3:mn(c,6);break;default:mn(c,2)}}}function bo(c,y){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*y}function mn(c,y){if(c.j.info("Error code "+y),y==2){var w=p(c.bb,c),I=c.Ua;const z=!I;I=new tr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ys(I,"https"),Dr(I),z?sr(I.toString(),w):or(I.toString(),w)}else ht(2);c.I=0,c.l&&c.l.pa(y),Ss(c),Po(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ss(c){if(c.I=0,c.ja=[],c.l){const y=hn(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function pl(c,y,w){var I=w instanceof tr?An(w):new tr(w);if(I.g!="")y&&(I.g=y+"."+I.g),nr(I,I.u);else{var z=u.location;I=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const W=new tr(null);I&&ys(W,I),y&&(W.g=y),z&&nr(W,z),w&&(W.h=w),I=W}return w=c.G,y=c.wa,w&&y&&Ke(I,w,y),Ke(I,"VER",c.ka),ur(c,I),I}function uc(c,y,w){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new Or({ab:w})):new Ze(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}n=cc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ko(){}ko.prototype.g=function(c,y){return new Lt(c,y)};function Lt(c,y){_t.call(this),this.g=new Ao(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wi(this)}_(Lt,_t),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){xo(this.g)},Lt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ai(c),c=w);y.i.push(new Xd(y.Ya++,c)),y.I==3&&Lr(y)},Lt.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,Lt.Z.N.call(this)};function hc(c){mo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}_(hc,mo);function dc(){Ja.call(this),this.status=1}_(dc,Ja);function wi(c){this.g=c}_(wi,cc),wi.prototype.ra=function(){pt(this.g,"a")},wi.prototype.qa=function(c){pt(this.g,new hc(c))},wi.prototype.pa=function(c){pt(this.g,new dc)},wi.prototype.oa=function(){pt(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,V0=function(){return new ko},O0=function(){return ci()},D0=Mn,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,xh=fi,pi.COMPLETE="complete",N0=pi,Gu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Yl=Gu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,k0=Ze}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let Ba="12.8.0";function nO(n){Ba=n}const no=new dg("@firebase/firestore");function sa(){return no.logLevel}function se(n,...e){if(no.logLevel<=Ue.DEBUG){const t=e.map(Tg);no.debug(`Firestore (${Ba}): ${n}`,...t)}}function Ot(n,...e){if(no.logLevel<=Ue.ERROR){const t=e.map(Tg);no.error(`Firestore (${Ba}): ${n}`,...t)}}function Qh(n,...e){if(no.logLevel<=Ue.WARN){const t=e.map(Tg);no.warn(`Firestore (${Ba}): ${n}`,...t)}}function Tg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,M0(n,r,t)}function M0(n,e,t){let r=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ot(r),new Error(r)}function _e(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||M0(e,s,r)}function we(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class rO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Qt.UNAUTHENTICATED)))}shutdown(){}}class sO{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ma,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ma)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new rO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class oO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const r=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function be(n,e){return n<e?-1:n>e?1:0}function _m(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return $p(s)===$p(a)?be(s,a):$p(s)?1:-1}return be(n.length,e.length)}const hO=55296,dO=57343;function $p(n){const e=n.charCodeAt(0);return e>=hO&&e<=dO}function Ta(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function L0(n){return n+"\0"}const kw="__name__";class yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=yr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const r=yr.isNumericId(e),s=yr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?yr.extractNumericId(e).compare(yr.extractNumericId(t)):_m(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class st extends yr{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends yr{construct(e,t,r){return new yt(e,t,r)}static isValidIdentifier(e){return fO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kw}static keyField(){return new yt([kw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(t)}static emptyPath(){return new yt([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(st.fromString(e))}static fromName(e){return new he(st.fromString(e).popFirst(5))}static empty(){return new he(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new st(e.slice()))}}function pO(n,e,t,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function Mu(n,e){if(!mO(n))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ye(ne.INVALID_ARGUMENT,t);return!0}const Nw=-62135596800,Dw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Dw);return new ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nw)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dw}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:St("string",ct._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ct(0,0))}static max(){return new Ee(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ia=-1;class Yh{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function wm(n){return n.fields.find((e=>e.kind===2))}function js(n){return n.fields.filter((e=>e.kind!==2))}Yh.UNKNOWN_ID=-1;class Ph{constructor(e,t){this.fieldPath=e,this.kind=t}}class _u{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _u(0,In.min())}}function F0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new In(s,he.empty(),e)}function j0(n){return new In(n.readTime,n.key,Ia)}class In{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new In(Ee.min(),he.empty(),Ia)}static max(){return new In(Ee.max(),he.empty(),Ia)}}function Ig(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=he.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}const U0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==U0)throw n;se("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$.reject(t)}static resolve(e){return new $(((t,r)=>{t(e)}))}static reject(e){return new $(((t,r)=>{r(e)}))}static waitFor(e){return new $(((t,r)=>{let s=0,a=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next((s=>s?$.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new $(((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{u[p]=v,++h,h===a&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new $(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}const wn="SimpleDb";class Ld{static open(e,t,r,s){try{return new Ld(t,e.transaction(s,r))}catch(a){throw new ru(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ma,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ru(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Sg(r.target.error);this.S.reject(new ru(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(se(wn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yO(t)}}class Zi{static delete(e){return se(wn,"Removing database:",e),zs(jI().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!KI())return!1;if(Zi.F())return!0;const e=Rt(),t=Zi.M(e),r=0<t&&t<10,s=B0(e),a=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Zi.M(Rt())===12.2&&Ot("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(se(wn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=a=>{const u=a.target.result;t(u)},s.onblocked=()=>{r(new ru(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;u.name==="VersionError"?r(new ye(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new ye(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new ru(e,u))},s.onupgradeneeded=a=>{se(wn,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const u=a.target.result;this.N.k(u,s.transaction,a.oldVersion,this.version).next((()=>{se(wn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const a=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Ld.open(this.db,e,a?"readonly":"readwrite",r),f=s(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),$.reject(p)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,p=f.name!=="FirebaseError"&&u<3;if(se(wn,"Transaction failed with error:",f.message,"Retrying:",p),this.close(),!p)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function B0(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class gO{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return zs(this.U.delete())}}class ru extends ye{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uo(n){return n.name==="IndexedDbTransactionError"}class yO{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(se(wn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(se(wn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zs(r)}add(e){return se(wn,"ADD",this.store.name,e,e),zs(this.store.add(e))}get(e){return zs(this.store.get(e)).next((t=>(t===void 0&&(t=null),se(wn,"GET",this.store.name,e,t),t)))}delete(e){return se(wn,"DELETE",this.store.name,e),zs(this.store.delete(e))}count(){return se(wn,"COUNT",this.store.name),zs(this.store.count())}H(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const a=s.getAll(r.range);return new $(((u,h)=>{a.onerror=f=>{h(f.target.error)},a.onsuccess=f=>{u(f.target.result)}}))}{const a=this.cursor(r),u=[];return this.J(a,((h,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new $(((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}X(e,t){se(wn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.J(s,((a,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.J(s,t)}te(e){const t=this.cursor({});return new $(((r,s)=>{t.onerror=a=>{const u=Sg(a.target.error);s(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}J(e,t){const r=[];return new $(((s,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new gO(h),p=t(h.primaryKey,h.value,f);if(p instanceof $){const v=p.catch((_=>(f.done(),$.reject(_))));r.push(v)}f.isDone?s():f.G===null?h.continue():h.continue(f.G)}})).next((()=>$.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zs(n){return new $(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=Sg(r.target.error);t(s)}}))}let Ow=!1;function Sg(n){const e=Zi.M(Rt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ow||(Ow=!0,setTimeout((()=>{throw r}),0)),r}}return n}const iu="IndexBackfiller";class vO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){se(iu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();se(iu,`Documents written: ${t}`)}catch(t){uo(t)?se(iu,"Ignoring IndexedDB error during index backfill: ",t):await lo(t)}await this.re(6e4)}))}}class _O{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,a=!0;return $.doWhile((()=>a===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return se(iu,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,r.add(u)}));a=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,a))).next((h=>(se(iu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,a)=>{const u=j0(a);Ig(u,r)>0&&(r=u)})),new In(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class an{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}an.ce=-1;const Ks=-1;function Fd(n){return n==null}function wu(n){return n===0&&1/n==-1/0}function wO(n){return typeof n=="number"&&Number.isInteger(n)&&!wu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Jh="";function Jt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vw(e)),e=EO(n.get(t),e);return Vw(e)}function EO(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Jh:t+="";break;default:t+=a}}return t}function Vw(n){return n+Jh+""}function _r(n){const e=n.length;if(_e(e>=2,64408,{path:n}),e===2)return _e(n.charAt(0)===Jh&&n.charAt(1)==="",56145,{path:n}),st.emptyPath();const t=e-2,r=[];let s="";for(let a=0;a<e;){const u=n.indexOf(Jh,a);switch((u<0||u>t)&&ge(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(a,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(a,u),s+="\0";break;case"":s+=n.substring(a,u+1);break;default:ge(61167,{path:n})}a=u+2}return new st(r)}const Us="remoteDocuments",Lu="owner",Zo="owner",Eu="mutationQueues",TO="userId",Kn="mutations",Mw="batchId",qs="userMutationsIndex",Lw=["userId","batchId"];function Rh(n,e){return[n,Jt(e)]}function $0(n,e,t){return[n,Jt(e),t]}const IO={},Sa="documentMutations",Xh="remoteDocumentsV14",SO=["prefixPath","collectionGroup","readTime","documentId"],Ch="documentKeyIndex",AO=["prefixPath","collectionGroup","documentId"],H0="collectionGroupIndex",xO=["collectionGroup","readTime","prefixPath","documentId"],Tu="remoteDocumentGlobal",Em="remoteDocumentGlobalKey",Aa="targets",q0="queryTargetsIndex",PO=["canonicalId","targetId"],xa="targetDocuments",RO=["targetId","path"],Ag="documentTargetsIndex",CO=["path","targetId"],Zh="targetGlobalKey",Gs="targetGlobal",Iu="collectionParents",bO=["collectionId","parent"],Pa="clientMetadata",kO="clientId",jd="bundles",NO="bundleId",Ud="namedQueries",DO="name",xg="indexConfiguration",OO="indexId",Tm="collectionGroupIndex",VO="collectionGroup",su="indexState",MO=["indexId","uid"],K0="sequenceNumberIndex",LO=["uid","sequenceNumber"],ou="indexEntries",FO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G0="documentKeyIndex",jO=["indexId","uid","orderedDocumentKey"],zd="documentOverlays",UO=["userId","collectionPath","documentId"],Im="collectionPathOverlayIndex",zO=["userId","collectionPath","largestBatchId"],W0="collectionGroupOverlayIndex",BO=["userId","collectionGroup","largestBatchId"],Pg="globals",$O="name",Q0=[Eu,Kn,Sa,Us,Aa,Lu,Gs,xa,Pa,Tu,Iu,jd,Ud],HO=[...Q0,zd],Y0=[Eu,Kn,Sa,Xh,Aa,Lu,Gs,xa,Pa,Tu,Iu,jd,Ud,zd],J0=Y0,Rg=[...J0,xg,su,ou],qO=Rg,X0=[...Rg,Pg],KO=X0;class Sm extends z0{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Ct(n,e){const t=we(n);return Zi.O(t.le,e)}function Fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ot{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ut(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ea(n){return n.hasNext()?n.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new Ye(yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Z0("Invalid base64 string: "+a):a}})(e);return new vt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const WO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(n){if(_e(!!n,39018),typeof n=="string"){let e=0;const t=WO.exec(n);if(_e(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}const eS="server_timestamp",tS="__type__",nS="__previous_value__",rS="__local_write_time__";function bg(n){return(n?.mapValue?.fields||{})[tS]?.stringValue===eS}function iS(n){const e=n.mapValue.fields[nS];return bg(e)?iS(e):e}function ed(n){const e=is(n.mapValue.fields[rS].timestampValue);return new ct(e.seconds,e.nanos)}const td="(default)";class Ra{constructor(e,t){this.projectId=e,this.database=t||td}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}function QO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(n.options.projectId,e)}const sS="__type__",oS="__max__",Gi={mapValue:{fields:{__type__:{stringValue:oS}}}},aS="__vector__",nd="value",bh={nullValue:"NULL_VALUE"};function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bg(n)?4:lS(n)?9007199254740991:Bd(n)?10:11:ge(28295,{value:n})}function Pr(n,e){if(n===e)return!0;const t=Ca(n);if(t!==Ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ed(n).isEqual(ed(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=is(s.timestampValue),h=is(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return ro(s.bytesValue).isEqual(ro(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return It(s.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return It(s.integerValue)===It(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=It(s.doubleValue),h=It(a.doubleValue);return u===h?wu(u)===wu(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Ta(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Fw(u)!==Fw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Pr(u[f],h[f])))return!1;return!0})(n,e);default:return ge(52216,{left:n})}}function Su(n,e){return(n.values||[]).find((t=>Pr(t,e)))!==void 0}function ss(n,e){if(n===e)return 0;const t=Ca(n),r=Ca(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=It(a.integerValue||a.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Uw(n.timestampValue,e.timestampValue);case 4:return Uw(ed(n),ed(e));case 5:return _m(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=ro(a),f=ro(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=be(h[p],f[p]);if(v!==0)return v}return be(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=be(It(a.latitude),It(u.latitude));return h!==0?h:be(It(a.longitude),It(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},f=u.fields||{},p=h[nd]?.arrayValue,v=f[nd]?.arrayValue,_=be(p?.values?.length||0,v?.values?.length||0);return _!==0?_:zw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Gi.mapValue&&u===Gi.mapValue)return 0;if(a===Gi.mapValue)return 1;if(u===Gi.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const T=_m(f[_],v[_]);if(T!==0)return T;const A=ss(h[f[_]],p[v[_]]);if(A!==0)return A}return be(f.length,v.length)})(n.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function Uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=is(n),r=is(e),s=be(t.seconds,r.seconds);return s!==0?s:be(t.nanos,r.nanos)}function zw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ss(t[s],r[s]);if(a)return a}return be(t.length,r.length)}function ba(n){return Am(n)}function Am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=is(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ro(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return he.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Am(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Am(t.fields[u])}`;return s+"}"})(n.mapValue):ge(61005,{value:n})}function kg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xm(n){return!!n&&"integerValue"in n}function Au(n){return!!n&&"arrayValue"in n}function Bw(n){return!!n&&"nullValue"in n}function $w(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hp(n){return!!n&&"mapValue"in n}function Bd(n){return(n?.mapValue?.fields||{})[sS]?.stringValue===aS}function au(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Cg(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=au(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(n.arrayValue.values[t]);return e}return{...n}}function lS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oS}const uS={mapValue:{fields:{[sS]:{stringValue:aS},[nd]:{arrayValue:{}}}}};function YO(n){return"nullValue"in n?bh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kg(Ra.empty(),he.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Bd(n)?uS:{mapValue:{}}:ge(35942,{value:n})}function JO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kg(Ra.empty(),he.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?uS:"mapValue"in n?Bd(n)?{mapValue:{}}:Gi:ge(61959,{value:n})}function Hw(n,e){const t=ss(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qw(n,e){const t=ss(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=yt.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=au(u):s.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Cg(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Nn(au(this.value))}}class ft{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ft(e,0,Ee.min(),Ee.min(),Ee.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,s){return new ft(e,1,t,Ee.min(),r,s,0)}static newNoDocument(e,t){return new ft(e,2,t,Ee.min(),Ee.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new ft(e,3,t,Ee.min(),Ee.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}function Kw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=he.comparator(he.fromName(u.referenceValue),t.key):r=ss(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}class rd{constructor(e,t="asc"){this.field=e,this.dir=t}}function XO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class cS{}class Be extends cS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZO(e,t,r):t==="array-contains"?new nV(e,r):t==="in"?new gS(e,r):t==="not-in"?new rV(e,r):t==="array-contains-any"?new iV(e,r):new Be(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eV(e,r):new tV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ss(t,this.value)):t!==null&&Ca(this.value)===Ca(t)&&this.matchesComparison(ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xe extends cS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xe(e,t)}matches(e){return Na(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Na(n){return n.op==="and"}function Pm(n){return n.op==="or"}function Ng(n){return hS(n)&&Na(n)}function hS(n){for(const e of n.filters)if(e instanceof Xe)return!1;return!0}function Rm(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+ba(n.value);if(Ng(n))return n.filters.map((e=>Rm(e))).join(",");{const e=n.filters.map((t=>Rm(t))).join(",");return`${n.op}(${e})`}}function dS(n,e){return n instanceof Be?(function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&Pr(r.value,s.value)})(n,e):n instanceof Xe?(function(r,s){return s instanceof Xe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,h)=>a&&dS(u,s.filters[h])),!0):!1})(n,e):void ge(19439)}function fS(n,e){const t=n.filters.concat(e);return Xe.create(t,n.op)}function pS(n){return n instanceof Be?(function(t){return`${t.field.canonicalString()} ${t.op} ${ba(t.value)}`})(n):n instanceof Xe?(function(t){return t.op.toString()+" {"+t.getFilters().map(pS).join(" ,")+"}"})(n):"Filter"}class ZO extends Be{constructor(e,t,r){super(e,t,r),this.key=he.fromName(r.referenceValue)}matches(e){const t=he.comparator(e.key,this.key);return this.matchesComparison(t)}}class eV extends Be{constructor(e,t){super(e,"in",t),this.keys=mS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tV extends Be{constructor(e,t){super(e,"not-in",t),this.keys=mS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mS(n,e){return(e.arrayValue?.values||[]).map((t=>he.fromName(t.referenceValue)))}class nV extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Au(t)&&Su(t.arrayValue,this.value)}}class gS extends Be{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class rV extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}}class iV extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Au(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class sV{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function Cm(n,e=null,t=[],r=[],s=null,a=null,u=null){return new sV(n,e,t,r,s,a,u)}function io(n){const e=we(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Rm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ba(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ba(r))).join(",")),e.Te=t}return e.Te}function Fu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Gw(n.startAt,e.startAt)&&Gw(n.endAt,e.endAt)}function id(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function sd(n,e){return n.filters.filter((t=>t instanceof Be&&t.field.isEqual(e)))}function Ww(n,e,t){let r=bh,s=!0;for(const a of sd(n,e)){let u=bh,h=!0;switch(a.op){case"<":case"<=":u=YO(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=bh}Hw({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Hw({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function Qw(n,e,t){let r=Gi,s=!0;for(const a of sd(n,e)){let u=Gi,h=!0;switch(a.op){case">=":case">":u=JO(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Gi}qw({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];qw({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}class $d{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yS(n,e,t,r,s,a,u,h){return new $d(n,e,t,r,s,a,u,h)}function Dg(n){return new $d(n)}function Yw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oV(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function aV(n){return n.collectionGroup!==null}function lu(n){const e=we(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ye(yt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new rd(a,r))})),t.has(yt.keyField().canonicalString())||e.Ie.push(new rd(yt.keyField(),r))}return e.Ie}function On(n){const e=we(n);return e.Ee||(e.Ee=lV(e,lu(n))),e.Ee}function lV(n,e){if(n.limitType==="F")return Cm(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new rd(s.field,a)}));const t=n.endAt?new ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ka(n.startAt.position,n.startAt.inclusive):null;return Cm(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bm(n,e,t){return new $d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Og(n,e){return Fu(On(n),On(e))&&n.limitType===e.limitType}function vS(n){return`${io(On(n))}|lt:${n.limitType}`}function $l(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>pS(s))).join(", ")}]`),Fd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ba(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ba(s))).join(",")),`Target(${r})`})(On(n))}; limitType=${n.limitType})`}function ju(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):he.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of lu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const p=Kw(u,h,f);return u.inclusive?p<=0:p<0})(r.startAt,lu(r),s)||r.endAt&&!(function(u,h,f){const p=Kw(u,h,f);return u.inclusive?p>=0:p>0})(r.endAt,lu(r),s))})(n,e)}function _S(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wS(n){return(e,t)=>{let r=!1;for(const s of lu(n)){const a=uV(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function uV(n,e,t){const r=n.field.isKeyField()?he.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ss(f,p):ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:n.dir})}}class ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cg(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return GO(this.inner)}size(){return this.innerSize}}const cV=new ot(he.comparator);function Dn(){return cV}const ES=new ot(he.comparator);function Jl(...n){let e=ES;for(const t of n)e=e.insert(t.key,t);return e}function hV(n){let e=ES;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function wr(){return uu()}function TS(){return uu()}function uu(){return new ls((n=>n.toString()),((n,e)=>n.isEqual(e)))}const dV=new ot(he.comparator),fV=new Ye(he.comparator);function Le(...n){let e=fV;for(const t of n)e=e.add(t);return e}const pV=new Ye(be);function Vg(){return pV}function mV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(e)?"-0":e}}function gV(n){return{integerValue:""+n}}class Hd{constructor(){this._=void 0}}function yV(n,e,t){return n instanceof xu?(function(s,a){const u={fields:{[tS]:{stringValue:eS},[rS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&bg(a)&&(a=iS(a)),a&&(u.fields[nS]=a),{mapValue:u}})(t,e):n instanceof Da?IS(n,e):n instanceof Oa?SS(n,e):(function(s,a){const u=_V(s,a),h=Jw(u)+Jw(s.Ae);return xm(u)&&xm(s.Ae)?gV(h):mV(s.serializer,h)})(n,e)}function vV(n,e,t){return n instanceof Da?IS(n,e):n instanceof Oa?SS(n,e):t}function _V(n,e){return n instanceof Pu?(function(r){return xm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xu extends Hd{}class Da extends Hd{constructor(e){super(),this.elements=e}}function IS(n,e){const t=AS(e);for(const r of n.elements)t.some((s=>Pr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Oa extends Hd{constructor(e){super(),this.elements=e}}function SS(n,e){let t=AS(e);for(const r of n.elements)t=t.filter((s=>!Pr(s,r)));return{arrayValue:{values:t}}}class Pu extends Hd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Jw(n){return It(n.integerValue||n.doubleValue)}function AS(n){return Au(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wV{constructor(e,t){this.field=e,this.transform=t}}function EV(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Da&&s instanceof Da||r instanceof Oa&&s instanceof Oa?Ta(r.elements,s.elements,Pr):r instanceof Pu&&s instanceof Pu?Pr(r.Ae,s.Ae):r instanceof xu&&s instanceof xu})(n.transform,e.transform)}class TV{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qd{}function xS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mg(n.key,Qn.none()):new Uu(n.key,n.data,Qn.none());{const t=n.data,r=Nn.empty();let s=new Ye(yt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new $a(n.key,r,new Jr(s.toArray()),Qn.none())}}function IV(n,e,t){n instanceof Uu?(function(s,a,u){const h=s.value.clone(),f=Zw(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof $a?(function(s,a,u){if(!kh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Zw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(PS(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function cu(n,e,t,r){return n instanceof Uu?(function(a,u,h,f){if(!kh(a.precondition,u))return h;const p=a.value.clone(),v=eE(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof $a?(function(a,u,h,f){if(!kh(a.precondition,u))return h;const p=eE(a.fieldTransforms,f,u),v=u.data;return v.setAll(PS(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,u,h){return kh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function Xw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ta(r,s,((a,u)=>EV(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends qd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $a extends qd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Zw(n,e,t){const r=new Map;_e(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,vV(u,h,t[s]))}return r}function eE(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,yV(a,u,e))}return r}class Mg extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RS extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&IV(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TS();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=xS(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,((t,r)=>Xw(t,r)))&&Ta(this.baseMutations,e.baseMutations,((t,r)=>Xw(t,r)))}}class Fg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return dV})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Fg(e,t,r,s)}}class jg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SV{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tt,$e;function AV(n){switch(n){case ne.OK:return ge(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ge(15467,{code:n})}}function CS(n){if(n===void 0)return Ot("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Tt.OK:return ne.OK;case Tt.CANCELLED:return ne.CANCELLED;case Tt.UNKNOWN:return ne.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ne.INTERNAL;case Tt.UNAVAILABLE:return ne.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ne.NOT_FOUND;case Tt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tt.ABORTED:return ne.ABORTED;case Tt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tt.DATA_LOSS:return ne.DATA_LOSS;default:return ge(39323,{code:n})}}($e=Tt||(Tt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function xV(){return new TextEncoder}const PV=new Xi([4294967295,4294967295],0);function tE(n){const e=xV().encode(n),t=new b0;return t.update(e),new Uint8Array(t.digest())}function nE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([t,r],0),new Xi([s,a],0)]}class Ug{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Xi.fromNumber(r)));return s.compare(PV)===1&&(s=new Xi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tE(e),[r,s]=nE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ug(a,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=tE(e),[r,s]=nE(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zu{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zu(Ee.min(),s,new ot(be),Dn(),Le())}}class Bu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bu(r,t,Le(),Le(),Le())}}class Nh{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class bS{constructor(e,t){this.targetId=e,this.Ce=t}}class kS{constructor(e,t,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class rE{constructor(){this.ve=0,this.Fe=iE(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ge(38017,{changeType:a})}})),new Bu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=iE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class RV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dn(),this.He=fh(),this.Je=fh(),this.Ze=new ot(be)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(id(a))if(r===0){const u=new he(a.path);this.et(t,u,ft.newNoDocument(u,Ee.min()))}else _e(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=ro(r).toUint8Array()}catch(f){if(f instanceof Z0)return Qh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ug(u,s,a)}catch(f){return Qh(f instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&id(h.target)){const f=new he(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ft.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let r=Le();this.Je.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new zu(e,t,this.Ze,this.je,r);return this.je=Dn(),this.He=fh(),this.Je=fh(),this.Ze=new ot(be),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new rE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ye(be),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ye(be),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function fh(){return new ot(he.comparator)}function iE(){return new ot(he.comparator)}const CV={asc:"ASCENDING",desc:"DESCENDING"},bV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kV={and:"AND",or:"OR"};class NV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function km(n,e){return n.useProto3Json||Fd(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OV(n,e){return od(n,e.toTimestamp())}function Xt(n){return _e(!!n,49232),Ee.fromTimestamp((function(t){const r=is(t);return new ct(r.seconds,r.nanos)})(n))}function NS(n,e){return Nm(n,e).canonicalString()}function Nm(n,e){const t=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DS(n){const e=st.fromString(n);return _e($V(e),10190,{key:e.toString()}),e}function ad(n,e){return NS(n.databaseId,e.path)}function Ws(n,e){const t=DS(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(MS(t))}function OS(n,e){return NS(n.databaseId,e)}function VS(n){const e=DS(n);return e.length===4?st.emptyPath():MS(e)}function Dm(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MS(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sE(n,e,t){return{name:ad(n,e),fields:t.value.mapValue.fields}}function VV(n,e,t){const r=Ws(n,e.name),s=Xt(e.updateTime),a=e.createTime?Xt(e.createTime):Ee.min(),u=new Nn({mapValue:{fields:e.fields}}),h=ft.newFoundDocument(r,s,a,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function MV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ge(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(_e(v===void 0||typeof v=="string",58123),vt.fromBase64String(v||"")):(_e(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),vt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?ne.UNKNOWN:CS(p.code);return new ye(v,p.message||"")})(u);t=new kS(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ws(n,r.document.name),a=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ee.min(),h=new Nn({mapValue:{fields:r.document.fields}}),f=ft.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Nh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ws(n,r.document),a=r.readTime?Xt(r.readTime):Ee.min(),u=ft.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Nh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ws(n,r.document),a=r.removedTargetIds||[];t=new Nh([],a,s,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new SV(s,a),h=r.targetId;t=new bS(h,u)}}return t}function ld(n,e){let t;if(e instanceof Uu)t={update:sE(n,e.key,e.value)};else if(e instanceof Mg)t={delete:ad(n,e.key)};else if(e instanceof $a)t={update:sE(n,e.key,e.data),updateMask:BV(e.fieldMask)};else{if(!(e instanceof RS))return ge(16599,{dt:e.type});t={verify:ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof xu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Da)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Oa)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ge(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:OV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge(27497)})(n,e.precondition)),t}function Om(n,e){const t=e.currentDocument?(function(a){return a.updateTime!==void 0?Qn.updateTime(Xt(a.updateTime)):a.exists!==void 0?Qn.exists(a.exists):Qn.none()})(e.currentDocument):Qn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let f=null;if("setToServerValue"in h)_e(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new xu;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];f=new Da(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];f=new Oa(v)}else"increment"in h?f=new Pu(u,h.increment):ge(16584,{proto:h});const p=yt.fromServerFormat(h.fieldPath);return new wV(p,f)})(n,s))):[];if(e.update){e.update.name;const s=Ws(n,e.update.name),a=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const p=f.fieldPaths||[];return new Jr(p.map((v=>yt.fromServerFormat(v))))})(e.updateMask);return new $a(s,a,u,t,r)}return new Uu(s,a,t,r)}if(e.delete){const s=Ws(n,e.delete);return new Mg(s,t)}if(e.verify){const s=Ws(n,e.verify);return new RS(s,t)}return ge(1463,{proto:e})}function LV(n,e){return n&&n.length>0?(_e(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Xt(s.updateTime):Xt(a);return u.isEqual(Ee.min())&&(u=Xt(a)),new TV(u,s.transformResults||[])})(t,e)))):[]}function LS(n,e){return{documents:[OS(n,e.path)]}}function FS(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OS(n,s);const a=(function(p){if(p.length!==0)return zS(Xe.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:oa(T.field),direction:jV(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=km(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function jS(n){let e=VS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){_e(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(_){const T=US(_);return T instanceof Xe&&Ng(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((T=>(function(D){return new rd(aa(D.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,Fd(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(_){const T=!!_.before,A=_.values||[];return new ka(A,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const T=!_.before,A=_.values||[];return new ka(A,T)})(t.endAt)),yS(e,s,u,a,h,"F",f,p)}function FV(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function US(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=aa(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=aa(t.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=aa(t.unaryFilter.field);return Be.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=aa(t.unaryFilter.field);return Be.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Be.create(aa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Xe.create(t.compositeFilter.filters.map((r=>US(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(n):ge(30097,{filter:n})}function jV(n){return CV[n]}function UV(n){return bV[n]}function zV(n){return kV[n]}function oa(n){return{fieldPath:n.canonicalString()}}function aa(n){return yt.fromServerFormat(n.fieldPath)}function zS(n){return n instanceof Be?(function(t){if(t.op==="=="){if($w(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NAN"}};if(Bw(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($w(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NAN"}};if(Bw(t.value))return{unaryFilter:{field:oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(t.field),op:UV(t.op),value:t.value}}})(n):n instanceof Xe?(function(t){const r=t.getFilters().map((s=>zS(s)));return r.length===1?r[0]:{compositeFilter:{op:zV(t.op),filters:r}}})(n):ge(54877,{filter:n})}function BV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $V(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Xr{constructor(e,t,r,s,a=Ee.min(),u=Ee.min(),h=vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BS{constructor(e){this.yt=e}}function HV(n,e){let t;if(e.document)t=VV(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=oo(e.noDocument.readTime);t=ft.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge(56709);{const r=he.fromSegments(e.unknownDocument.path),s=oo(e.unknownDocument.version);t=ft.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const a=new ct(s[0],s[1]);return Ee.fromTimestamp(a)})(e.readTime)),t}function oE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ud(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,u){return{name:ad(a,u.key),fields:u.data.value.mapValue.fields,updateTime:od(a,u.version.toTimestamp()),createTime:od(a,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:so(e.version)};else{if(!e.isUnknownDocument())return ge(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:so(e.version)}}return r}function ud(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function so(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oo(n){const e=new ct(n.seconds,n.nanoseconds);return Ee.fromTimestamp(e)}function Bs(n,e){const t=(e.baseMutations||[]).map((a=>Om(n.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const h=e.mutations[a+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>Om(n.yt,a))),s=ct.fromMillis(e.localWriteTimeMs);return new Lg(e.batchId,s,t,r)}function Zl(n){const e=oo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?oo(n.lastLimboFreeSnapshotVersion):Ee.min();let r;return r=(function(a){return a.documents!==void 0})(n.query)?(function(a){const u=a.documents.length;return _e(u===1,1966,{count:u}),On(Dg(VS(a.documents[0])))})(n.query):(function(a){return On(jS(a))})(n.query),new Xr(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vt.fromBase64String(n.resumeToken))}function $S(n,e){const t=so(e.snapshotVersion),r=so(e.lastLimboFreeSnapshotVersion);let s;s=id(e.target)?LS(n.yt,e.target):FS(n.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:io(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function HS(n){const e=jS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bm(e,e.limit,"L"):e}function qp(n,e){return new jg(e.largestBatchId,Om(n.yt,e.overlayMutation))}function aE(n,e){const t=e.path.lastSegment();return[n,Jt(e.path.popLast()),t]}function lE(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:so(r.readTime),documentKey:Jt(r.documentKey.path),largestBatchId:r.largestBatchId}}class qV{getBundleMetadata(e,t){return uE(e).get(t).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:oo(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,t){return uE(e).put((function(s){return{bundleId:s.id,createTime:so(Xt(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return cE(e).get(t).next((r=>{if(r)return(function(a){return{name:a.name,query:HS(a.bundledQuery),readTime:oo(a.readTime)}})(r)}))}saveNamedQuery(e,t){return cE(e).put((function(s){return{name:s.name,readTime:so(Xt(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function uE(n){return Ct(n,jd)}function cE(n){return Ct(n,Ud)}class Kd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Kd(e,r)}getOverlay(e,t){return Hl(e).get(aE(this.userId,t)).next((r=>r?qp(this.serializer,r):null))}getOverlays(e,t){const r=wr();return $.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((a,u)=>{const h=new jg(t,u);s.push(this.bt(e,h))})),$.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Jt(u.getCollectionPath()))));const a=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(Hl(e).X(Im,h))})),$.waitFor(a)}getOverlaysForCollection(e,t,r){const s=wr(),a=Jt(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hl(e).H(Im,u).next((h=>{for(const f of h){const p=qp(this.serializer,f);s.set(p.getKey(),p)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const a=wr();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hl(e).ee({index:W0,range:h},((f,p,v)=>{const _=qp(this.serializer,p);a.size()<s||_.largestBatchId===u?(a.set(_.getKey(),_),u=_.largestBatchId):v.done()})).next((()=>a))}bt(e,t){return Hl(e).put((function(s,a,u){const[h,f,p]=aE(a,u.mutation.key);return{userId:a,collectionPath:f,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ld(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Hl(n){return Ct(n,zd)}class KV{St(e){return Ct(e,Pg)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?vt.fromUint8Array(r):vt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class $s{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),wu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=is(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ro(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?lS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Bd(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ge(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=nd,a=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(It(a)),this.Ot(s,t),this.Ct(r[s],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),he.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}$s.Wt=new $s;const ta=255;function GV(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function hE(n){const e=64-(function(r){let s=0;for(let a=0;a<8;++a){const u=GV(255&r[a]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class WV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),r=hE(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=hE(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(ta),this.sn(255)}_n(){this.an(ta),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===ta?(this.sn(ta),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===ta?(this.an(ta),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class QV{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class YV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ql{constructor(){this.cn=new WV,this.ascending=new QV(this.cn),this.descending=new YV(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Hs{constructor(e,t,r,s){this.hn=e,this.Pn=t,this.Tn=r,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new Hs(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Dh(this.Tn),directionalValue:Dh(this.In),orderedDocumentKey:Dh(t),documentKey:r.path.toArray()}}An(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Fi(n,e){let t=n.hn-e.hn;return t!==0?t:(t=dE(n.Tn,e.Tn),t!==0?t:(t=dE(n.In,e.In),t!==0?t:he.comparator(n.Pn,e.Pn)))}function dE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Dh(n){return qI()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function fE(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class pE{constructor(e){this.Vn=new Ye(((t,r)=>yt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=wm(e);if(t!==void 0&&!this.pn(t))return!1;const r=js(e);let s=new Set,a=0,u=0;for(;a<r.length&&this.pn(r[a]);++a)s=s.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[a];if(!this.yn(h,f)||!this.wn(this.dn[u++],f))return!1}++a}for(;a<r.length;++a){const h=r[a];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let e=new Ye(yt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Ph(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Ph(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Ph(r.field,r.dir==="asc"?0:1)));return new Yh(Yh.UNKNOWN_ID,this.collectionId,t,_u.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function qS(n){if(_e(n instanceof Be||n instanceof Xe,20012),n instanceof Be){if(n instanceof gS){const t=n.value.arrayValue?.values?.map((r=>Be.create(n.field,"==",r)))||[];return Xe.create(t,"or")}return n}const e=n.filters.map((t=>qS(t)));return Xe.create(e,n.op)}function JV(n){if(n.getFilters().length===0)return[];const e=Lm(qS(n));return _e(KS(e),7391),Vm(e)||Mm(e)?[e]:e.getFilters()}function Vm(n){return n instanceof Be}function Mm(n){return n instanceof Xe&&Ng(n)}function KS(n){return Vm(n)||Mm(n)||(function(t){if(t instanceof Xe&&Pm(t)){for(const r of t.getFilters())if(!Vm(r)&&!Mm(r))return!1;return!0}return!1})(n)}function Lm(n){if(_e(n instanceof Be||n instanceof Xe,34018),n instanceof Be)return n;if(n.filters.length===1)return Lm(n.filters[0]);const e=n.filters.map((r=>Lm(r)));let t=Xe.create(e,n.op);return t=cd(t),KS(t)?t:(_e(t instanceof Xe,64498),_e(Na(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((r,s)=>zg(r,s))))}function zg(n,e){let t;return _e(n instanceof Be||n instanceof Xe,38388),_e(e instanceof Be||e instanceof Xe,25473),t=n instanceof Be?e instanceof Be?(function(s,a){return Xe.create([s,a],"and")})(n,e):mE(n,e):e instanceof Be?mE(e,n):(function(s,a){if(_e(s.filters.length>0&&a.filters.length>0,48005),Na(s)&&Na(a))return fS(s,a.getFilters());const u=Pm(s)?s:a,h=Pm(s)?a:s,f=u.filters.map((p=>zg(p,h)));return Xe.create(f,"or")})(n,e),cd(t)}function mE(n,e){if(Na(e))return fS(e,n.getFilters());{const t=e.filters.map((r=>zg(n,r)));return Xe.create(t,"or")}}function cd(n){if(_e(n instanceof Be||n instanceof Xe,11850),n instanceof Be)return n;const e=n.getFilters();if(e.length===1)return cd(e[0]);if(hS(n))return n;const t=e.map((s=>cd(s))),r=[];return t.forEach((s=>{s instanceof Be?r.push(s):s instanceof Xe&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Xe.create(r,n.op)}class XV{constructor(){this.Sn=new Bg}addToCollectionParentIndex(e,t){return this.Sn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(In.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(In.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class Bg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ye(st.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ye(st.comparator)).toArray()}}const gE="IndexedDbIndexManager",ph=new Uint8Array(0);class ZV{constructor(e,t){this.databaseId=t,this.Dn=new Bg,this.Cn=new ls((r=>io(r)),((r,s)=>Fu(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const a={collectionId:r,parent:Jt(s)};return yE(e).put(a)}return $.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[L0(t),""],!1,!0);return yE(e).H(s).next((a=>{for(const u of a){if(u.collectionId!==t)break;r.push(_r(u.parent))}return r}))}addFieldIndex(e,t){const r=Kl(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const a=r.add(s);if(t.indexState){const u=ra(e);return a.next((h=>{u.put(lE(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}deleteFieldIndex(e,t){const r=Kl(e),s=ra(e),a=na(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Kl(e),r=na(e),s=ra(e);return t.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(e,t){return $.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const a=new pE(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,t){const r=na(e);let s=!0;const a=new Map;return $.forEach(this.vn(t),(u=>this.Fn(e,u).next((h=>{s&&(s=!!h),a.set(u,h)})))).next((()=>{if(s){let u=Le();const h=[];return $.forEach(a,((f,p)=>{se(gE,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(f)} to execute ${io(t)}`);const v=(function(Q,Y){const Z=wm(Y);if(Z===void 0)return null;for(const re of sd(Q,Z.fieldPath))switch(re.op){case"array-contains-any":return re.value.arrayValue.values||[];case"array-contains":return[re.value]}return null})(p,f),_=(function(Q,Y){const Z=new Map;for(const re of js(Y))for(const x of sd(Q,re.fieldPath))switch(x.op){case"==":case"in":Z.set(re.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return Z.set(re.fieldPath.canonicalString(),x.value),Array.from(Z.values())}return null})(p,f),T=(function(Q,Y){const Z=[];let re=!0;for(const x of js(Y)){const S=x.kind===0?Ww(Q,x.fieldPath,Q.startAt):Qw(Q,x.fieldPath,Q.startAt);Z.push(S.value),re&&(re=S.inclusive)}return new ka(Z,re)})(p,f),A=(function(Q,Y){const Z=[];let re=!0;for(const x of js(Y)){const S=x.kind===0?Qw(Q,x.fieldPath,Q.endAt):Ww(Q,x.fieldPath,Q.endAt);Z.push(S.value),re&&(re=S.inclusive)}return new ka(Z,re)})(p,f),D=this.Mn(f,p,T),P=this.Mn(f,p,A),b=this.xn(f,p,_),q=this.On(f.indexId,v,D,T.inclusive,P,A.inclusive,b);return $.forEach(q,(K=>r.Z(K,t.limit).next((Q=>{Q.forEach((Y=>{const Z=he.fromSegments(Y.documentKey);u.has(Z)||(u=u.add(Z),h.push(Z))}))}))))})).next((()=>h))}return $.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=JV(Xe.create(e.filters,"and")).map((r=>Cm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,s,a,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,a.length),p=f/(t!=null?t.length:1),v=[];for(let _=0;_<f;++_){const T=t?this.Nn(t[_/p]):ph,A=this.Bn(e,T,r[_%p],s),D=this.Ln(e,T,a[_%p],u),P=h.map((b=>this.Bn(e,T,b,!0)));v.push(...this.createRange(A,D,P))}return v}Bn(e,t,r,s){const a=new Hs(e,he.empty(),t,r);return s?a:a.En()}Ln(e,t,r,s){const a=new Hs(e,he.empty(),t,r);return s?a.En():a}Fn(e,t){const r=new pE(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((a=>{let u=null;for(const h of a)r.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const s=this.vn(t);return $.forEach(s,(a=>this.Fn(e,a).next((u=>{u?r!==0&&u.fields.length<(function(f){let p=new Ye(yt.comparator),v=!1;for(const _ of f.filters)for(const T of _.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?v=!0:p=p.add(T.field));for(const _ of f.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(v?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}kn(e,t){const r=new ql;for(const s of js(e)){const a=t.data.field(s.fieldPath);if(a==null)return null;const u=r.ln(s.kind);$s.Wt.Dt(a,u)}return r.un()}Nn(e){const t=new ql;return $s.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new ql;return $s.Wt.Dt(kg(this.databaseId,t),r.ln((function(a){const u=js(a);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let s=[];s.push(new ql);let a=0;for(const u of js(e)){const h=r[a++];for(const f of s)if(this.qn(t,u.fieldPath)&&Au(h))s=this.Un(s,u,h);else{const p=f.ln(u.kind);$s.Wt.Dt(h,p)}}return this.$n(s)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const s=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of s){const f=new ql;f.seed(h.un()),$s.Wt.Dt(u,f.ln(t.kind)),a.push(f)}return a}qn(e,t){return!!e.filters.find((r=>r instanceof Be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Kl(e),s=ra(e);return(t?r.H(Tm,IDBKeyRange.bound(t,t)):r.H()).next((a=>{const u=[];return $.forEach(a,(h=>s.get([h.indexId,this.uid]).next((f=>{u.push((function(v,_){const T=_?new _u(_.sequenceNumber,new In(oo(_.readTime),new he(_r(_.documentKey)),_.largestBatchId)):_u.empty(),A=v.fields.map((([D,P])=>new Ph(yt.fromServerFormat(D),P)));return new Yh(v.indexId,v.collectionGroup,A,T)})(h,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const a=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return a!==0?a:be(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=Kl(e),a=ra(e);return this.Wn(e).next((u=>s.H(Tm,IDBKeyRange.bound(t,t)).next((h=>$.forEach(h,(f=>a.put(lE(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return $.forEach(t,((s,a)=>{const u=r.get(s.collectionGroup);return(u?$.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(r.set(s.collectionGroup,h),$.forEach(h,(f=>this.Qn(e,s,f).next((p=>{const v=this.Gn(a,f);return p.isEqual(v)?$.resolve():this.zn(e,a,f,p,v)})))))))}))}jn(e,t,r,s){return na(e).put(s.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,s){return na(e).delete(s.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const s=na(e);let a=new Ye(Fi);return s.ee({index:G0,range:IDBKeyRange.only([r.indexId,this.uid,Dh(this.Kn(r,t))])},((u,h)=>{a=a.add(new Hs(r.indexId,t,fE(h.arrayValue),fE(h.directionalValue)))})).next((()=>a))}Gn(e,t){let r=new Ye(Fi);const s=this.kn(t,e);if(s==null)return r;const a=wm(t);if(a!=null){const u=e.data.field(a.fieldPath);if(Au(u))for(const h of u.arrayValue.values||[])r=r.add(new Hs(t.indexId,e.key,this.Nn(h),s))}else r=r.add(new Hs(t.indexId,e.key,ph,s));return r}zn(e,t,r,s,a){se(gE,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,p,v,_,T){const A=f.getIterator(),D=p.getIterator();let P=ea(A),b=ea(D);for(;P||b;){let q=!1,K=!1;if(P&&b){const Q=v(P,b);Q<0?K=!0:Q>0&&(q=!0)}else P!=null?K=!0:q=!0;q?(_(b),b=ea(D)):K?(T(P),P=ea(A)):(P=ea(A),b=ea(D))}})(s,a,Fi,(h=>{u.push(this.jn(e,t,r,h))}),(h=>{u.push(this.Hn(e,t,r,h))})),$.waitFor(u)}Wn(e){let t=1;return ra(e).ee({index:K0,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,a)=>{a.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>Fi(u,h))).filter(((u,h,f)=>!h||Fi(u,f[h-1])!==0));const s=[];s.push(e);for(const u of r){const h=Fi(u,e),f=Fi(u,t);if(h===0)s[0]=e.En();else if(h>0&&f<0)s.push(u),s.push(u.En());else if(f>0)break}s.push(t);const a=[];for(let u=0;u<s.length;u+=2){if(this.Jn(s[u],s[u+1]))return[];const h=s[u].An(this.uid,ph,he.empty()),f=s[u+1].An(this.uid,ph,he.empty());a.push(IDBKeyRange.bound(h,f))}return a}Jn(e,t){return Fi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vE)}getMinOffset(e,t){return $.mapArray(this.vn(t),(r=>this.Fn(e,r).next((s=>s||ge(44426))))).next(vE)}}function yE(n){return Ct(n,Iu)}function na(n){return Ct(n,ou)}function Kl(n){return Ct(n,xg)}function ra(n){return Ct(n,su)}function vE(n){_e(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Ig(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new In(e.readTime,e.documentKey,t)}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function WS(n,e,t){const r=n.store(Kn),s=n.store(Sa),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.ee({range:u},((v,_,T)=>(h++,T.delete())));a.push(f.next((()=>{_e(h===1,47070,{batchId:t.batchId})})));const p=[];for(const v of t.mutations){const _=$0(e,v.key.path,t.batchId);a.push(s.delete(_)),p.push(v.key)}return $.waitFor(a).next((()=>p))}function hd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ge(14731);e=n.noDocument}return JSON.stringify(e).length}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(GS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Gd{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(e,t,r,s){_e(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Gd(a,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).ee({index:qs,range:r},((s,a,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const a=la(e),u=ji(e);return u.add({}).next((h=>{_e(typeof h=="number",49019);const f=new Lg(h,t,r,s),p=(function(A,D,P){const b=P.baseMutations.map((K=>ld(A.yt,K))),q=P.mutations.map((K=>ld(A.yt,K)));return{userId:D,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:b,mutations:q}})(this.serializer,this.userId,f),v=[];let _=new Ye(((T,A)=>be(T.canonicalString(),A.canonicalString())));for(const T of s){const A=$0(this.userId,T.key.path,h);_=_.add(T.key.path.popLast()),v.push(u.put(p)),v.push(a.put(A,IO))}return _.forEach((T=>{v.push(this.indexManager.addToCollectionParentIndex(e,T))})),e.addOnCommittedListener((()=>{this.Zn[h]=f.keys()})),$.waitFor(v).next((()=>f))}))}lookupMutationBatch(e,t){return ji(e).get(t).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Bs(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?$.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ji(e).ee({index:qs,range:s},((u,h,f)=>{h.userId===this.userId&&(_e(h.batchId>=r,47524,{Yn:r}),a=Bs(this.serializer,h)),f.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ks;return ji(e).ee({index:qs,range:t,reverse:!0},((s,a,u)=>{r=a.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ks],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).H(qs,t).next((r=>r.map((s=>Bs(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Rh(this.userId,t.path),s=IDBKeyRange.lowerBound(r),a=[];return la(e).ee({range:s},((u,h,f)=>{const[p,v,_]=u,T=_r(v);if(p===this.userId&&t.path.isEqual(T))return ji(e).get(_).next((A=>{if(!A)throw ge(61480,{er:u,batchId:_});_e(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:_}),a.push(Bs(this.serializer,A))}));f.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ye(be);const s=[];return t.forEach((a=>{const u=Rh(this.userId,a.path),h=IDBKeyRange.lowerBound(u),f=la(e).ee({range:h},((p,v,_)=>{const[T,A,D]=p,P=_r(A);T===this.userId&&a.path.isEqual(P)?r=r.add(D):_.done()}));s.push(f)})),$.waitFor(s).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,a=Rh(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new Ye(be);return la(e).ee({range:u},((f,p,v)=>{const[_,T,A]=f,D=_r(T);_===this.userId&&r.isPrefixOf(D)?D.length===s&&(h=h.add(A)):v.done()})).next((()=>this.tr(e,h)))}tr(e,t){const r=[],s=[];return t.forEach((a=>{s.push(ji(e).get(a).next((u=>{if(u===null)throw ge(35274,{batchId:a});_e(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:a}),r.push(Bs(this.serializer,u))})))})),$.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return WS(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),$.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return $.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return la(e).ee({range:r},((a,u,h)=>{if(a[0]===this.userId){const f=_r(a[1]);s.push(f)}else h.done()})).next((()=>{_e(s.length===0,56720,{rr:s.map((a=>a.canonicalString()))})}))}))}containsKey(e,t){return QS(e,this.userId,t)}ir(e){return YS(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ks,lastStreamToken:""}))}}function QS(n,e,t){const r=Rh(e,t.path),s=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return la(n).ee({range:a,Y:!0},((h,f,p)=>{const[v,_,T]=h;v===e&&_===s&&(u=!0),p.done()})).next((()=>u))}function ji(n){return Ct(n,Kn)}function la(n){return Ct(n,Sa)}function YS(n){return Ct(n,Eu)}class ao{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}class e2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new ao(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ee.fromTimestamp(new ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ia(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let s=0;const a=[];return ia(e).ee(((u,h)=>{const f=Zl(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,a.push(this.removeTargetData(e,f)))})).next((()=>$.waitFor(a))).next((()=>s))}forEachTarget(e,t){return ia(e).ee(((r,s)=>{const a=Zl(s);t(a)}))}ur(e){return wE(e).get(Zh).next((t=>(_e(t!==null,2888),t)))}cr(e,t){return wE(e).put(Zh,t)}lr(e,t){return ia(e).put($S(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=io(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ia(e).ee({range:s,index:q0},((u,h,f)=>{const p=Zl(h);Fu(t,p.target)&&(a=p,f.done())})).next((()=>a))}addMatchingKeys(e,t,r){const s=[],a=Ki(e);return t.forEach((u=>{const h=Jt(u.path);s.push(a.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))})),$.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ki(e);return $.forEach(t,(a=>{const u=Jt(a.path);return $.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,t){const r=Ki(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ki(e);let a=Le();return s.ee({range:r,Y:!0},((u,h,f)=>{const p=_r(u[1]),v=new he(p);a=a.add(v)})).next((()=>a))}containsKey(e,t){const r=Jt(t.path),s=IDBKeyRange.bound([r],[L0(r)],!1,!0);let a=0;return Ki(e).ee({index:Ag,Y:!0,range:s},(([u,h],f,p)=>{u!==0&&(a++,p.done())})).next((()=>a>0))}At(e,t){return ia(e).get(t).next((r=>r?Zl(r):null))}}function ia(n){return Ct(n,Aa)}function wE(n){return Ct(n,Gs)}function Ki(n){return Ct(n,xa)}const EE="LruGarbageCollector",JS=1048576;function TE([n,e],[t,r]){const s=be(n,t);return s===0?be(e,r):s}class t2{constructor(e){this.Pr=e,this.buffer=new Ye(TE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){se(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){uo(t)?se(EE,"Ignoring IndexedDB error during garbage collection: ",t):await lo(t)}await this.Ar(3e5)}))}}class r2{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return $.resolve(an.ce);const r=new t2(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),sa()<=Ue.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function i2(n,e){return new r2(n,e)}class s2{constructor(e,t){this.db=e,this.garbageCollector=i2(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,s)=>t(s)))}addReference(e,t,r){return mh(e,r)}removeReference(e,t,r){return mh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return mh(e,t)}wr(e,t){return(function(s,a){let u=!1;return YS(s).te((h=>QS(s,h,a).next((f=>(f&&(u=!0),$.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.yr(e,((u,h)=>{if(h<=t){const f=this.wr(e,u).next((p=>{if(!p)return a++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ee.min()),Ki(e).delete((function(_){return[0,Jt(_.path)]})(u)))))}));s.push(f)}})).next((()=>$.waitFor(s))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return mh(e,t)}yr(e,t){const r=Ki(e);let s,a=an.ce;return r.ee({index:Ag},(([u,h],{path:f,sequenceNumber:p})=>{u===0?(a!==an.ce&&t(new he(_r(s)),a),a=p,s=f):a=an.ce})).next((()=>{a!==an.ce&&t(new he(_r(s)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mh(n,e){return Ki(n).put((function(r,s){return{targetId:0,path:Jt(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class XS{constructor(){this.changes=new ls((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class o2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ls(e).put(r)}removeEntry(e,t,r){return Ls(e).delete((function(a,u){const h=a.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],ud(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=ft.newInvalidDocument(t);return Ls(e).ee({index:Ch,range:IDBKeyRange.only(Gl(t))},((s,a)=>{r=this.Sr(t,a)})).next((()=>r))}Dr(e,t){let r={size:0,document:ft.newInvalidDocument(t)};return Ls(e).ee({index:Ch,range:IDBKeyRange.only(Gl(t))},((s,a)=>{r={document:this.Sr(t,a),size:hd(a)}})).next((()=>r))}getEntries(e,t){let r=Dn();return this.Cr(e,t,((s,a)=>{const u=this.Sr(s,a);r=r.insert(s,u)})).next((()=>r))}vr(e,t){let r=Dn(),s=new ot(he.comparator);return this.Cr(e,t,((a,u)=>{const h=this.Sr(a,u);r=r.insert(a,h),s=s.insert(a,hd(u))})).next((()=>({documents:r,Fr:s})))}Cr(e,t,r){if(t.isEmpty())return $.resolve();let s=new Ye(AE);t.forEach((f=>s=s.add(f)));const a=IDBKeyRange.bound(Gl(s.first()),Gl(s.last())),u=s.getIterator();let h=u.getNext();return Ls(e).ee({index:Ch,range:a},((f,p,v)=>{const _=he.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&AE(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?v.j(Gl(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,a){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),ud(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ls(e).H(IDBKeyRange.bound(h,f,!0)).next((p=>{a?.incrementDocumentReadCount(p.length);let v=Dn();for(const _ of p){const T=this.Sr(he.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);T.isFoundDocument()&&(ju(t,T)||s.has(T.key))&&(v=v.insert(T.key,T))}return v}))}getAllFromCollectionGroup(e,t,r,s){let a=Dn();const u=SE(t,r),h=SE(t,In.max());return Ls(e).ee({index:H0,range:IDBKeyRange.bound(u,h,!0)},((f,p,v)=>{const _=this.Sr(he.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);a=a.insert(_.key,_),a.size===s&&v.done()})).next((()=>a))}newChangeBuffer(e){return new a2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return IE(e).get(Em).next((t=>(_e(!!t,20021),t)))}br(e,t){return IE(e).put(Em,t)}Sr(e,t){if(t){const r=HV(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ee.min())))return r}return ft.newInvalidDocument(e)}}function ZS(n){return new o2(n)}class a2 extends XS{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new ls((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new Ye(((a,u)=>be(a.canonicalString(),u.canonicalString())));return this.changes.forEach(((a,u)=>{const h=this.Or.get(a);if(t.push(this.Mr.removeEntry(e,a,h.readTime)),u.isValidDocument()){const f=oE(this.Mr.serializer,u);s=s.add(a.path.popLast());const p=hd(f);r+=p-h.size,t.push(this.Mr.addEntry(e,a,f))}else if(r-=h.size,this.trackRemovals){const f=oE(this.Mr.serializer,u.convertToNoDocument(Ee.min()));t.push(this.Mr.addEntry(e,a,f))}})),s.forEach((a=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,a))})),t.push(this.Mr.updateMetadata(e,r)),$.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:s})=>(s.forEach(((a,u)=>{this.Or.set(a,{size:u,readTime:r.get(a).readTime})})),r)))}}function IE(n){return Ct(n,Tu)}function Ls(n){return Ct(n,Xh)}function Gl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function SE(n,e){const t=e.documentKey.path.toArray();return[n,ud(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AE(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(s=be(t[a],r[a]),s)return s;return s=be(t.length,r.length),s||(s=be(t[t.length-2],r[r.length-2]),s||be(t[t.length-1],r[r.length-1]))}class l2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&cu(r.mutation,s,Jr.empty(),ct.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Le()){const s=wr();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Jl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=wr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Le())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let a=Dn();const u=uu(),h=(function(){return uu()})();return t.forEach(((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof $a)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),cu(v.mutation,p,v.mutation.getFieldMask(),ct.now())):u.set(p.key,Jr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>h.set(p,new l2(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=uu();let s=new ot(((u,h)=>u-h)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Jr.empty();v=h.applyToLocalView(p,v),r.set(f,v);const _=(s.get(h.batchId)||Le()).add(f);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,_=TS();v.forEach((T=>{if(!a.has(T)){const A=xS(t.get(T),r.get(T));A!==null&&_.set(T,A),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return $.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return oV(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):$.resolve(wr());let h=Ia,f=a;return u.next((p=>$.forEach(p,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(v)?$.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Le()))).next((v=>({batchId:h,changes:hV(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next((r=>{let s=Jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Jl();return this.indexManager.getCollectionParents(e,a).next((h=>$.forEach(h,(f=>{const p=(function(_,T){return new $d(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((v=>{v.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,ft.newInvalidDocument(v)))}));let h=Jl();return u.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&cu(v.mutation,p,Jr.empty(),ct.now()),ju(t,p)&&(h=h.insert(f,p))})),h}))}}class u2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return $.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Xt(s.createTime)}})(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:HS(s.bundledQuery),readTime:Xt(s.readTime)}})(t)),$.resolve()}}class c2{constructor(){this.overlays=new ot(he.comparator),this.Lr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wr();return $.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),$.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const s=wr(),a=t.length+1,u=new he(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return $.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=wr(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=wr(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=s)););return $.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jg(t,r));let a=this.Lr.get(t);a===void 0&&(a=Le(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class h2{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}class $g{constructor(){this.kr=new Ye(Dt.Kr),this.qr=new Ye(Dt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Dt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new he(new st([])),r=new Dt(t,e),s=new Dt(t,e+1),a=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new he(new st([])),r=new Dt(t,e),s=new Dt(t,e+1);let a=Le();return this.qr.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Dt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return he.comparator(e.key,t.key)||be(e.Hr,t.Hr)}static Ur(e,t){return be(e.Hr,t.Hr)||he.comparator(e.key,t.key)}}class d2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ye(Dt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Lg(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Jr=this.Jr.add(new Dt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $.resolve(u)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ks:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),s=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(u=>{const h=this.Zr(u.Hr);a.push(h)})),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ye(be);return t.forEach((s=>{const a=new Dt(s,0),u=new Dt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(h=>{r=r.add(h.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;he.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new he(a),0);let h=new Ye(be);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Hr)),!0)}),u),$.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){_e(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(t.mutations,(s=>{const a=new Dt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Dt(t,0),s=this.Jr.firstAfterOrEqual(r);return $.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class f2{constructor(e){this.ti=e,this.docs=(function(){return new ot(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(t))}getEntries(e,t){let r=Dn();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ft.newInvalidDocument(s))})),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Dn();const u=t.path,h=new he(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Ig(j0(v),r)<=0||(s.has(v.key)||ju(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(e,t,r,s){ge(9500)}ni(e,t){return $.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new p2(this)}getSize(e){return $.resolve(this.size)}}class p2 extends XS{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),$.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class m2{constructor(e){this.persistence=e,this.ri=new ls((t=>io(t)),Fu),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new $g,this.targetCount=0,this.oi=ao._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),$.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new ao(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.lr(t),$.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),$.waitFor(a).next((()=>s))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),$.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.si.containsKey(t))}}class tA{constructor(e,t){this._i={},this.overlays={},this.ai=new an(0),this.ui=!1,this.ui=!0,this.ci=new h2,this.referenceDelegate=e(this),this.li=new m2(this),this.indexManager=new XV,this.remoteDocumentCache=(function(s){return new f2(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new BS(t),this.Pi=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new d2(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);const s=new g2(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class g2 extends z0{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Ri=new $g,this.Ai=null}static Vi(e){return new Wd(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const s=he.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,Ee.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return $.or([()=>$.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class y2{constructor(e){this.serializer=e}k(e,t,r,s){const a=new Ld("createOrUpgrade",t);r<1&&s>=1&&((function(f){f.createObjectStore(Lu)})(e),(function(f){f.createObjectStore(Eu,{keyPath:TO}),f.createObjectStore(Kn,{keyPath:Mw,autoIncrement:!0}).createIndex(qs,Lw,{unique:!0}),f.createObjectStore(Sa)})(e),xE(e),(function(f){f.createObjectStore(Us)})(e));let u=$.resolve();return r<3&&s>=3&&(r!==0&&((function(f){f.deleteObjectStore(xa),f.deleteObjectStore(Aa),f.deleteObjectStore(Gs)})(e),xE(e)),u=u.next((()=>(function(f){const p=f.store(Gs),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return p.put(Zh,v)})(a)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(f,p){return p.store(Kn).H().next((_=>{f.deleteObjectStore(Kn),f.createObjectStore(Kn,{keyPath:Mw,autoIncrement:!0}).createIndex(qs,Lw,{unique:!0});const T=p.store(Kn),A=_.map((D=>T.put(D)));return $.waitFor(A)}))})(e,a)))),u=u.next((()=>{(function(f){f.createObjectStore(Pa,{keyPath:kO})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.gi(a)))),r<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(Tu)})(e),this.pi(a))))),r<7&&s>=7&&(u=u.next((()=>this.yi(a)))),r<8&&s>=8&&(u=u.next((()=>this.wi(e,a)))),r<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.bi(a)))),r<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(jd,{keyPath:NO})})(e),(function(f){f.createObjectStore(Ud,{keyPath:DO})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(f){const p=f.createObjectStore(zd,{keyPath:UO});p.createIndex(Im,zO,{unique:!1}),p.createIndex(W0,BO,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(f){const p=f.createObjectStore(Xh,{keyPath:SO});p.createIndex(Ch,AO),p.createIndex(H0,xO)})(e))).next((()=>this.Si(e,a))).next((()=>e.deleteObjectStore(Us)))),r<14&&s>=14&&(u=u.next((()=>this.Di(e,a)))),r<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(xg,{keyPath:OO,autoIncrement:!0}).createIndex(Tm,VO,{unique:!1}),f.createObjectStore(su,{keyPath:MO}).createIndex(K0,LO,{unique:!1}),f.createObjectStore(ou,{keyPath:FO}).createIndex(G0,jO,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore(su).clear()})).next((()=>{t.objectStore(ou).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(Pg,{keyPath:$O})})(e)}))),r<18&&s>=18&&qI()&&(u=u.next((()=>{t.objectStore(su).clear()})).next((()=>{t.objectStore(ou).clear()}))),u}pi(e){let t=0;return e.store(Us).ee(((r,s)=>{t+=hd(s)})).next((()=>{const r={byteSize:t};return e.store(Tu).put(Em,r)}))}gi(e){const t=e.store(Eu),r=e.store(Kn);return t.H().next((s=>$.forEach(s,(a=>{const u=IDBKeyRange.bound([a.userId,Ks],[a.userId,a.lastAcknowledgedBatchId]);return r.H(qs,u).next((h=>$.forEach(h,(f=>{_e(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const p=Bs(this.serializer,f);return WS(e,a.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(xa),r=e.store(Us);return e.store(Gs).get(Zh).next((s=>{const a=[];return r.ee(((u,h)=>{const f=new st(u),p=(function(_){return[0,Jt(_)]})(f);a.push(t.get(p).next((v=>v?$.resolve():(_=>t.put({targetId:0,path:Jt(_),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>$.waitFor(a)))}))}wi(e,t){e.createObjectStore(Iu,{keyPath:bO});const r=t.store(Iu),s=new Bg,a=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Jt(f)})}};return t.store(Us).ee({Y:!0},((u,h)=>{const f=new st(u);return a(f.popLast())})).next((()=>t.store(Sa).ee({Y:!0},(([u,h,f],p)=>{const v=_r(h);return a(v.popLast())}))))}bi(e){const t=e.store(Aa);return t.ee(((r,s)=>{const a=Zl(s),u=$S(this.serializer,a);return t.put(u)}))}Si(e,t){const r=t.store(Us),s=[];return r.ee(((a,u)=>{const h=t.store(Xh),f=(function(_){return _.document?new he(st.fromString(_.document.name).popFirst(5)):_.noDocument?he.fromSegments(_.noDocument.path):_.unknownDocument?he.fromSegments(_.unknownDocument.path):ge(36783)})(u).path.toArray(),p={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(p))})).next((()=>$.waitFor(s)))}Di(e,t){const r=t.store(Kn),s=ZS(this.serializer),a=new tA(Wd.Vi,this.serializer.yt);return r.H().next((u=>{const h=new Map;return u.forEach((f=>{let p=h.get(f.userId)??Le();Bs(this.serializer,f).keys().forEach((v=>p=p.add(v))),h.set(f.userId,p)})),$.forEach(h,((f,p)=>{const v=new Qt(p),_=Kd.wt(this.serializer,v),T=a.getIndexManager(v),A=Gd.wt(v,this.serializer,T,a.referenceDelegate);return new eA(s,A,_,T).recalculateAndSaveOverlaysForDocumentKeys(new Sm(t,an.ce),f).next()}))}))}}function xE(n){n.createObjectStore(xa,{keyPath:RO}).createIndex(Ag,CO,{unique:!0}),n.createObjectStore(Aa,{keyPath:"targetId"}).createIndex(q0,PO,{unique:!0}),n.createObjectStore(Gs)}const Ui="IndexedDbPersistence",Kp=18e5,Gp=5e3,Wp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",v2="main";class Hg{constructor(e,t,r,s,a,u,h,f,p,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=a,this.window=u,this.document=h,this.Fi=p,this.Mi=v,this.xi=_,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=T=>Promise.resolve(),!Hg.v())throw new ye(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s2(this,s),this.Ki=t+v2,this.serializer=new BS(f),this.qi=new Zi(this.Ki,this.xi,new y2(this.serializer)),this.ci=new KV,this.li=new e2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZS(this.serializer),this.Pi=new qV,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&Ot(Ui,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,Wp);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new an(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(uo(e))return se(Ui,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se(Ui,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Wl(e).get(Zo).next((t=>$.resolve(this.Xi(t))))}Yi(e){return gh(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Kp)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Ct(t,Pa);return r.H().next((s=>{const a=this.ns(s,Kp),u=s.filter((h=>a.indexOf(h)===-1));return $.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?$.resolve(!0):Wl(e).get(Zo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Gp)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,Wp);return!1}}return!(!this.networkEnabled||!this.inForeground)||gh(e).H().next((r=>this.ns(r,Gp).find((s=>{if(this.clientId!==s.clientId){const a=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(a||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&se(Ui,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Lu,Pa],(e=>{const t=new Sm(e,an.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>gh(e).H().next((t=>this.ns(t,Kp).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Gd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Kd.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){se(Ui,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",a=(function(f){return f===18?KO:f===17?X0:f===16?qO:f===15?Rg:f===14?J0:f===13?Y0:f===12?HO:f===11?Q0:void ge(60245)})(this.xi);let u;return this.qi.runTransaction(e,s,a,(h=>(u=new Sm(h,this.ai?this.ai.next():an.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw Ot(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ye(ne.FAILED_PRECONDITION,U0);return r(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(e){return Wl(e).get(Zo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Gp)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ye(ne.FAILED_PRECONDITION,Wp)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wl(e).put(Zo,t)}static v(){return Zi.v()}Ji(e){const t=Wl(e);return t.get(Zo).next((r=>this.Xi(r)?(se(Ui,"Releasing primary lease."),t.delete(Zo)):$.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Ot(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;HI()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return se(Ui,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Ot(Ui,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Ot("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wl(n){return Ct(n,Lu)}function gh(n){return Ct(n,Pa)}function nA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Le(),s=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new qg(e,t.fromCache,r,s)}}class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HI()?8:B0(Rt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new _2;return this.ys(e,t,u).next((h=>{if(a.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(sa()<=Ue.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",$l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(sa()<=Ue.DEBUG&&se("QueryEngine","Query:",$l(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(sa()<=Ue.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",$l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(t))):$.resolve())}gs(e,t){if(Yw(t))return $.resolve(null);let r=On(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=bm(t,null,"F"),r=On(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Le(...a);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(t,h);return this.Ss(t,p,u,f.readTime)?this.gs(e,bm(t,null,"F")):this.Ds(e,p,t,f)}))))})))))}ps(e,t,r,s){return Yw(t)||s.isEqual(Ee.min())?$.resolve(null):this.fs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,r,s)?$.resolve(null):(sa()<=Ue.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$l(t)),this.Ds(e,u,t,F0(s,Ia)).next((h=>h)))}))}bs(e,t){let r=new Ye(wS(e));return t.forEach(((s,a)=>{ju(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return sa()<=Ue.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",$l(t)),this.fs.getDocumentsMatchingQuery(e,t,In.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Kg="LocalStore",w2=3e8;class E2{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ot(be),this.Fs=new ls((a=>io(a)),Fu),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function iA(n,e,t,r){return new E2(n,e,t,r)}async function T2(n,e){const t=we(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let f=Le();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function I2(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,v){const _=p.batch,T=_.keys();let A=$.resolve();return T.forEach((D=>{A=A.next((()=>v.getEntry(f,D))).next((P=>{const b=p.docVersions.get(D);_e(b!==null,48541),P.version.compareTo(b)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function sA(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function S2(n,e){const t=we(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((v,_)=>{const T=s.get(_);if(!T)return;h.push(t.li.removeMatchingKeys(a,v.removedDocuments,_).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,_))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(vt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),s=s.insert(_,A),(function(P,b,q){return P.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=w2?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(T,A,v)&&h.push(t.li.updateTargetData(a,A))}));let f=Dn(),p=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(A2(a,u,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!r.isEqual(Ee.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((_=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(v)}return $.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.vs=s,a)))}function A2(n,e,t){let r=Le(),s=Le();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Dn();return t.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ee.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):se(Kg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function x2(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ks),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Fm(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,$.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new Xr(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Qd(n,e,t){const r=we(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!uo(u))throw u;se(Kg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function jm(n,e,t){const r=we(n);let s=Ee.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const _=we(f),T=_.Fs.get(v);return T!==void 0?$.resolve(_.vs.get(T)):_.li.getTargetData(p,v)})(r,u,On(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Ee.min(),t?a:Le()))).next((h=>(lA(r,_S(e),h),{documents:h,ks:a})))))}function oA(n,e){const t=we(n),r=we(t.li),s=t.vs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((u=>u?u.target:null))))}function aA(n,e){const t=we(n),r=t.Ms.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.xs.getAllFromCollectionGroup(s,e,F0(r,Ia),Number.MAX_SAFE_INTEGER))).then((s=>(lA(t,e,s),s)))}function lA(n,e,t){let r=n.Ms.get(e)||Ee.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}const uA="firestore_clients";function PE(n,e){return`${uA}_${n}_${e}`}const cA="firestore_mutations";function RE(n,e,t){let r=`${cA}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const hA="firestore_targets";function Qp(n,e){return`${hA}_${n}_${e}`}const vr="SharedClientState";class dd{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static $s(e,t,r){const s=JSON.parse(r);let a,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(a=new ye(s.error.code,s.error.message))),u?new dd(e,t,s.state,a):(Ot(vr,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let s,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(s=new ye(r.error.code,r.error.message))),a?new hu(e,r.state,s):(Ot(vr,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,a=Vg();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=wO(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return s?new fd(e,a):(Ot(vr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Gg(t.clientId,t.onlineState):(Ot(vr,`Failed to parse online state: ${e}`),null)}}class Um{constructor(){this.activeTargetIds=Vg()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yp{constructor(e,t,r,s,a){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new ot(be),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Xs=PE(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Um),this.eo=new RegExp(`^${uA}_${u}_([^_]*)$`),this.no=new RegExp(`^${cA}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${hA}_${u}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const s=this.getItem(PE(this.persistenceKey,r));if(s){const a=fd.$s(r,s);a&&(this.Js=this.Js.insert(a.clientId,a))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Qp(this.persistenceKey,e));if(s){const a=hu.$s(e,s);a&&(r=a.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qp(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.lo(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se(vr,"READ",e,t),t}setItem(e,t){se(vr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){se(vr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(se(vr,"EVENT",t.key,t.newValue),t.key===this.Xs)return void Ot("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(a){let u=an.ce;if(a!=null)try{const h=JSON.parse(a);_e(typeof h=="number",30636,{yo:a}),u=h}catch(h){Ot(vr,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==an.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.bo(s))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const s=new dd(this.currentUser,e,t,r),a=RE(this.persistenceKey,this.currentUser,e);this.setItem(a,s.Ws())}lo(e){const t=RE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const s=Qp(this.persistenceKey,e),a=new hu(e,t,r);this.setItem(s,a.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return fd.$s(r,t)}Vo(e,t){const r=this.no.exec(e),s=Number(r[1]),a=r[2]!==void 0?r[2]:null;return dd.$s(new Qt(a),s,t)}fo(e,t){const r=this.ro.exec(e),s=Number(r[1]);return hu.$s(s,t)}_o(e){return Gg.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);se(vr,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),s=this.uo(this.Js),a=this.uo(r),u=[],h=[];return a.forEach((f=>{s.has(f)||u.push(f)})),s.forEach((f=>{a.has(f)||h.push(f)})),this.syncEngine.Co(u,h).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=Vg();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class dA{constructor(){this.vo=new Um,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Um,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class P2{Mo(e){}shutdown(){}}const CE="ConnectivityMonitor";class bE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){se(CE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){se(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yh=null;function zm(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}const Jp="RestConnection",R2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===td?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const u=zm(),h=this.Qo(e,t.toUriEncodedString());se(Jp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:p}=new URL(h),v=ja(p);return this.zo(e,h,f,r,v).then((_=>(se(Jp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Qh(Jp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}jo(e,t,r,s,a,u){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=R2[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class b2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Kt="WebChannelConnection",Ql=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ga extends C2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ga.c_){const e=O0();Ql(e,D0.STAT_EVENT,(t=>{t.stat===vm.PROXY?se(Kt,"STAT_EVENT: detected buffering proxy"):t.stat===vm.NOPROXY&&se(Kt,"STAT_EVENT: detected no buffering proxy")})),ga.c_=!0}}zo(e,t,r,s,a){const u=zm();return new Promise(((h,f)=>{const p=new k0;p.setWithCredentials(!0),p.listenOnce(N0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const _=p.getResponseJson();se(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case xh.TIMEOUT:se(Kt,`RPC '${e}' ${u} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const T=p.getStatus();if(se(Kt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const P=(function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN})(D.status);f(new ye(P,D.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{se(Kt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);se(Kt,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=zm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=a.join("");se(Kt,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=u.createWebChannel(p,h);this.I_(v);let _=!1,T=!1;const A=new b2({Ho:D=>{T?se(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(_||(se(Kt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),se(Kt,`RPC '${e}' stream ${s} sending:`,D),v.send(D))},Jo:()=>v.close()});return Ql(v,Yl.EventType.OPEN,(()=>{T||(se(Kt,`RPC '${e}' stream ${s} transport opened.`),A.i_())})),Ql(v,Yl.EventType.CLOSE,(()=>{T||(T=!0,se(Kt,`RPC '${e}' stream ${s} transport closed`),A.o_(),this.E_(v))})),Ql(v,Yl.EventType.ERROR,(D=>{T||(T=!0,Qh(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),A.o_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),Ql(v,Yl.EventType.MESSAGE,(D=>{if(!T){const P=D.data[0];_e(!!P,16349);const b=P,q=b?.error||b[0]?.error;if(q){se(Kt,`RPC '${e}' stream ${s} received error:`,q);const K=q.status;let Q=(function(re){const x=Tt[re];if(x!==void 0)return CS(x)})(K),Y=q.message;Q===void 0&&(Q=ne.INTERNAL,Y="Unknown error status: "+K+" with message "+q.message),T=!0,A.o_(new ye(Q,Y)),v.close()}else se(Kt,`RPC '${e}' stream ${s} received:`,P),A.__(P)}})),ga.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return V0()}}function k2(n){return new ga(n)}function fA(){return typeof window<"u"?window:null}function Oh(){return typeof document<"u"?document:null}function pA(n){return new NV(n,!0)}ga.c_=!1;class mA{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kE="PersistentStream";class gA{constructor(e,t,r,s,a,u,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ot(t.toString()),Ot("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(kE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(se(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N2 extends gA{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=MV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ee.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Xt(u.readTime):Ee.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Dm(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=id(f)?{documents:LS(a,f)}:{query:FS(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=DV(a,u.resumeToken);const p=km(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ee.min())>0){h.readTime=od(a,u.snapshotVersion.toTimestamp());const p=km(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=FV(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Dm(this.serializer),t.removeTarget=e,this.K_(t)}}class D2 extends gA{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LV(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Dm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ld(this.serializer,r)))};this.K_(t)}}class O2{}class V2 extends O2{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,Nm(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,Nm(t,r),s,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function M2(n,e,t,r){return new V2(n,e,t,r)}class L2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ot(t),this.aa=!1):se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Va="RemoteStore";class F2{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Ha(this)&&(se(Va,"Restarting streams for network reachability change."),await(async function(f){const p=we(f);p.Ea.add(4),await Yd(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wg(p)})(this))}))})),this.Va=new L2(r,s)}}async function Wg(n){if(Ha(n))for(const e of n.Ra)await e(!0)}async function Yd(n){for(const e of n.Ra)await e(!1)}function Qg(n,e){const t=we(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Xg(t)?Jg(t):qa(t).O_()&&Yg(t,e))}function pd(n,e){const t=we(n),r=qa(t);t.Ia.delete(e),r.O_()&&yA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ha(t)&&t.Va.set("Unknown"))}function Yg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qa(n).Z_(e)}function yA(n,e){n.da.$e(e),qa(n).X_(e)}function Jg(n){n.da=new RV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qa(n).start(),n.Va.ua()}function Xg(n){return Ha(n)&&!qa(n).x_()&&n.Ia.size>0}function Ha(n){return we(n).Ea.size===0}function vA(n){n.da=void 0}async function j2(n){n.Va.set("Online")}async function U2(n){n.Ia.forEach(((e,t)=>{Yg(n,e)}))}async function z2(n,e){vA(n),Xg(n)?(n.Va.ha(e),Jg(n)):n.Va.set("Unknown")}async function B2(n,e,t){if(n.Va.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){se(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(n,r)}else if(e instanceof Nh?n.da.Xe(e):e instanceof bS?n.da.st(e):n.da.tt(e),!t.isEqual(Ee.min()))try{const r=await sA(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.da.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(vt.EMPTY_BYTE_STRING,v.snapshotVersion)),yA(a,f);const _=new Xr(v.target,f,p,v.sequenceNumber);Yg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){se(Va,"Failed to raise snapshot:",r),await md(n,r)}}async function md(n,e,t){if(!uo(e))throw e;n.Ea.add(1),await Yd(n),n.Va.set("Offline"),t||(t=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{se(Va,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wg(n)}))}function _A(n,e){return e().catch((t=>md(n,t,e)))}async function $u(n){const e=we(n),t=os(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ks;for(;$2(e);)try{const s=await x2(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,H2(e,s)}catch(s){await md(e,s)}wA(e)&&EA(e)}function $2(n){return Ha(n)&&n.Ta.length<10}function H2(n,e){n.Ta.push(e);const t=os(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function wA(n){return Ha(n)&&!os(n).x_()&&n.Ta.length>0}function EA(n){os(n).start()}async function q2(n){os(n).ra()}async function K2(n){const e=os(n);for(const t of n.Ta)e.ea(t.mutations)}async function G2(n,e,t){const r=n.Ta.shift(),s=Fg.from(r,e,t);await _A(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await $u(n)}async function W2(n,e){e&&os(n).Y_&&await(async function(r,s){if((function(u){return AV(u)&&u!==ne.ABORTED})(s.code)){const a=r.Ta.shift();os(r).B_(),await _A(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await $u(r)}})(n,e),wA(n)&&EA(n)}async function Bm(n,e){const t=we(n);e?(t.Ea.delete(2),await Wg(t)):e||(t.Ea.add(2),await Yd(t),t.Va.set("Unknown"))}function qa(n){return n.ma||(n.ma=(function(t,r,s){const a=we(t);return a.sa(),new N2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:j2.bind(null,n),Yo:U2.bind(null,n),t_:z2.bind(null,n),J_:B2.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Xg(n)?Jg(n):n.Va.set("Unknown")):(await n.ma.stop(),vA(n))}))),n.ma}function os(n){return n.fa||(n.fa=(function(t,r,s){const a=we(t);return a.sa(),new D2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:q2.bind(null,n),t_:W2.bind(null,n),ta:K2.bind(null,n),na:G2.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await $u(n)):(await n.fa.stop(),n.Ta.length>0&&(se(Va,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Zg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Zg(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class ya{static emptySet(e){return new ya(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||he.comparator(t.key,r.key):(t,r)=>he.comparator(t.key,r.key),this.keyedMap=Jl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NE{constructor(){this.ga=new ot(he.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gd{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new gd(e,t,ya.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class Q2{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=we(t),a=s.queries;s.queries=DE(),a.forEach(((u,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function DE(){return new ls((n=>vS(n)),Og)}function Y2(n,e){const t=we(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.ba)h.Fa(s)&&(r=!0);u.wa=s}}r&&TA(t)}function J2(n,e,t){const r=we(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function TA(n){n.Ca.forEach((e=>{e.next()}))}var OE,VE;(VE=OE||(OE={})).Ma="default",VE.Cache="cache";class IA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class X2{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=wS(e),this.tu=new ya(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new NE,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,_)=>{const T=s.get(v),A=ju(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;T&&A?T.data.isEqual(A.data)?D!==P&&(r.track({type:3,doc:A}),b=!0):this.su(T,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!T&&A?(r.track({type:0,doc:A}),b=!0):T&&!A&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(h=!0)),b&&(A?(u=u.add(A),a=P?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Ss:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(A,D){const P=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:b})}};return P(A)-P(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,p=f!==this.Xa;return this.Xa=f,u.length!==0||p?{snapshot:new gd(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new SA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new IA(r))})),t}cu(e){this.Za=e.ks,this.Ya=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ka="SyncEngine";class Z2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eM{constructor(e){this.key=e,this.hu=!1}}class tM{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ls((h=>vS(h)),Og),this.Iu=new Map,this.Eu=new Set,this.Ru=new ot(he.comparator),this.Au=new Map,this.Vu=new $g,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AA(n,e,t,r,s){n.pu=(_,T,A)=>(async function(P,b,q,K){let Q=b.view.ru(q);Q.Ss&&(Q=await jm(P.localStore,b.query,!1).then((({documents:x})=>b.view.ru(x,Q))));const Y=K&&K.targetChanges.get(b.targetId),Z=K&&K.targetMismatches.get(b.targetId)!=null,re=b.view.applyChanges(Q,P.isPrimaryClient,Y,Z);return $m(P,b.targetId,re.au),re.snapshot})(n,_,T,A);const a=await jm(n.localStore,e,!0),u=new X2(e,a.ks),h=u.ru(a.documents),f=Bu.createSynthesizedTargetChangeForCurrentChange(t,r,s),p=u.applyChanges(h,n.isPrimaryClient,f);$m(n,t,p.au);const v=new Z2(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function xA(n,e){const t=we(n);try{const r=await S2(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?_e(u.hu,14607):s.removedDocuments.size>0&&(_e(u.hu,42227),u.hu=!1))})),await co(t,r,e)}catch(r){await lo(r)}}function ME(n,e,t){const r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=we(u);f.onlineState=h;let p=!1;f.queries.forEach(((v,_)=>{for(const T of _.ba)T.va(h)&&(p=!0)})),p&&TA(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nM(n,e,t){const r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ot(he.comparator);u=u.insert(a,ft.newNoDocument(a,Ee.min()));const h=Le().add(a),f=new zu(Ee.min(),new Map,new ot(be),u,h);await xA(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),ny(r)}else await Qd(r.localStore,e,!1).then((()=>Jd(r,e,t))).catch(lo)}async function rM(n,e){const t=we(n),r=e.batch.batchId;try{const s=await I2(t.localStore,e);ty(t,r,null),ey(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await co(t,s)}catch(s){await lo(s)}}async function iM(n,e,t){const r=we(n);try{const s=await(function(u,h){const f=we(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>(_e(_!==null,37113),v=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);ty(r,e,t),ey(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await co(r,s)}catch(s){await lo(s)}}function ey(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function ty(n,e,t){const r=we(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Jd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||PA(n,r)}))}function PA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(pd(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),ny(n))}function $m(n,e,t){for(const r of t)r instanceof IA?(n.Vu.addReference(r.key,e),sM(n,r)):r instanceof SA?(se(Ka,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||PA(n,r.key)):ge(19791,{wu:r})}function sM(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(se(Ka,"New document in limbo: "+t),n.Eu.add(r),ny(n))}function ny(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new he(st.fromString(e)),r=n.fu.next();n.Au.set(r,new eM(t)),n.Ru=n.Ru.insert(t,r),Qg(n.remoteStore,new Xr(On(Dg(t.path)),r,"TargetPurposeLimboResolution",an.ce))}}async function co(n,e,t){const r=we(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=qg.Es(f.targetId,p);a.push(v)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,p){const v=we(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>$.forEach(p,(T=>$.forEach(T.Ts,(A=>v.persistence.referenceDelegate.addReference(_,T.targetId,A))).next((()=>$.forEach(T.Is,(A=>v.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))))))}catch(_){if(!uo(_))throw _;se(Kg,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const A=v.vs.get(T),D=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(D);v.vs=v.vs.insert(T,P)}}})(r.localStore,a))}async function oM(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){se(Ka,"User change. New user:",e.toKey());const r=await T2(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new ye(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await co(t,r.Ns)}}function aM(n,e){const t=we(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let s=Le();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function lM(n,e){const t=we(n),r=await jm(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&$m(t,e.targetId,s.au),s}async function uM(n,e){const t=we(n);return aA(t.localStore,e).then((r=>co(t,r)))}async function cM(n,e,t,r){const s=we(n),a=await(function(h,f){const p=we(h),v=we(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(_=>v.Xn(_,f).next((T=>T?p.localDocuments.getDocuments(_,T):$.resolve(null)))))})(s.localStore,e);a!==null?(t==="pending"?await $u(s.remoteStore):t==="acknowledged"||t==="rejected"?(ty(s,e,r||null),ey(s,e),(function(h,f){we(we(h).mutationQueue).nr(f)})(s.localStore,e)):ge(6720,"Unknown batchState",{bu:t}),await co(s,a)):se(Ka,"Cannot apply mutation batch with id: "+e)}async function hM(n,e){const t=we(n);if(CA(t),bA(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await LE(t,r.toArray());t.gu=!0,await Bm(t.remoteStore,!0);for(const a of s)Qg(t.remoteStore,a)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(Jd(t,u),Qd(t.localStore,u,!0)))),pd(t.remoteStore,u)})),await s,await LE(t,r),(function(u){const h=we(u);h.Au.forEach(((f,p)=>{pd(h.remoteStore,p)})),h.Vu.zr(),h.Au=new Map,h.Ru=new ot(he.comparator)})(t),t.gu=!1,await Bm(t.remoteStore,!1)}}async function LE(n,e,t){const r=we(n),s=[],a=[];for(const u of e){let h;const f=r.Iu.get(u);if(f&&f.length!==0){h=await Fm(r.localStore,On(f[0]));for(const p of f){const v=r.Tu.get(p),_=await lM(r,v);_.snapshot&&a.push(_.snapshot)}}else{const p=await oA(r.localStore,u);h=await Fm(r.localStore,p),await AA(r,RA(p),u,!1,h.resumeToken)}s.push(h)}return r.Pu.J_(a),s}function RA(n){return yS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dM(n){return(function(t){return we(we(t).persistence).hs()})(we(n).localStore)}async function fM(n,e,t,r){const s=we(n);if(s.gu)return void se(Ka,"Ignoring unexpected query state notification.");const a=s.Iu.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=await aA(s.localStore,_S(a[0])),h=zu.createSynthesizedRemoteEventForCurrentChange(e,t==="current",vt.EMPTY_BYTE_STRING);await co(s,u,h);break}case"rejected":await Qd(s.localStore,e,!0),Jd(s,e,r);break;default:ge(64155,t)}}async function pM(n,e,t){const r=CA(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){se(Ka,"Adding an already active target "+s);continue}const a=await oA(r.localStore,s),u=await Fm(r.localStore,a);await AA(r,RA(a),u.targetId,!1,u.resumeToken),Qg(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await Qd(r.localStore,s,!1).then((()=>{pd(r.remoteStore,s),Jd(r,s)})).catch(lo)}}function CA(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nM.bind(null,e),e.Pu.J_=Y2.bind(null,e.eventManager),e.Pu.yu=J2.bind(null,e.eventManager),e}function bA(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iM.bind(null,e),e}class Hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return iA(this.persistence,new rA,e.initialUser,this.serializer)}Cu(e){return new tA(Wd.Vi,this.serializer)}Du(e){return new dA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hm.provider={build:()=>new Hm};class kA extends Hm{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await bA(this.xu.syncEngine),await $u(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return iA(this.persistence,new rA,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new n2(r,e.asyncQueue,t)}Mu(e,t){const r=new _O(t,this.persistence);return new vO(e.asyncQueue,r)}Cu(e){const t=nA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Hg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fA(),Oh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dA}}class mM extends kA{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Yp&&(this.sharedClientState.syncEngine={So:cM.bind(null,t),Do:fM.bind(null,t),Co:pM.bind(null,t),hs:dM.bind(null,t),bo:uM.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await hM(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=fA();if(!Yp.v(t))throw new ye(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yp(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class yd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await Bm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q2})()}createDatastore(e){const t=pA(e.databaseInfo.databaseId),r=k2(e.databaseInfo);return M2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,h){return new F2(r,s,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>ME(this.syncEngine,t,0)),(function(){return bE.v()?new bE:new P2})())}createSyncEngine(e,t){return(function(s,a,u,h,f,p,v){const _=new tM(s,a,u,h,f,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=we(t);se(Va,"RemoteStore shutting down."),r.Ea.add(5),await Yd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yd.provider={build:()=>new yd};function gM(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const yM="ComponentProvider",FE=new Map;const vM="firestore.googleapis.com",jE=!0;class UE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vM,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JS)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _M{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iO;switch(r.type){case"firstParty":return new aO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=FE.get(t);r&&(se(yM,"Removing Datastore"),FE.delete(t),r.terminate())})(this),Promise.resolve()}}class ry{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ry(this.firestore,e,this._query)}}class Er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}toJSON(){return{type:Er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mu(t,Er._jsonSchema))return new Er(e,r||null,new he(st.fromString(t.referencePath)))}}Er._jsonSchemaVersion="firestore/documentReference/1.0",Er._jsonSchema={type:St("string",Er._jsonSchemaVersion),referencePath:St("string")};class iy extends ry{constructor(e,t,r){super(e,t,Dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new he(e))}withConverter(e){return new iy(this.firestore,e,this._path)}}const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const r=Oh();r&&se(zE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Oh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Oh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!uo(e))throw e;se(zE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ot("INTERNAL UNHANDLED ERROR: ",$E(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Zg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&ge(47125,{Pc:$E(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $E(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wM extends _M{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new BE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function EM(n,e,t){t||(t=td);const r=pg(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),a=r.getOptions(t);if(Zs(a,e))return s;throw new ye(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ye(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JS)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ja(e.host)&&BI(e.host),r.initialize({options:e,instanceIdentifier:t})}class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(vt.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wr(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,Wr._jsonSchema))return Wr.fromBase64String(e.bytes)}}Wr._jsonSchemaVersion="firestore/bytes/1.0",Wr._jsonSchema={type:St("string",Wr._jsonSchemaVersion),bytes:St("string")};class NA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:St("string",Qs._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};class Ys{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ys(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:St("string",Ys._jsonSchemaVersion),vectorValues:St("object")};function DA(n,e,t){if((e=as(e))instanceof NA)return e._internalPath;if(typeof e=="string")return IM(n,e);throw qm("Field path arguments must be of type string or ",n)}const TM=new RegExp("[~\\*/\\[\\]]");function IM(n,e,t){if(e.search(TM)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new NA(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function qm(n,e,t,r,s){let a=`Function ${e}() called with invalid data`;a+=". ";let u="";return new ye(ne.INVALID_ARGUMENT,a+n+u)}const HE="@firebase/firestore",qE="4.10.0";class OA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(DA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SM extends OA{data(){return super.data()}}class AM{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=CM(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function xM(n){return new AM(n)}class PM{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=yd.provider,this._offlineComponentProvider={build:t=>new kA(t,e?.cacheSizeBytes,this.forceOwnership)}}}class RM{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=yd.provider,this._offlineComponentProvider={build:t=>new mM(t,e?.cacheSizeBytes)}}}function CM(n){return new PM(n?.forceOwnership)}function bM(){return new RM}class vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends OA{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:St("string",va._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Vh extends va{data(e={}){return super.data(e)}}class du{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Vh(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new Vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new Vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:kM(h.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:St("string",du._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};(function(e,t=!0){nO(Ua),Ea(new eo("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new wM(new sO(r.getProvider("auth-internal")),new lO(u,r.getProvider("app-check-internal")),QO(u,s),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Yi(HE,qE,e),Yi(HE,qE,"esm2020")})();const NM={apiKey:"AIzaSyCfccug_3K7B7SOM7iU5e8mp_Qmkdd-oow",authDomain:"kids-c368a.firebaseapp.com",projectId:"kids-c368a",storageBucket:"kids-c368a.firebasestorage.app",messagingSenderId:"721834841947",appId:"1:721834841947:web:f2943b388dfaa4f8baac7e"},VA=QI(NM),KE=eO(VA);EM(VA,{localCache:xM({tabManager:bM()})});function DM(){const[n,e]=C.useState(null),[t,r]=C.useState(!0);return C.useEffect(()=>{const s=$N(KE,a=>{e(a),r(!1)});return LN(KE).catch(a=>{console.error("Failed to sign in anonymously:",a),r(!1)}),()=>s()},[]),{user:n,loading:t}}const MA=C.createContext(void 0);function OM({children:n}){const[e,t]=C.useState(()=>{const p=localStorage.getItem("kidszone_muted");return p?JSON.parse(p):!1});C.useEffect(()=>{localStorage.setItem("kidszone_muted",JSON.stringify(e))},[e]),C.useEffect(()=>{const p=()=>{const v=window.AudioContext||window.webkitAudioContext;if(v){const _=new v;_.state==="suspended"&&_.resume();const T=_.createBuffer(1,1,22050),A=_.createBufferSource();A.buffer=T,A.connect(_.destination),A.start(0)}};return document.addEventListener("touchstart",p,{once:!0}),document.addEventListener("click",p,{once:!0}),()=>{document.removeEventListener("touchstart",p),document.removeEventListener("click",p)}},[]);const r=()=>t(!e),s=(p,v,_,T)=>{if(!e)try{const A=window.AudioContext||window.webkitAudioContext;if(!A)return;const D=new A,P=D.createOscillator(),b=D.createGain();P.connect(b),b.connect(D.destination),P.type=p,P.frequency.setValueAtTime(v,D.currentTime),T&&P.frequency.setValueAtTime(T,D.currentTime+.1),b.gain.setValueAtTime(.1,D.currentTime),b.gain.exponentialRampToValueAtTime(1e-5,D.currentTime+_),P.start(),P.stop(D.currentTime+_)}catch(A){console.warn("Audio play failed",A)}},a=()=>s("sine",440,.1),u=()=>{e||s("sine",880,.05)},h=()=>{e||s("sine",523.25,.3,659.25)},f=()=>s("sawtooth",200,.3);return B.jsx(MA.Provider,{value:{isMuted:e,toggleMute:r,playClick:a,playHover:u,playCorrect:h,playWrong:f},children:n})}function NL(){const n=C.useContext(MA);if(n===void 0)throw new Error("useSound must be used within a SoundProvider");return n}const LA=C.createContext(void 0),VM="";function MM({children:n}){const[e,t]=C.useState(()=>{const s=localStorage.getItem("kidszone_user");return s?JSON.parse(s):{name:"",avatar:VM}});C.useEffect(()=>{localStorage.setItem("kidszone_user",JSON.stringify(e))},[e]);const r=(s,a)=>{t({name:s,avatar:a})};return B.jsx(LA.Provider,{value:{profile:e,updateProfile:r},children:n})}function DL(){const n=C.useContext(LA);if(n===void 0)throw new Error("useUser must be used within a UserProvider");return n}const GE=[{id:1,emoji:"",name:"",rarity:""},{id:2,emoji:"",name:"",rarity:""},{id:3,emoji:"",name:"",rarity:""},{id:4,emoji:"",name:"",rarity:""},{id:5,emoji:"",name:"",rarity:""},{id:6,emoji:"",name:"",rarity:""},{id:7,emoji:"",name:"",rarity:""},{id:8,emoji:"",name:"",rarity:""},{id:9,emoji:"",name:"",rarity:""},{id:10,emoji:"",name:"",rarity:""},{id:11,emoji:"",name:"",rarity:""},{id:12,emoji:"",name:"",rarity:""},{id:13,emoji:"",name:"",rarity:""},{id:14,emoji:"",name:"",rarity:""},{id:15,emoji:"",name:"",rarity:""},{id:16,emoji:"",name:"",rarity:""},{id:17,emoji:"",name:"",rarity:""},{id:18,emoji:"",name:"",rarity:""},{id:19,emoji:"",name:"",rarity:""},{id:20,emoji:"",name:"",rarity:""}],FA=C.createContext(void 0),WE="kidszone_stickers_collected",QE="kidszone_stickers_positions",YE="kidszone_user_stats",LM=[{id:"first_win",name:"",criteria:n=>n.gamesPlayed>=1,rewardStickerId:1,description:""},{id:"score_100",name:"",criteria:n=>n.totalScore>=100,rewardStickerId:2,description:" 100 "},{id:"games_5",name:"",criteria:n=>n.gamesPlayed>=5,rewardStickerId:3,description:" 5 "},{id:"score_500",name:"",criteria:n=>n.totalScore>=500,rewardStickerId:19,description:" 500 "}];function FM({children:n}){const[e,t]=C.useState(()=>{const _=localStorage.getItem(WE);return _?JSON.parse(_):[]}),[r,s]=C.useState(()=>{const _=localStorage.getItem(QE);return _?JSON.parse(_):{}}),[a,u]=C.useState(()=>{const _=localStorage.getItem(YE);return _?JSON.parse(_):{totalScore:0,gamesPlayed:0}});C.useEffect(()=>{localStorage.setItem(WE,JSON.stringify(e))},[e]),C.useEffect(()=>{localStorage.setItem(QE,JSON.stringify(r))},[r]),C.useEffect(()=>{localStorage.setItem(YE,JSON.stringify(a))},[a]);const h=_=>{e.includes(_)||t(T=>[...T,_])},f=(_,T,A)=>{s(D=>({...D,[_]:{id:_,x:T,y:A}}))},p=_=>{u(T=>({totalScore:T.totalScore+_,gamesPlayed:T.gamesPlayed+1}))},v=()=>{for(const _ of LM)if(_.criteria(a)&&!e.includes(_.rewardStickerId))return h(_.rewardStickerId),GE.find(T=>T.id===_.rewardStickerId)||null;if(a.totalScore>0&&a.totalScore%50===0){const _=GE.filter(T=>!e.includes(T.id));if(_.length>0){const T=_[Math.floor(Math.random()*_.length)];return h(T.id),T}}return null};return B.jsx(FA.Provider,{value:{collectedStickers:e,stickerPositions:r,userStats:a,unlockSticker:h,updateStickerPosition:f,updateStats:p,checkAchievements:v},children:n})}function OL(){const n=C.useContext(FA);if(n===void 0)throw new Error("useSticker must be used within a StickerProvider");return n}function jM(){const n=Math.random()>.3;let e,t,r,s;n?(e=Math.floor(Math.random()*10)+1,t=Math.floor(Math.random()*10)+1,r=e+t,s="+"):(e=Math.floor(Math.random()*10)+5,t=Math.floor(Math.random()*5)+1,r=e-t,s="-");const a=new Set;for(a.add(r);a.size<4;){const h=r+Math.floor(Math.random()*6)-3;h>=0&&h!==r&&a.add(h)}const u=Array.from(a).sort(()=>.5-Math.random());return{a:e,b:t,op:s,ans:r,options:u}}const Xp=[{name:"",hex:"#FF6B6B",id:"red"},{name:"",hex:"#4D96FF",id:"blue"},{name:"",hex:"#6BCB77",id:"green"},{name:"",hex:"#FFD93D",id:"yellow"},{name:"",hex:"#9D4EDD",id:"purple"},{name:"",hex:"#FF9F45",id:"orange"},{name:"",hex:"#FF99CC",id:"pink"},{name:"",hex:"#8D6E63",id:"brown"}];function UM(){const n=Xp[Math.floor(Math.random()*Xp.length)],e=Xp.filter(r=>r.id!==n.id).sort(()=>.5-Math.random()).slice(0,3),t=[n,...e].sort(()=>.5-Math.random());return{target:n,options:t}}const Zp=[{word:"Apple",chinese:"",emoji:""},{word:"Dog",chinese:"",emoji:""},{word:"Cat",chinese:"",emoji:""},{word:"Car",chinese:"",emoji:""},{word:"Ball",chinese:"",emoji:""},{word:"Sun",chinese:"",emoji:""},{word:"Book",chinese:"",emoji:""},{word:"Fish",chinese:"",emoji:""},{word:"Tree",chinese:"",emoji:""},{word:"House",chinese:"",emoji:""},{word:"Star",chinese:"",emoji:""},{word:"Moon",chinese:"",emoji:""}];function zM(){const n=Zp[Math.floor(Math.random()*Zp.length)],e=Math.random()>.5?"emoji-to-word":"word-to-emoji",t=Zp.filter(s=>s.word!==n.word).sort(()=>.5-Math.random()).slice(0,3),r=[n,...t].sort(()=>.5-Math.random());return{target:n,options:r,mode:e}}function BM(){const n=[];for(let e=0;e<2;e++)n.push({id:`math-${e}`,type:"math",data:jM()});for(let e=0;e<2;e++)n.push({id:`english-${e}`,type:"english",data:zM()});return n.push({id:"color-0",type:"color",data:UM()}),n.sort(()=>.5-Math.random())}const jA=C.createContext(void 0),JE="kidszone_daily_challenge";function $M({children:n}){const[e,t]=C.useState(()=>{const u=localStorage.getItem(JE),h=new Date().toDateString();if(u){const f=JSON.parse(u);if(f.date===h)return f}return{date:h,questions:[],currentIndex:0,score:0,isCompleted:!1,isStarted:!1}});C.useEffect(()=>{localStorage.setItem(JE,JSON.stringify(e))},[e]);const r=()=>{if(e.isStarted&&e.questions.length>0)return;const u=BM();t(h=>({...h,questions:u,isStarted:!0,currentIndex:0,score:0,isCompleted:!1}))},s=u=>{t(h=>{const f=u?h.score+20:h.score,p=h.currentIndex+1,v=p>=h.questions.length;return{...h,score:f,currentIndex:p,isCompleted:v}})},a=()=>{t({date:new Date().toDateString(),questions:[],currentIndex:0,score:0,isCompleted:!1,isStarted:!1})};return B.jsx(jA.Provider,{value:{state:e,startChallenge:r,answerQuestion:s,resetChallenge:a},children:n})}function VL(){const n=C.useContext(jA);if(n===void 0)throw new Error("useDailyChallenge must be used within a DailyChallengeProvider");return n}const HM=C.lazy(()=>Je(()=>import("./Home-Dfm4koRE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),qM=C.lazy(()=>Je(()=>import("./ColorGame-CuKSLGBk.js"),__vite__mapDeps([10,1,11,3,12,4,13,2]))),KM=C.lazy(()=>Je(()=>import("./MathGame-B2rF44Uq.js"),__vite__mapDeps([14,1,11,3,12,4,13,2,9]))),GM=C.lazy(()=>Je(()=>import("./EnglishGame-BRcD69bA.js"),__vite__mapDeps([15,1,11,3,12,4,13,2]))),WM=C.lazy(()=>Je(()=>import("./ShapeGame-DGqmRdur.js"),__vite__mapDeps([16,1,11,3,12,4,17,2]))),QM=C.lazy(()=>Je(()=>import("./MelodyGame-BgwqdqVi.js"),__vite__mapDeps([18,1,11,3,12,4,2]))),YM=C.lazy(()=>Je(()=>import("./ClockGame-CBNhzMjf.js"),__vite__mapDeps([19,1,11,3,12,4,2]))),JM=C.lazy(()=>Je(()=>import("./BopomofoGame-BxFdyDqF.js"),__vite__mapDeps([20,1,11,3,12,4,2]))),XM=C.lazy(()=>Je(()=>import("./EmotionGame-DS4oUusQ.js"),__vite__mapDeps([21,1,11,3,12,4,17,2]))),ZM=C.lazy(()=>Je(()=>import("./CodingGame-Ca6UZSSr.js"),__vite__mapDeps([22,1,11,3,12,4,2,23]))),eL=C.lazy(()=>Je(()=>import("./GardenGame-cE-8c9uv.js"),__vite__mapDeps([24,1,11,3,12,4,2,5]))),tL=C.lazy(()=>Je(()=>import("./MarketGame-BqYiYtvy.js"),__vite__mapDeps([25,1,11,3,12,4,2,8]))),nL=C.lazy(()=>Je(()=>import("./RecycleGame-BpCKviPV.js"),__vite__mapDeps([26,1,11,3,12,4,2,17]))),rL=C.lazy(()=>Je(()=>import("./MemoryGame-DeeGClC1.js"),__vite__mapDeps([27,1,11,3,12,4,2]))),iL=C.lazy(()=>Je(()=>import("./AnimalGame-kp77mh53.js"),__vite__mapDeps([28,1,11,3,12,4,13,2]))),sL=C.lazy(()=>Je(()=>import("./TrafficGame-C9BDvwov.js"),__vite__mapDeps([29,1,11,3,12,4,13,2]))),oL=C.lazy(()=>Je(()=>import("./BodyGame-C5SyPNta.js"),__vite__mapDeps([30,1,11,3,12,4,13,2]))),aL=C.lazy(()=>Je(()=>import("./FoodGame-DRlz8z-0.js"),__vite__mapDeps([31,1,11,3,12,4,13,2]))),lL=C.lazy(()=>Je(()=>import("./JobGame-ChBUBZfW.js"),__vite__mapDeps([32,1,11,3,12,4,13,2]))),uL=C.lazy(()=>Je(()=>import("./PuzzleGame-CCBpOIu0.js"),__vite__mapDeps([33,1,11,3,12,4,17]))),cL=C.lazy(()=>Je(()=>import("./DifferenceGame-Dhk-PDRP.js"),__vite__mapDeps([34,1,11,3,12,4]))),hL=C.lazy(()=>Je(()=>import("./SequenceGame-v0AAO-G6.js"),__vite__mapDeps([35,1,11,3,12,4,17]))),dL=C.lazy(()=>Je(()=>import("./SortingGame-DAcXNt9t.js"),__vite__mapDeps([36,1,11,3,12,4,17]))),fL=C.lazy(()=>Je(()=>import("./Scores-ER8OaKOl.js"),__vite__mapDeps([37,1,12,6,7,38]))),pL=C.lazy(()=>Je(()=>import("./Stickers-XsckYNMN.js"),__vite__mapDeps([39,1,17,40]))),mL=C.lazy(()=>Je(()=>import("./Certificates-BxYkyTzE.js"),__vite__mapDeps([41,1,4,2,38,40,42]))),gL=C.lazy(()=>Je(()=>import("./DailyChallenge-IwdpgoOG.js"),__vite__mapDeps([43,1,11,3,12,4,13,2,9]))),yL=C.lazy(()=>Je(()=>import("./DrawingGame-CVIVqKbA.js"),__vite__mapDeps([44,1,11,3,12,4,6,42]))),vL=C.lazy(()=>Je(()=>import("./MoleGame-DfnkOW6S.js"),__vite__mapDeps([45,1,11,3,12,4,23])));function _L(){const n="/kids/".replace(/\/$/,"");return B.jsx(C.Suspense,{fallback:B.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))]",children:B.jsx(GT,{className:"w-12 h-12 animate-spin text-[hsl(var(--macaron-purple-dark))]"})}),children:B.jsxs(PP,{children:[B.jsx(Ge,{path:n+"/",component:HM}),B.jsx(Ge,{path:n+"/scores",component:fL}),B.jsx(Ge,{path:n+"/stickers",component:pL}),B.jsx(Ge,{path:n+"/daily",component:gL}),B.jsx(Ge,{path:n+"/game/color",component:qM}),B.jsx(Ge,{path:n+"/game/math",component:KM}),B.jsx(Ge,{path:n+"/game/english",component:GM}),B.jsx(Ge,{path:n+"/game/shape",component:WM}),B.jsx(Ge,{path:n+"/game/melody",component:QM}),B.jsx(Ge,{path:n+"/game/clock",component:YM}),B.jsx(Ge,{path:n+"/game/bopomofo",component:JM}),B.jsx(Ge,{path:n+"/game/emotion",component:XM}),B.jsx(Ge,{path:n+"/game/coding",component:ZM}),B.jsx(Ge,{path:n+"/game/garden",component:eL}),B.jsx(Ge,{path:n+"/game/market",component:tL}),B.jsx(Ge,{path:n+"/game/recycle",component:nL}),B.jsx(Ge,{path:n+"/game/memory",component:rL}),B.jsx(Ge,{path:n+"/game/animal",component:iL}),B.jsx(Ge,{path:n+"/game/traffic",component:sL}),B.jsx(Ge,{path:n+"/game/body",component:oL}),B.jsx(Ge,{path:n+"/game/food",component:aL}),B.jsx(Ge,{path:n+"/game/job",component:lL}),B.jsx(Ge,{path:n+"/game/puzzle",component:uL}),B.jsx(Ge,{path:n+"/game/difference",component:cL}),B.jsx(Ge,{path:n+"/game/sequence",component:hL}),B.jsx(Ge,{path:n+"/game/sorting",component:dL}),B.jsx(Ge,{path:n+"/game/drawing",component:yL}),B.jsx(Ge,{path:n+"/game/mole",component:vL}),B.jsx(Ge,{path:n+"/certificates",component:mL}),B.jsx(Ge,{component:_b})]})})}function wL({children:n}){const{loading:e}=DM();return e?B.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[hsl(var(--macaron-yellow))]",children:B.jsx(GT,{className:"w-12 h-12 animate-spin text-[hsl(var(--macaron-purple-dark))]"})}):B.jsx(B.Fragment,{children:n})}function EL(){return B.jsx(YP,{client:ZP,children:B.jsxs(hb,{children:[B.jsx(j1,{}),B.jsx(OM,{children:B.jsx(MM,{children:B.jsx(FM,{children:B.jsx($M,{children:B.jsx(wL,{children:B.jsx(pb,{children:B.jsx(_L,{})})})})})})})]})})}eP.createRoot(document.getElementById("root")).render(B.jsx(EL,{}));export{kP as A,hg as B,IL as C,Ym as D,b_ as E,qn as F,Ed as G,CP as H,bP as I,hT as J,BP as K,xP as L,DP as M,Yt as N,fu as O,ln as P,KP as Q,t1 as R,GE as S,xL as T,TL as U,r1 as X,DL as a,zi as b,Cu as c,un as d,OL as e,Td as f,jM as g,VL as h,CR as i,B as j,Id as k,pR as l,Pt as m,Yn as n,jC as o,rP as p,Js as q,C as r,Ar as s,Jm as t,NL as u,IT as v,Lh as w,PL as x,wd as y,FP as z};
